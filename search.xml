<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[AndroidÊ∂àÊÅØÊú∫Âà∂‰πãHandlerËØ¶Ëß£]]></title>
    <url>%2Fposts%2F21eb5c30.html</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªã‰Ωú‰∏∫‰∏Ä‰∏™AndroidÂºÄÂèëËÄÖÔºåHandlerÁöÑÂ§ßÂêç‰Ω†‰∏ÄÂÆöÂê¨Ëøá„ÄÇÂÅöAndroidÂºÄÂèëËÇØÂÆöÁ¶ª‰∏çÂºÄHandlerÔºåÂÆÉÈÄöÂ∏∏Ë¢´Êàë‰ª¨Áî®Êù•ËøûÈÄö‰∏ªÁ∫øÁ®ãÂíåÂ≠êÁ∫øÁ®ã„ÄÇ ÂèØ‰ª•ËØ¥Âè™Ë¶ÅÊúâÂºÇÊ≠•ÁöÑÂú∞Êñπ‰∏ÄÂÆöÊúâHandler„ÄÇ ÈÇ£‰πàÔºå‰Ω†‰∫ÜËß£Ëøá‰∏∫‰ªÄ‰πàHandlerËÉΩËøûÈÄö‰∏ªÁ∫øÁ®ãÂíåÂ≠êÁ∫øÁ®ãÂêóÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰Ω†‰∫ÜËß£ËøáHandlerËÉåÂêéÁöÑÂéüÁêÜÂêóÔºü Â∞±ËÆ©Êú¨ÊñáÂ∏¶‰Ω†‰∫ÜËß£„ÄÇ HandlerÁöÑÂü∫Êú¨Áî®Ê≥ïÊåâÁÖßÊÉØ‰æãÔºåÊàë‰ª¨È¶ñÂÖàÁúã‰∏ãHandlerÁöÑ‰∏ÄËà¨Áî®Ê≥ïÔºö12345678910Handler mHandler = new Handler() &#123; @Override public void handleMessage(final Message msg) &#123; // Âú®ËøôÈáåÊé•ÂèóÂπ∂Â§ÑÁêÜÊ∂àÊÅØ &#125;&#125;;//ÂèëÈÄÅÊ∂àÊÅØmHandler.sendMessage(message);mHandler.post(runnable); ‰πüÂ∞±ÊòØÂàõÂª∫‰∏Ä‰∏™HandlerÂØπË±°ÔºåÂπ∂ÈáçÂÜôhandlerMessageÊñπÊ≥ïÔºåÁÑ∂ÂêéÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôË∞ÉÁî®sendMessageÊñπÊ≥ï‰º†ÂÖ•‰∏Ä‰∏™messageÂØπË±°ÔºåÊàñËÄÖË∞ÉÁî®postÊñπÊ≥ï‰º†ÂÖ•‰∏Ä‰∏™runnableÂØπË±°„ÄÇ ÈÇ£‰πàÊàë‰ª¨‰ªé‰ªñÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂºÄÂßãÁúãËµ∑Âêß„ÄÇ ‰ªéHandlerÊûÑÈÄ†ÊñπÊ≥ïÂÖ•Êâã1234public Handler() &#123; // -&gt;&gt; ÂàÜÊûê1.1 this(null, false);&#125; ÂàÜÊûê1.1 Handler # ÊûÑÈÄ†ÊñπÊ≥ï1234567891011121314151617181920212223242526272829/** * ÂàÜÊûê1.1ÔºöÂÆûÈôÖ‰∏äË∞ÉÁî®ÁöÑÂèàÊòØÂè¶‰∏Ä‰∏™ÊûÑÈÄ†ÊñπÊ≥ï */public Handler(@Nullable Callback callback, boolean async) &#123; if (FIND_POTENTIAL_LEAKS) &#123; // Ëøô‰∏™ÂèòÈáèÂ≠óÈù¢ÊÑèÊÄùÊòØÊâæÂà∞ÂÜÖÂ≠òÊ≥ÑÊºèÔºå // ‰ΩÜÊòØÊï¥‰∏™Handler‰∏≠Èô§‰∫ÜËøôÂùó‰ª•ÂèäÂÆö‰πâËøô‰∏™ÂèòÈáè‰∏∫false‰πãÂ§ñÔºå // Â∞±Ê≤°ÊúâÂÖ∂‰ªñÂú∞Êñπ‰ΩøÁî®Âà∞ËøáËøô‰∏™ÂèòÈáè‰∫ÜÔºåÊâÄ‰ª•ËøôÂùóÊàë‰πü‰∏çÂ§™ÊáÇËøô‰∏™ÂèòÈáèÊòØÊÄé‰πàÂèò‰∏∫trueÁöÑ final Class&lt;? extends Handler&gt; klass = getClass(); if ((klass.isAnonymousClass() || klass.isMemberClass() || klass.isLocalClass()) &amp;&amp; (klass.getModifiers() &amp; Modifier.STATIC) == 0) &#123; Log.w(TAG, "The following Handler class should be static or leaks might occur: " + klass.getCanonicalName()); &#125; &#125; // -&gt;&gt; ÂàÜÊûê1.2 mLooper = Looper.myLooper(); // -&gt;&gt; ÂàÜÊûê1.3 if (mLooper == null) &#123; throw new RuntimeException( "Can't create handler inside thread " + Thread.currentThread() + " that has not called Looper.prepare()"); &#125; // Ëé∑ÂèñÂØπË±°ÁöÑmQueueÂ±ûÊÄßÔºåmQueueÂ∞±ÊòØMessageQueue mQueue = mLooper.mQueue; mCallback = callback; mAsynchronous = async;&#125; ÂàÜÊûê1.2 Looper # myLooper()1234567/** * ÂàÜÊûê1.2ÔºöLooper.myLopper() * ÂÆûÈôÖ‰∏äË∞ÉÁî®ÁöÑÊòØThreadLocalÁöÑgetÊñπÊ≥ïÔºåÁÑ∂ÂêéËøîÂõûËØ•Á∫øÁ®ãÁöÑLooperÂØπË±° */public static @Nullable Looper myLooper() &#123; return sThreadLocal.get();&#125; ThreadLocalÊòØ‰∏Ä‰∏™Êï∞ÊçÆÂ≠òÂÇ®Á±ªÔºå‰ªñÁöÑÁâπÂà´‰πãÂ§ÑÂú®‰∫é‰ªñÊòØÁ∫øÁ®ãÈó¥Áã¨Á´ãÁöÑÔºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™Á∫øÁ®ãÊîæÂÖ•Âà∞ThreadLocalÁöÑÊï∞ÊçÆÔºåÂÖ∂ÂÆÉÁ∫øÁ®ãÊòØËé∑Âèñ‰∏çÂà∞ÁöÑ„ÄÇsThreadLocalÂ∞±ÊòØËé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑLooperÂØπË±°„ÄÇËØ¶ÁªÜÂèØËßÅÊàë‰πãÂâçÁöÑÂçöÂÆ¢„ÄÇ ÂàÜÊûê1.3 Looper # prepare()‰∏∫‰ªÄ‰πàËØ¥Â¶ÇÊûúmLooper‰∏∫Á©∫Â∞±ÊäõÂºÇÂ∏∏Âë¢ÔºåËøôÊòØÂõ†‰∏∫‰∏Ä‰∏™HandlerÂøÖÈ°ªÂíå‰∏Ä‰∏™LooperÁªëÂÆöÔºåÂπ∂‰∏îË¶ÅÂÖàÂàùÂßãÂåñLooperÊâçËÉΩÂéªÂàùÂßãÂåñHandler„ÄÇÂàùÂßãÂåñLooperÂ∞±ÈÄöËøáLooperÁöÑprepareÊñπÊ≥ï„ÄÇ1234567891011121314/** * ÂàÜÊûê1.3ÔºöLooper.prepare() */public static void prepare() &#123; prepare(true);&#125;private static void prepare(boolean quitAllowed) &#123; if (sThreadLocal.get() != null) &#123; throw new RuntimeException("Only one Looper may be created per thread"); &#125; // -&gt;&gt; ÂàÜÊûê1.4 sThreadLocal.set(new Looper(quitAllowed));&#125; Ëøô‰∏™ÊñπÊ≥ïÂíåmyLooperÊñπÊ≥ïÁ±ª‰ººÔºåÂ∞±ÊòØÈÄöËøáThreadLocalËÆæÁΩÆLooper„ÄÇ ÂàÜÊûê1.4 Looper # ÊûÑÈÄ†ÊñπÊ≥ï1234567/** * ÂàÜÊûê1.4ÔºöLooperÁöÑÊûÑÈÄ†ÊñπÊ≥ï */private Looper(boolean quitAllowed) &#123; mQueue = new MessageQueue(quitAllowed); mThread = Thread.currentThread();&#125; LooperÁöÑÊûÑÈÄ†ÊñπÊ≥ïÊòØÁßÅÊúâÁöÑÔºå‰πüÂ∞±ÊòØËØ¥Â§ñÁïåÂπ∂‰∏çËÉΩÁõ¥Êé•ÂàõÂª∫LooperÊñπÊ≥ïÔºåÂøÖÈ°ªÈÄöËøáLooper.prepareÊñπÊ≥ïÊù•ÂàõÂª∫LooperÂØπË±°ÔºåËøôÊ†∑‰πüÂ∞±Êñπ‰æø‰∫Ü‰øùËØÅ‰∏Ä‰∏™Á∫øÁ®ãÂè™ËÉΩÊúâ‰∏Ä‰∏™LooperÂØπË±°„ÄÇ Âú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™MessageQueueÂØπË±°„ÄÇËøô‰∏™ÂØπË±°Â∞±ÊòØÁî®Êù•Â≠òÊîæÊ∂àÊÅØÁöÑÊ∂àÊÅØÈòüÂàó„ÄÇÂÖ≥‰∫éMessageQueueÊàë‰ª¨ÂêéÈù¢ÂÜçÊù•ËÆ≤„ÄÇ Ê∂àÊÅØÊòØÂ¶Ç‰ΩïÂ≠òÊîæÁöÑ‰∏äÈù¢Â∞±ÊòØHandlerÂíåLooperÁöÑ‰∏Ä‰∏™ÊûÑÈÄ†ÊñπÂºèÔºåÊûÑÈÄ†ÂÆåÊàêÂêéÔºåÊàë‰ª¨Â∞±Ë¶ÅÂÖ≥Ê≥®HandlerÊòØÂ¶Ç‰ΩïÊääÊ∂àÊÅØÊîæÂÖ•MessageQueue‰∏≠ÁöÑÔºå‰ª•ÂèäÊòØÂ¶Ç‰Ωï‰ªéMessageQueue‰∏≠ÂèñÂá∫ÁöÑ„ÄÇ ‰∏äÈù¢Êàë‰ª¨Âú®ËÆ≤HandlerÁöÑÂü∫Êú¨Áî®Ê≥ïÁöÑÊó∂ÂÄôÔºåËÆ≤Âà∞ËøásendMessageÊñπÊ≥ïÂíåpostÊñπÊ≥ï„ÄÇÊàë‰ª¨ÂÖàÊù•Áúã‰∏ãËøô‰∏§‰∏™ÊñπÊ≥ïÔºö Handler # sendMessage() &amp; post()ÂÖ∂ÂÆûËøôÂùóÂÖà‰∏ç‰∏äÂÖ∑‰ΩìÁöÑÊñπÊ≥ïÂÆûÁé∞ÔºåÂÖàËØ¥‰∏Ä‰∏ã‰ªñ‰ª¨ÁöÑÊñπÊ≥ïË∞ÉÁî®ÊµÅÁ®ãÔºö123456789sendMessage() -&gt; sendMessageDelayed() -&gt; sendMessageAtTime() -&gt; enqueueMessage()post() -&gt; sendMessageDelayed() -&gt; sendMessageAtTime() -&gt; enqueueMessage() ÂèØ‰ª•ÁúãÂà∞ÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÈÉΩ‰ºöË∞ÉÁî®Á´ãÈ©¨Ë∞ÉÁî®sendMessageDelayed():12345678public final boolean sendMessageDelayed(@NonNull Message msg, long delayMillis) &#123; // ÈªòËÆ§ÈÉΩ‰º†ÂÖ•0 if (delayMillis &lt; 0) &#123; delayMillis = 0; &#125; // -&gt;&gt; ÂàÜÊûê2.1 return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);&#125; ÂàÜÊûê2.1 Handler # sendMessageAtTime()1234567891011121314151617/** * ÂàÜÊûê2.1ÔºösendMessageAtTime() * ‰º†ÂÖ•ÂèÇÊï∞Ôºö * msgÔºöÈúÄË¶Å‰º†ÈÄíÁöÑÊ∂àÊÅØ * uptimeMillisÔºöÊõ¥Êñ∞Êó∂Èó¥Ôºå‰πüÂ∞±ÊòØÁ≥ªÁªü‰ªéÂºÄÊú∫Âà∞ÁõÆÂâçÁªèËøáÁöÑÊó∂ÂÄô + delayMillis(‰πüÂ∞±ÊòØ0) */public boolean sendMessageAtTime(@NonNull Message msg, long uptimeMillis) &#123; MessageQueue queue = mQueue; if (queue == null) &#123; RuntimeException e = new RuntimeException( this + " sendMessageAtTime() called with no mQueue"); Log.w("Looper", e.getMessage(), e); return false; &#125; // -&gt;&gt; ÂàÜÊûê2.2 return enqueueMessage(queue, msg, uptimeMillis);&#125; ÂàÜÊûê2.2 Handler # enqueueMessage()1234567891011121314/** * ÂàÜÊûê2.2ÔºöenqueueMessage() */private boolean enqueueMessage(@NonNull MessageQueue queue, @NonNull Message msg, long uptimeMillis) &#123; msg.target = this; msg.workSourceUid = ThreadLocalWorkSource.getUid(); if (mAsynchronous) &#123; msg.setAsynchronous(true); &#125; // -&gt;&gt; ËøôÂùóÂ∞±Â∞ÜÊ∂àÊÅØÂ≠òÊîæÂà∞MessageQueueÈòüÂàó‰∏≠Âéª return queue.enqueueMessage(msg, uptimeMillis);&#125; ÈÇ£‰πàÊ∂àÊÅØÂ∞±ÊàêÂäüÁöÑ‰ªéHandler‰∏≠Ë¢´Â≠òÂÖ•‰∫ÜMessageQueueÔºåÈÇ£‰πàÊ∂àÊÅØ‰ªÄ‰πàÊó∂ÂÄô‰ªéMessageQueue‰∏≠Ë¢´Ë∞ÉÂá∫Êù•Âë¢? Ê∂àÊÅØÊòØÂ¶Ç‰ΩïÂ≠òÊîæÁöÑLooper # loop()LooperÈáåÈù¢Êúâ‰∏Ä‰∏™loopÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Áúã‰∏ãËøô‰∏™ÊñπÊ≥ï:123456789101112131415161718192021222324252627282930313233343536373839404142434445public static void loop() &#123; // Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑLooperÂØπË±° final Looper me = myLooper(); if (me == null) &#123; throw new RuntimeException("No Looper; Looper.prepare() wasn't called on this thread."); &#125; // Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑMessageQueue final MessageQueue queue = me.mQueue; // ...ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å // Ê≠ªÂæ™ÁéØ for (;;) &#123; // ‰ªéÊ∂àÊÅØÈòüÂàó‰∏≠ÂèñÂá∫‰∏Ä‰∏™Ê∂àÊÅØ // -&gt;&gt; ÂàÜÊûê3.1 Message msg = queue.next(); // might block // Â¶ÇÊûúÂèñÂá∫ÁöÑÊ∂àÊÅØ‰∏∫Á©∫ÔºåÂ∞±ÈÄÄÂá∫„ÄÇ // ‰ΩÜÊòØÊàë‰πãÂâçËØ¥Ëøô‰∏™Âæ™ÁéØÊòØ‰∏™Ê≠ªÂæ™ÁéØÔºü // ËøôÊòØÂõ†‰∏∫ËôΩÁÑ∂‰ºöÊúâËøô‰∏™ifÂèØËÉΩ‰ºöÂØºËá¥Âæ™ÁéØÈÄÄÂá∫Ôºå‰ΩÜÊòØÈÄöËøánextÊñπÊ≥ïÂèñÂá∫Ê∂àÊÅØÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØ‰∫ÜÔºånextÊñπÊ≥ï‰ºöÈòªÂ°ûÁ∫øÁ®ãÔºåÁõ¥Âà∞ÊúâÊñ∞ÁöÑÊ∂àÊÅØËøõÊù• // Ëøô‰πüÂ∞±ÊÑèÂë≥ÁùÄÔºå‰∏ÄËà¨Ê≠£Â∏∏ÁöÑÈÅçÂéÜMessageQueueÊÉÖÂÜµ‰∏ãÔºåÊòØ‰∏ç‰ºöÊúâmsg==nullÁöÑ„ÄÇ // ‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Ë∞ÉÁî®‰∫ÜLooperÁöÑquitÊàñËÄÖquitSafelyÊñπÊ≥ïÔºåËøô‰∏™Êó∂ÂÄônext‰ºöËøîÂõûnullÔºåÂ∞±‰ºöÈÄÄÂá∫Âæ™ÁéØ„ÄÇ if (msg == null) &#123; // No message indicates that the message queue is quitting. return; &#125; // ...ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å try &#123; // ‰º†ÁªôHandlerÂéªÂ§ÑÁêÜÊ∂àÊÅØ // -&gt;&gt; ÂàÜÊûê3.2 msg.target.dispatchMessage(msg); if (observer != null) &#123; observer.messageDispatched(token, msg); &#125; dispatchEnd = needEndTime ? SystemClock.uptimeMillis() : 0; &#125; catch (Exception exception) &#123; // ...ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å &#125; finally &#123; // ...ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å &#125; // ...ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å &#125;&#125; ÂàÜÊûê3.1 MessageQueue # next()123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132/** * ÂàÜÊûê3.1 MessageQueue.next() * ‰ΩúÁî®Ôºö * Áî®‰∫éÂèñÂá∫Ê∂àÊÅØÈòüÂàó‰∏≠ÁöÑ‰∏ã‰∏Ä‰∏™Ê∂àÊÅØ * PSÔºö * ÁúãÂà∞Ëøô‰∏™next‰Ω†ÊàñËÆ∏Â∞±Â∫îËØ•ÊáÇ‰∫ÜÔºåÂÖ∂ÂÆûËøô‰∏™MessageQueueÂπ∂‰∏çÊòØÂí±‰ª¨È°æÂêçÊÄù‰πâ‰ª•‰∏∫ÁöÑÈÇ£‰∏™QueueÔºåÂÖ∂ÂÆû‰ªñÁöÑÂÆûÁé∞ÊòØ‰∏Ä‰∏™ÈìæË°® */Message next() &#123; // Return here if the message loop has already quit and been disposed. // This can happen if the application tries to restart a looper after quit // which is not supported. // Â¶ÇÊûúLooperÂ∑≤ÁªèÈÄÄÂá∫ÔºàË∞ÉÁî®‰∫ÜdisposeÊñπÊ≥ïÂêémPtr=0Ôºâ final long ptr = mPtr; if (ptr == 0) &#123; return null; &#125; // ËÆ∞ÂΩïÁ©∫Èó≤Êó∂ÈúÄË¶ÅÂ§ÑÁêÜÁöÑIdleHandlerÊï∞Èáè int pendingIdleHandlerCount = -1; // -1 only during first iteration // -&gt;&gt; ÂàÜÊûê3.2.1 int nextPollTimeoutMillis = 0; for (;;) &#123; if (nextPollTimeoutMillis != 0) &#123; // Âà∑Êñ∞BinderÂëΩ‰ª§ Binder.flushPendingCommands(); &#125; // Ë∞ÉÁî®nativeÂ±ÇÔºåÂ¶ÇÊûúËøîÂõû‰∫ÜÂ∞±ËØ¥ÊòéÂèØ‰ª•‰ªéÈòüÂàó‰∏≠ÂèñÂá∫‰∏ÄÊù°Ê∂àÊÅØ // Â¶ÇÊûúÊ∂àÊÅØÈòüÂàó‰∏≠Ê≤°ÊúâÊ∂àÊÅØÂ∞±ÈòªÂ°ûÁ≠âÂæÖÔºåÈù†enqueueMessage()‰∏≠ÊúÄÂêé‰∏ÄÊ≠•Ë∞ÉÁî®nativeWake()Êù•Âî§ÈÜíËØ•ÊñπÊ≥ï nativePollOnce(ptr, nextPollTimeoutMillis); synchronized (this) &#123; // Try to retrieve the next message. Return if found. // ÂæóÂà∞Êó∂Èó¥-‰ªéÊâãÊú∫ÂºÄÊú∫Âà∞Áé∞Âú®Ë∞ÉÁî®ÁªèËøáÁöÑÊó∂Èó¥ final long now = SystemClock.uptimeMillis(); Message prevMsg = null; // ÂæóÂà∞ÈòüÂ§¥ Message msg = mMessages; // Âà§Êñ≠Ëøô‰∏™messageÊòØ‰∏çÊòØbarrier if (msg != null &amp;&amp; msg.target == null) &#123; // Stalled by a barrier. Find the next asynchronous message in the queue. // Âæ™ÁéØÈÅçÂéÜÂá∫Á¨¨‰∏Ä‰∏™ÂºÇÊ≠•Ê∂àÊÅØÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜbarrierÔºåÂ∞±‰∏çËÉΩÂÜçÊâßË°åÂêåÊ≠•Ê∂àÊÅØ‰∫ÜÔºåÈô§ÈùûÂ∞ÜbarrierÁßªÈô§„ÄÇ // ‰ΩÜÊòØÂºÇÊ≠•Ê∂àÊÅØ‰∏çÂèóÂΩ±ÂìçÁÖßÊ†∑ÊâßË°åÔºåÊâÄ‰ª•Âú®ËøôÈáåË¶ÅÊâæÂà∞ÂºÇÊ≠•Ê∂àÊÅØ do &#123; prevMsg = msg; msg = msg.next; &#125; while (msg != null &amp;&amp; !msg.isAsynchronous()); &#125; if (msg != null) &#123; // Â¶ÇÊûúÂàÜÂèëÊó∂Èó¥ËøòÊ≤°Âà∞ if (now &lt; msg.when) &#123; // Next message is not ready. Set a timeout to wake up when it is ready. // Êõ¥Êñ∞ÊâßË°åÊó∂Èó¥ÁÇπ nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.MAX_VALUE); &#125; else &#123; // Êó∂Èó¥Âà∞‰∫Ü // Got a message. mBlocked = false; if (prevMsg != null) &#123; prevMsg.next = msg.next; &#125; else &#123; mMessages = msg.next; &#125; msg.next = null; if (DEBUG) Log.v(TAG, "Returning message: " + msg); msg.markInUse(); return msg; &#125; &#125; else &#123; // Â¶ÇÊûúÊ≤°ÊúâÂÖ∂‰ªñÊ∂àÊÅØ‰∫Ü nextPollTimeoutMillis = -1; &#125; // Process the quit message now that all pending messages have been handled. // Ê≠£Âú®ÈÄÄÂá∫‰∫ÜÔºåËøîÂõûnull„ÄÇ if (mQuitting) &#123; dispose(); return null; &#125; // If first time idle, then get the number of idlers to run. // Idle handles only run if the queue is empty or if the first message // in the queue (possibly a barrier) is due to be handled in the future. // Âà§Êñ≠Â¶ÇÊûúËøôÊòØÁ¨¨‰∏ÄÊ¨°Âæ™ÁéØÔºàÂè™ÊúâÁ¨¨‰∏ÄÊ¨°Âæ™ÁéØÊó∂‰ºöÂ∞è‰∫é0ÔºâÂπ∂‰∏îÈòüÂàó‰∏∫Á©∫ÊàñËøòÊ≤°Âà∞Â§ÑÁêÜÁ¨¨‰∏Ä‰∏™ÁöÑÊó∂Èó¥ if (pendingIdleHandlerCount &lt; 0 &amp;&amp; (mMessages == null || now &lt; mMessages.when)) &#123; pendingIdleHandlerCount = mIdleHandlers.size(); &#125; if (pendingIdleHandlerCount &lt;= 0) &#123; // No idle handlers to run. Loop and wait some more. // ÁΩÆ‰∏∫ÈòªÂ°ûÁä∂ÊÄÅ mBlocked = true; continue; &#125; // ÂàùÂßãÂåñÊúÄÂ∞ëÂõõ‰∏™Ë¶ÅË¢´ÊâßË°åÁöÑIdleHandler if (mPendingIdleHandlers == null) &#123; mPendingIdleHandlers = new IdleHandler[Math.max(pendingIdleHandlerCount, 4)]; &#125; mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers); &#125; // Run the idle handlers. // We only ever reach this code block during the first iteration. // ÂºÄÂßãÂæ™ÁéØÊâßË°åÊâÄÊúâÁöÑIdleHandlerÂπ∂Ê†πÊçÆËøîÂõûÂÄºÂà§Êñ≠ÊòØÂê¶‰øùÁïô for (int i = 0; i &lt; pendingIdleHandlerCount; i++) &#123; final IdleHandler idler = mPendingIdleHandlers[i]; mPendingIdleHandlers[i] = null; // release the reference to the handler boolean keep = false; try &#123; keep = idler.queueIdle(); &#125; catch (Throwable t) &#123; Log.wtf(TAG, "IdleHandler threw exception", t); &#125; if (!keep) &#123; synchronized (this) &#123; mIdleHandlers.remove(idler); &#125; &#125; &#125; // IdleHandlerÂè™‰ºöÂú®Ê∂àÊÅØÈòüÂàóÈòªÂ°û‰πãÂâçÊâßË°å‰∏ÄÊ¨°Ôºå‰πãÂêéÂÜç‰∏ç‰ºöÊâßË°åÔºåÁü•ÈÅì‰∏ã‰∏ÄÊ¨°Ë¢´Ë∞ÉÁî®next()„ÄÇ pendingIdleHandlerCount = 0; // While calling an idle handler, a new message could have been delivered // so go back and look again for a pending message without waiting. // ÂΩìÊâßË°å‰∫ÜIdleHandlerÂêéÔºå‰ºöÊ∂àËÄó‰∏ÄÊÆµÊó∂Èó¥ÔºåÂà∫Ê≠ªÂèØËÉΩÂ∑≤ÁªèÂà∞ËææÊâßË°åÊ∂àÊÅØÁöÑÊó∂Èó¥‰∫ÜÔºåÊâÄ‰ª•ÈáçÁΩÆËØ•ÂèòÈáèÂÜçÈáçÊñ∞Ê£ÄÊü•Êó∂Èó¥„ÄÇ nextPollTimeoutMillis = 0; &#125;&#125; ÂàÜÊûê3.2.1nextPollTimeoutMillisÊòØ‰∏Ä‰∏™ÂèòÈáèÔºåÁî®‰∫éË°®Á§∫Êó∂Èó¥„ÄÇ Â¶ÇÊûúnextPollTimeoutMillis = -1ÔºåÂàô‰∏ÄÁõ¥‰ºöÈòªÂ°û‰∏ç‰ºöË∂ÖÊó∂ Â¶ÇÊûúnextPollTimeoutMillis = 0Ôºå‰∏ç‰ºöÈòªÂ°ûÔºåÁ´ãÂç≥ËøîÂõû Â¶ÇÊûúnextPollTimeoutMillis &gt; 0ÔºåÊúÄÈïøÈòªÂ°ûnextPollTimeoutMillisÊØ´ÁßíÔºåÂ¶ÇÊûúÊúüÈó¥ÊúâÁ®ãÂ∫èÂî§ÈÜí‰ºöÁ´ãÂç≥ËøîÂõû ÂàÜÊûê3.2 Handler # dispatchMessage()12345678910111213141516171819/** * ÂàÜÊûê3.2 Handler.dispatchMessage() */public void dispatchMessage(@NonNull Message msg) &#123; // ÂÖàÊü•ÁúãmessageËá™Â∑±callbackÊúâÊ≤°ÊúâË¢´ËÆæÁΩÆÔºåÂ¶ÇÊûúÊúâÈÇ£Â∞±‰∫§ÁªôËá™Â∑±ÁöÑcallbackÂéªÂ§ÑÁêÜ if (msg.callback != null) &#123; handleCallback(msg); &#125; else &#123; // Â¶ÇÊûúÊ≤°ÊúâmessageËá™Â∑±ÁöÑcallbackÔºåÈÇ£Â∞±ÁúãÁúãHandlerÊúâÊ≤°ÊúâcallbackÔºå // Â¶ÇÊûúÊúâÔºåÈÇ£Â∞±‰∫§ÁªôHandlerÁöÑCallbackÂéªÂ§ÑÁêÜÔºå if (mCallback != null) &#123; if (mCallback.handleMessage(msg)) &#123; return; &#125; &#125; // Â¶ÇÊûúHandlerËá™Â∑±ËøòÊ≤°ÊúâCallbackÔºåÈÇ£Â∞±HandlerËá™Â∑±Â§ÑÁêÜ handleMessage(msg); &#125;&#125; ‰ªé‰∏äÈù¢ÂèØ‰ª•ÂæóÂà∞‰ª•‰∏ã‰ø°ÊÅØÔºöÂ§ÑÁêÜÊ∂àÊÅØÁöÑÊñπÂºèÊúâ3‰∏™ÔºåÂàÜÂà´‰∏∫MessageËá™Â∑±ÁöÑCallback„ÄÅHandlerÁöÑCallback‰ª•ÂèäHandlerËá™Â∑±„ÄÇ ‰ºòÂÖàÁ∫ßÊúÄÈ´òÁöÑÊòØMessageËá™Â∑±ÁöÑcallbackÔºåËøôÊòØ‰∏Ä‰∏™RunnableÂØπË±°ÔºåÊàë‰ª¨Áî®Handler post‰∏Ä‰∏™RunnableÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊääËøô‰∏™RunnableËµãÂÄº‰∏™‰∏Ä‰∏™MessageÂØπË±°ÁöÑcallbackÔºåÁÑ∂ÂêéÊääMessageÂØπË±°ÂèëÈÄÅÁªôMessageQueue„ÄÇ ‰ºòÂÖàÁ∫ßÁ¨¨‰∫åÁöÑÊòØHandlerËá™Â∑±ÁöÑmCallbackÔºåÂú®Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™HandlerÂØπË±°ÁöÑ‰ΩøÁî®ÂèØ‰ª•‰º†‰∏Ä‰∏™Handler.CallbackÂØπË±°ÁªôÂÆÉÂπ∂ÂÆûÁé∞CallbackÈáåÁöÑhandleMessage(msg)ÊñπÊ≥ïÔºå‰Ωú‰∏∫Êàë‰ª¨ÁöÑÊ∂àÊÅØÂ§ÑÁêÜÊñπÊ≥ï„ÄÇ ‰ºòÂÖàÁ∫ßÊúÄ‰ΩéÁöÑÊòØHandlerËá™Â∑±ÁöÑhandleMessage(msg)ÊñπÊ≥ïÔºåËøô‰πüÊòØÊàë‰ª¨ÊúÄÂ∏∏Áî®ÁöÑÊ∂àÊÅØÂ§ÑÁêÜÊñπÊ≥ï„ÄÇ ÊµÅÁ®ãÂõæÔºàÂõæÁâáÊù•Ëá™‰∫éÊ≠§Â§ÑÔºâ Âª∂‰º∏1. ‰∏∫‰ªÄ‰πàËØ¥HandlerÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÂè™Ë¶Å‰Ω†Áî®Android StudioÔºåÂπ∂Âú®ActivityÈáåÈù¢Áî®ËøáHandlerÔºåÈÉΩ‰ºöÊ≥®ÊÑèÂà∞‰∏Ä‰∏™Âú∞ÊñπÔºåÂ∞±ÊòØÂ¶ÇÊûú‰Ω†Áõ¥Êé•ÂàõÂª∫HandlerÂØπË±°Âπ∂ÈáçÂÜôhandleMessageÊñπÊ≥ïÁöÑËØùÔºåAS‰∏ÄÊääÈÉΩ‰ºöÊä•‰∏Ä‰∏™warningÔºö123This Handler class should be static or leaks might occur.ËØ•Â§ÑÁêÜÁ®ãÂ∫èÁ±ªÂ∫î‰∏∫ÈùôÊÄÅÔºåÂê¶ÂàôÂèØËÉΩÂèëÁîüÊ≥ÑÊºè Â∞±ÊòØËØ¥Â¶ÇÊûúÁõ¥Êé•ËøôÊ†∑ÂÜôÂ∞±ÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Âú®‰∏çÊòØActivityÁöÑÁ±ªÈáåÈù¢ËøôÊ†∑ÂÜôÂèà‰∏ç‰ºöÊä•warningÔºåËøôÊòØ‰∏∫‰ªÄ‰πàÂë¢Ôºü Âõ†‰∏∫HandlerÂÖÅËÆ∏Êàë‰ª¨ÂèëÈÄÅÂª∂Êó∂Ê∂àÊÅØÔºå‰ΩÜÊòØÂ¶ÇÊûúÂú®Âª∂Êó∂ÊúüÈó¥ÔºåÁî®Êà∑ÂÖ≥Èó≠‰∫ÜActivity„ÄÇËøôÊó∂MessageÊåÅÊúâHandlerÔºåËÄåÂèàÂõ†‰∏∫JavaÁöÑÁâπÊÄßÔºåÂÜÖÈÉ®Á±ª‰ºöÊåÅÊúâÂ§ñÈÉ®Á±ªÔºå‰πüÂ∞±ÊòØËØ¥Handler‰ºöÊåÅÊúâActivityÔºåËøôÊ†∑Â∞±ÂØºËá¥ActivityÊ≥ÑÊºè‰∫Ü„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÂ∞±ÊòØÊääHandlerÂÆö‰πâ‰∏∫ÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºåÂπ∂Âú®ÂÜÖÈÉ®ÊåÅÊúâActivityÁöÑÂº±ÂºïÁî®ÔºåÂπ∂ÂèäÊó∂ÁßªÈô§ÊâÄÊúâÊ∂àÊÅØÔºö123456789101112private static class SafeHandler extends Handler &#123; private WeakReference&lt;MainActivity&gt; ref; public SafeHandler(MainActivity activity) &#123; this.ref = new WeakReference&lt;&gt;(activity); &#125; @Override public void handleMessage(@NonNull Message msg) &#123; &#125;&#125; 2. ‰∏∫‰ªÄ‰πà‰∏ªÁ∫øÁ®ã‰∏çÈúÄË¶ÅÂàõÂª∫LooperÔºåËÄå‰∏î‰∏ªÁ∫øÁ®ãÁöÑLooper‰∏çËÆ∏ÈÄÄÂá∫Âõ†‰∏∫Âú®‰∏ªÁ∫øÁ®ãÂàõÂª∫Êó∂‰ºöËá™Âä®Ë∞ÉÁî®LooperÁöÑprepareÊñπÊ≥ïÔºåÂπ∂Ë∞ÉÁî®loopÊñπÊ≥ï„ÄÇÊàë‰ª¨Â∞±ÂèØ‰ª•Áõ¥Êé•Âú®‰∏ªÁ∫øÁ®ã‰ΩøÁî®Handler„ÄÇ ËÄå‰∏∫‰ªÄ‰πà‰∏çËÉΩÈÄÄÂá∫ÔºåÊòØÂõ†‰∏∫Â¶ÇÊûúLooperÈÄÄÂá∫‰∫ÜÔºåÈÇ£‰πà‰∏ªÁ∫øÁ®ãÂ∞±‰ºöÊåÇÊéâ„ÄÇAndroid‰πü‰∏çËÆ∏‰Ω†ÊâãÂä®ÈÄÄÂá∫‰∏ªÁ∫øÁ®ãÁöÑLooper„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Handler</tag>
        <tag>ThreadLocal</tag>
        <tag>Ê∫êÁ†Å</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÊ∂àÊÅØÊú∫Âà∂‰πãThreadLocal]]></title>
    <url>%2Fposts%2F64f0a9f6.html</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãThreadLocalÊòØ‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÈÉ®ÁöÑÊï∞ÊçÆÂÇ®Â≠òÁ±ªÔºåÈÄöËøá‰ªñÂèØ‰ª•Âú®ÊåáÂÆöÁöÑÁ∫øÁ®ã‰∏≠Â≠òÂÇ®Êï∞ÊçÆ„ÄÇÊï∞ÊçÆÂ≠òÂÇ®‰ª•ÂêéÔºåÂè™ÊúâÂú®ÊåáÂÆöÁöÑÁ∫øÁ®ã‰∏≠ÂèØ‰ª•Ëé∑ÂèñÂà∞Â≠òÂÇ®ÁöÑÊï∞ÊçÆÔºåÂØπ‰∫éÂÖ∂‰ªñÁ∫øÁ®ãÊù•ËØ¥ÂàôÊó†Ê≥ïËé∑Âèñ„ÄÇ Âú®Ê∫êÁ†Å‰∏≠ÊòØËøôÊ†∑ÂÜôÁöÑÔºö This class provides thread-local variables. These variables differ fromtheir normal counterparts in that each thread that accesses one (via its{@code get} or {@code set} method) has its own, independently initializedcopy of the variable. {@code ThreadLocal} instances are typically privatestatic fields in classes that wish to associate state with a thread (e.g.,a user ID or Transaction ID). ÁøªËØëËøáÊù•ÔºåÂ∞±ÊòØËØ¥Ëøô‰∏™Á±ªÊèê‰æõÁ∫øÁ®ãÂ±ÄÈÉ®ÂèòÈáèÔºå‰ΩÜÊòØ‰ªñÂíåÊôÆÈÄöÂèòÈáè‰∏çÂêåÔºå‰ªñÊòØÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑ‰∏Ä‰∏™Áã¨Á´ãÂàùÂßãÂåñÁöÑÂèòÈáèÂâØÊú¨„ÄÇËÄåÈÄöËøáget()Âíåset()ÊñπÊ≥ïÂ∞±ËÉΩÂæóÂà∞ÂíåËÆæÁΩÆÂΩìÂâçÁ∫øÁ®ãÂØπÂ∫îÁöÑËØ•ÂèòÈáèÁöÑÂÄº„ÄÇ Á§∫‰æãÊé•‰∏ãÊù•Êàë‰ª¨Áúã‰∏Ä‰∏ãÁ§∫‰æã‰ª£Á†ÅÔºåÂú®‰∏Ä‰∏™ActivityÁöÑonCreateÊñπÊ≥ï‰∏≠ÂÜôÂÖ•Â¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334public class MainActivity extends AppCompatActivity &#123; // ÈúÄË¶ÅÊ∑ªÂä†ÁöÑ‰ª£Á†Å private static final String TAG = "MainActivity"; // ÈúÄË¶ÅÊ∑ªÂä†ÁöÑ‰ª£Á†Å private ThreadLocal&lt;Boolean&gt; mBooleanThreadLocal = new ThreadLocal&lt;&gt;(); @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); // ÈúÄË¶ÅÊ∑ªÂä†ÁöÑ‰ª£Á†Å mBooleanThreadLocal.set(true); Log.d(TAG, "[Thread#main]mBooleanThreadLocal=" + mBooleanThreadLocal.get()); // ÈúÄË¶ÅÊ∑ªÂä†ÁöÑ‰ª£Á†Å new Thread("Thread#1") &#123; @Override public void run() &#123; mBooleanThreadLocal.set(false); Log.d(TAG, "[Thread#1]mBooleanThreadLocal=" + mBooleanThreadLocal.get()); &#125; &#125;.start(); // ÈúÄË¶ÅÊ∑ªÂä†ÁöÑ‰ª£Á†Å new Thread("Thread#2") &#123; @Override public void run() &#123; Log.d(TAG, "[Thread#2]mBooleanThreadLocal=" + mBooleanThreadLocal.get()); &#125; &#125;.start(); &#125;&#125; Ê†πÊçÆÊàë‰ª¨‰∏äÈù¢ËØ¥ÁöÑThreadLocalÁöÑÁâπÊÄßÔºåÂ∞±ÂèØ‰ª•ÁåúÂá∫Â∫îËØ•‰ºöËæìÂá∫Ôºö123[Thread#main]mBooleanThreadLocal=true[Thread#1]mBooleanThreadLocal=false[Thread#2]mBooleanThreadLocal=null ÁÑ∂ÂêéËøêË°åËæìÂá∫ÁöÑÁªìÊûúÔºå‰∏çÂá∫ÊâÄÊñôÔºåÊûúÁÑ∂Âíå‰∏äÈù¢‰∏ÄÊ†∑„ÄÇ ‰ΩøÁî®Âú∫ÊôØ‰∏ÄËà¨Êù•ËØ¥ÔºåÂΩìÊüê‰∫õÊï∞ÊçÆÊòØ‰ª•Á∫øÁ®ã‰Ωú‰∏∫‰ΩúÁî®ÂüüÂπ∂‰∏î‰∏çÂêåÁ∫øÁ®ãÂÖ∑Êúâ‰∏çÂêåÁöÑÊï∞ÊçÆÂâØÊú¨ÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ThreadLocal„ÄÇÊØîÂ¶ÇÂØπ‰∫éHandlerÊù•ËØ¥ÔºåÂÆÉÈúÄË¶ÅËé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑLooperÔºåÂæàÊòæÁÑ∂LooperÁöÑ‰ΩúÁî®ÂüüÂ∞±ÊòØÁ∫øÁ®ãÂπ∂‰∏î‰∏çÂêåÁ∫øÁ®ãÂÖ∑Êúâ‰∏çÂêåÁöÑLooperÔºåËøô‰∏™Êó∂ÂÄôÈÄöËøáThreadLocalÂ∞±ÂèØ‰ª•ËΩªÊùæÂÆûÁé∞LooperÂú®Á∫øÁ®ã‰∏≠ÁöÑÂ≠òÂèñÔºåÂ¶ÇÊûú‰∏çÈááÁî®ThreadLocalÔºåÈÇ£‰πàÁ≥ªÁªüÂ∞±ÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÂìàÂ∏åË°®‰æõHandlerÊü•ÊâæÊåáÂÆöÁ∫øÁ®ãÁöÑLooperÔºåËøôÊ†∑‰∏ÄÊù•Â∞±ÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™Á±ª‰ºº‰∫éLooperManagerÁöÑÁ±ª‰∫ÜÔºå‰ΩÜÊòØÁ≥ªÁªüÂπ∂Ê≤°ÊúâËøô‰πàÂÅöËÄåÊòØÈÄâÊã©‰∫ÜThreadLocalÔºåËøôÂ∞±ÊòØThreadLocalÁöÑÂ•ΩÂ§Ñ„ÄÇ Âè¶‰∏Ä‰∏™‰ΩøÁî®Âú∫ÊôØÂ∞±ÊòØÂ§çÊùÇÈÄªËæë‰∏ãÁöÑÂØπË±°‰º†ÈÄí„ÄÇÊØîÂ¶ÇÁõëÂê¨Âô®ÁöÑ‰º†ÈÄíÔºåÊúâ‰∫õÊó∂ÂÄô‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ÁöÑ‰ªªÂä°Ëøá‰∫éÂ§çÊùÇÔºåËøôÂèØËÉΩË°®Áé∞‰∏∫ÂáΩÊï∞Ë∞ÉÁî®Ê†àÊØîËæÉÊ∑±‰ª•Âèä‰ª£Á†ÅÂÖ•Âè£ÁöÑÂ§öÊ†∑ÊÄßÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèàÈúÄË¶ÅÁõëÂê¨Âô®ËÉΩÂ§üË¥ØÁ©øÊï¥‰∏™Á∫øÁ®ãÁöÑÊâßË°åËøáÁ®ãÔºåËøô‰∏™Êó∂ÂÄôÂèØ‰ª•ÊÄé‰πàÂÅöÂë¢ÔºüÂÖ∂ÂÆûÂ∞±ÂèØ‰ª•ÈááÁî®ThreadLocalÔºåÈááÁî®ThreadLocalÂèØ‰ª•ËÆ©ÁõëÂê¨Âô®‰Ωú‰∏∫Á∫øÁ®ãÂÜÖÁöÑÂÖ®Â±ÄÂØπË±°ËÄåÂ≠òÂú®ÔºåÂú®Á∫øÁ®ãÂÜÖÈÉ®Âè™Ë¶ÅÈÄöËøágetÊñπÊ≥ïÂ∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞ÁõëÂê¨Âô®„ÄÇËÄåÂ¶ÇÊûú‰∏çÈááÁî®ThreadLocalÔºåÈÇ£‰πàÊàë‰ª¨ËÉΩÊÉ≥Âà∞ÁöÑÂèØËÉΩÊòØÂ¶Ç‰∏ã‰∏§ÁßçÊñπÊ≥ïÔºöÁ¨¨‰∏ÄÁßçÊñπÊ≥ïÊòØÂ∞ÜÁõëÂê¨Âô®ÈÄöËøáÂèÇÊï∞ÁöÑÂΩ¢ÂºèÂú®ÂáΩÊï∞Ë∞ÉÁî®Ê†à‰∏≠ËøõË°å‰º†ÈÄíÔºåÁ¨¨‰∫åÁßçÊñπÊ≥ïÂ∞±ÊòØÂ∞ÜÁõëÂê¨Âô®‰Ωú‰∏∫ÈùôÊÄÅÂèòÈáè‰æõÁ∫øÁ®ãËÆøÈóÆ„ÄÇ‰∏äËø∞Ëøô‰∏§ÁßçÊñπÊ≥ïÈÉΩÊòØÊúâÂ±ÄÈôêÊÄßÁöÑ„ÄÇÁ¨¨‰∏ÄÁßçÊñπÊ≥ïÁöÑÈóÆÈ¢òÊó∂ÂΩìÂáΩÊï∞Ë∞ÉÁî®Ê†àÂæàÊ∑±ÁöÑÊó∂ÂÄôÔºåÈÄöËøáÂáΩÊï∞ÂèÇÊï∞Êù•‰º†ÈÄíÁõëÂê¨Âô®ÂØπË±°ËøôÂá†‰πéÊòØ‰∏çÂèØÊé•ÂèóÁöÑÔºåËøô‰ºöËÆ©Á®ãÂ∫èÁöÑËÆæËÆ°ÁúãËµ∑Êù•ÂæàÁ≥üÁ≥ï„ÄÇÁ¨¨‰∫åÁßçÊñπÊ≥ïÊòØÂèØ‰ª•Êé•ÂèóÁöÑÔºå‰ΩÜÊòØËøôÁßçÁä∂ÊÄÅÊòØ‰∏çÂÖ∑ÊúâÂèØÊâ©ÂÖÖÊÄßÁöÑÔºåÊØîÂ¶ÇÂ¶ÇÊûúÂêåÊó∂Êúâ‰∏§‰∏™Á∫øÁ®ãÂú®ÊâßË°åÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊèê‰æõ‰∏§‰∏™ÈùôÊÄÅÁöÑÁõëÂê¨Âô®ÂØπË±°ÔºåÂ¶ÇÊûúÊúâ10‰∏™Á∫øÁ®ãÂú®Âπ∂ÂèëÊâßË°åÂë¢ÔºüÊèê‰æõ10‰∏™ÈùôÊÄÅÁöÑÁõëÂê¨Âô®ÂØπË±°ÔºüËøôÊòæÁÑ∂ÊòØ‰∏çÂèØÊÄùËÆÆÁöÑÔºåËÄåÈááÁî®ThreadLocalÊØè‰∏™ÁõëÂê¨Âô®ÂØπË±°ÈÉΩÂú®Ëá™Â∑±ÁöÑÁ∫øÁ®ãÂÜÖÈÉ®Â≠òÂÇ®ÔºåÊ†πÊçÆÂ∞±‰∏ç‰ºöÊúâÊñπÊ≥ï2ÁöÑËøôÁßçÈóÆÈ¢ò„ÄÇ Ê∫êÁ†Å‰Ωú‰∏∫‰∏Ä‰∏™Â≠òÂÇ®Êï∞ÊçÆÁöÑÁ±ªÔºåÂÖ≥ÈîÆÁÇπÂ∞±Âú®getÂíåsetÊñπÊ≥ï„ÄÇ ThreadLocal # set123456789101112131415161718192021222324252627282930public void set(T value) &#123; // Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ã Thread t = Thread.currentThread(); // ÂÆûÈôÖ‰∏äÂ≠òÂÇ®Êï∞ÊçÆÁöÑÁªìÊûÑÁ±ªÂûã // -&gt;&gt; ÂàÜÊûê1 ThreadLocalMap map = getMap(t); // Â¶ÇÊûúÂ≠òÂú®MapÂ∞±Áõ¥Êé•setÔºåÊ≤°ÊúâÂ∞±ÂàõÂª∫mapÂπ∂set if (map != null) map.set(this, value); else // -&gt;&gt; ÂàÜÊûê2 createMap(t, value);&#125;/** * ÂàÜÊûê1ÔºögetMap()ÊñπÊ≥ï */ThreadLocalMap getMap(Thread t) &#123; // ËøîÂõû‰º†ÂÖ•Á∫øÁ®ãÁöÑThreadLocalMap return t.threadLocals;&#125;/** * ÂàÜÊûê2ÔºöcreateMap()ÊñπÊ≥ï */void createMap(Thread t, T firstValue) &#123; // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑThreadLocalMapÂπ∂Â∞ÜÂÄº‰º†ÂÖ• t.threadLocals = new ThreadLocalMap(this, firstValue);&#125; ÂΩì‰Ω†Ë∞ÉÁî®setÊñπÊ≥ïÊó∂ÔºåÂ∞±‰ºöÊãøÂà∞ÂΩìÂâçÁ∫øÁ®ãÂπ∂ÂæóÂà∞ÂΩìÂâçÁ∫øÁ®ãÁöÑThreadLocalMapÔºåÂ¶ÇÊûúmap‰∏ç‰∏∫Á©∫ÔºåÈÇ£Â∞±Áõ¥Êé•ÊääÂÄº‰º†ÂÖ•mapÔºõÂ¶ÇÊûúmap‰∏∫Á©∫ÈÇ£Â∞±Êñ∞Âª∫‰∏Ä‰∏™ÂÜç‰º†ÂÄº„ÄÇ ËøôÂùóÊàë‰ª¨Â∞±ËÉΩÊáÇ‰∏∫Âï•ThreadLocalËÉΩÂè™Êìç‰ΩúËá™Â∑±Á∫øÁ®ãÈáåÈù¢ÁöÑ‰∏úË•ø‰∫ÜÔºåÂõ†‰∏∫ÊâÄÊúâThreadLocalÈÉΩ‰∏é‰ªñÁ∫øÁ®ã‰∏≠ÁöÑThreadLocalMapÊúâÂÖ≥„ÄÇ ÈÇ£Êàë‰ª¨ÂÜçÊù•ÁúãÁúãThreadLocalMap„ÄÇ ThreadLocalMapÂ±ûÊÄßÂèòÈáèÂÖàÊù•Áúã‰∏ãThreadLocalMapÁöÑ‰∏Ä‰∫õÂèòÈáè„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445// Â≠òÂÇ®Êï∞ÊçÆÁöÑÁªìÊûÑ‰∏∫EntryÔºåËÄå‰∏îkeyÊòØÂº±ÂºïÁî®static class Entry extends WeakReference&lt;ThreadLocal&lt;?&gt;&gt; &#123; Object value; Entry(ThreadLocal&lt;?&gt; k, Object v) &#123; super(k); value = v; &#125;&#125;// tableÁöÑÂàùÂßãÂÆπÈáèprivate static final int INITIAL_CAPACITY = 16;// tableÁî®‰∫éÂ≠òÂÇ®Êï∞ÊçÆprivate Entry[] table;// private int size = 0;// Ë¥üËΩΩÂõ†Â≠êÔºåÁî®‰∫éÊâ©ÂÆπprivate int threshold; // Default to 0// ËÆæÁΩÆË¥üËΩΩÂõ†Â≠êÔºåÈªòËÆ§‰∏∫ÂΩìÂâçÂ§ßÂ∞èÁöÑ2/3private void setThreshold(int len) &#123; threshold = len * 2 / 3;&#125;// ‰∏ã‰∏Ä‰∏™Á¥¢Âºïprivate static int nextIndex(int i, int len) &#123; return ((i + 1 &lt; len) ? i + 1 : 0);&#125;// ‰∏ä‰∏Ä‰∏™Á¥¢Âºïprivate static int prevIndex(int i, int len) &#123; return ((i - 1 &gt;= 0) ? i - 1 : len - 1);&#125;// ÊûÑÈÄ†ÂáΩÊï∞ThreadLocalMap(ThreadLocal&lt;?&gt; firstKey, Object firstValue) &#123; table = new Entry[INITIAL_CAPACITY]; int i = firstKey.threadLocalHashCode &amp; (INITIAL_CAPACITY - 1); table[i] = new Entry(firstKey, firstValue); size = 1; setThreshold(INITIAL_CAPACITY);&#125; ThreadLocalMap # set()1234567891011121314151617181920212223242526272829private void set(ThreadLocal&lt;?&gt; key, Object value) &#123; Entry[] tab = table; int len = tab.length; // Ê†πÊçÆÂìàÂ∏åÁÆóÊ≥ïÊâæÂà∞ÂØπÂ∫îËäÇÁÇπ int i = key.threadLocalHashCode &amp; (len-1); //Âà§Êñ≠ÂΩìÂâç‰ΩçÁΩÆÊòØÂê¶ÊúâÊï∞ÊçÆÔºåÂ¶ÇÊûúkeyÂÄºÁõ∏ÂêåÔºåÂ∞±ÊõøÊç¢ÔºåÂ¶ÇÊûú‰∏çÂêåÂàôÊâæÁ©∫‰ΩçÊîæÊï∞ÊçÆ„ÄÇ for (Entry e = tab[i]; e != null; e = tab[i = nextIndex(i, len)]) &#123; ThreadLocal&lt;?&gt; k = e.get(); //Âà§Êñ≠keyÂÄºÁõ∏ÂêåÂê¶ÔºåÂ¶ÇÊûúÊòØÁõ¥Êé•Ë¶ÜÁõñ ÔºàÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºâ if (k == key) &#123; e.value = value; return; &#125; //Â¶ÇÊûúÂΩìÂâçEntryÂØπË±°ÂØπÂ∫îKeyÂÄº‰∏∫null,ÂàôÊ∏ÖÁ©∫ÊâÄÊúâKey‰∏∫nullÁöÑÊï∞ÊçÆÔºàÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºâ if (k == null) &#123; replaceStaleEntry(key, value, i); return; &#125; &#125; //‰ª•‰∏äÊÉÖÂÜµÈÉΩ‰∏çÊª°Ë∂≥ÔºåÁõ¥Êé•Ê∑ªÂä†ÔºàÁ¨¨‰∏âÁßçÊÉÖÂÜµÔºâ tab[i] = new Entry(key, value); int sz = ++size; if (!cleanSomeSlots(i, sz) &amp;&amp; sz &gt;= threshold) rehash();&#125; ÂÖàÊ†πÊçÆkeyÈÄöËøáÂìàÂ∏åÁÆóÊ≥ïÂæóÂà∞ÂØπÂ∫îÁöÑiÔºåÁÑ∂ÂêéÂÜçÂºÄÂßã‰ªéËøô‰∏™iÂºÄÂßãÈÅçÂéÜÔºåËøõË°åÂà§Êñ≠ÔºåÁî±‰∫é‰∏ãÈù¢‰∏â‰∏™Âà§Êñ≠ÊØîËæÉÂ§çÊùÇÔºåÊâÄ‰ª•Êàë‰ª¨ÂàÜÂºÄÊù•ËÆ≤„ÄÇ Á¨¨‰∏ÄÁßçÊÉÖÂÜµËøôÁßçÊÉÖÂÜµ‰∏ãÔºåkeyÂÄºÁõ∏ÂêåÔºåÂ∞±ÈúÄË¶ÅÂ∞ÜvalueÊõøÊç¢Êéâ„ÄÇ Á¨¨‰∫åÁßçÊÉÖÂÜµËøôÁßçÊÉÖÂÜµÊØîËæÉÂ§çÊùÇÔºåÂÖàÁúã‰∏ã‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114private void replaceStaleEntry(ThreadLocal&lt;?&gt; key, Object value, int staleSlot) &#123; Entry[] tab = table; int len = tab.length; Entry e; int slotToExpunge = staleSlot; // ÂÖàÂæÄÂâçËøõË°åÂà§Êñ≠ÔºåÁúãÊòØÂê¶ËÉΩÊâæÂà∞Á©∫ÁöÑËäÇÁÇπÔºåÊâæÂà∞‰∫ÜÂ∞±Êõ¥Êñ∞slotToExpunge for (int i = prevIndex(staleSlot, len); (e = tab[i]) != null; i = prevIndex(i, len)) if (e.get() == null) slotToExpunge = i; // ÂÜçÂæÄÂêéÈÅçÂéÜ for (int i = nextIndex(staleSlot, len); (e = tab[i]) != null; i = nextIndex(i, len)) &#123; ThreadLocal&lt;?&gt; k = e.get(); // Â¶ÇÊûúÂΩìÂâçiËäÇÁÇπÁöÑkeyÂíå‰º†ÂÖ•ÁöÑkeyÁõ∏ÂêåÔºåÈÇ£Â∞±ËøõË°åÊõøÊç¢ if (k == key) &#123; e.value = value; tab[i] = tab[staleSlot]; tab[staleSlot] = e; /* * Â¶ÇÊûúÂú®Êï¥‰∏™Êâ´ÊèèËøáÁ®ã‰∏≠ÔºàÂåÖÊã¨ÂáΩÊï∞‰∏ÄÂºÄÂßãÁöÑÂêëÂâçÊâ´Êèè‰∏éi‰πãÂâçÁöÑÂêëÂêéÊâ´ÊèèÔºâ * ÊâæÂà∞‰∫Ü‰πãÂâçÁöÑÊó†ÊïàslotÂàô‰ª•ÈÇ£‰∏™‰ΩçÁΩÆ‰Ωú‰∏∫Ê∏ÖÁêÜÁöÑËµ∑ÁÇπÔºå * Âê¶ÂàôÂàô‰ª•ÂΩìÂâçÁöÑi‰Ωú‰∏∫Ê∏ÖÁêÜËµ∑ÁÇπ */ if (slotToExpunge == staleSlot) slotToExpunge = i; // ËøõË°å‰∏ÄÊ¨°ËøûÁª≠ÊÆµÁöÑÊ∏ÖÁêÜÔºåÂÜçÂÅö‰∏ÄÊ¨°ÂêØÂèëÂºèÊ∏ÖÁêÜ // -&gt;&gt; ÂàÜÊûê1 // -&gt;&gt; ÂàÜÊûê2 cleanSomeSlots(expungeStaleEntry(slotToExpunge), len); return; &#125; // Â¶ÇÊûúÂΩìÂâçÁöÑslotÂ∑≤ÁªèÊó†ÊïàÔºåÂπ∂‰∏îÂêëÂâçÊâ´ÊèèËøáÁ®ã‰∏≠Ê≤°ÊúâÊó†ÊïàslotÔºåÂàôÊõ¥Êñ∞slotToExpunge‰∏∫ÂΩìÂâç‰ΩçÁΩÆ if (k == null &amp;&amp; slotToExpunge == staleSlot) slotToExpunge = i; &#125; // Â¶ÇÊûúkeyÂú®table‰∏≠‰∏çÂ≠òÂú®ÔºåÂàôÂú®ÂéüÂú∞Êîæ‰∏Ä‰∏™Âç≥ÂèØ tab[staleSlot].value = null; tab[staleSlot] = new Entry(key, value); // Âú®Êé¢ÊµãËøáÁ®ã‰∏≠Â¶ÇÊûúÂèëÁé∞‰ªª‰ΩïÊó†ÊïàslotÔºåÂàôÂÅö‰∏ÄÊ¨°Ê∏ÖÁêÜÔºàËøûÁª≠ÊÆµÊ∏ÖÁêÜ+ÂêØÂèëÂºèÊ∏ÖÁêÜÔºâ // -&gt;&gt; ÂàÜÊûê1 // -&gt;&gt; ÂàÜÊûê2 if (slotToExpunge != staleSlot) cleanSomeSlots(expungeStaleEntry(slotToExpunge), len);&#125;/** * ÂàÜÊûê1ÔºöexpungeStaleEntry() * ‰ΩúÁî®ÔºöÊääËøûÁª≠ÊÆµÂÜÖÊâÄÊúâÊó†ÊïàÁöÑslotÈÉΩÊ∏ÖÁêÜ‰∏ÄÈÅç */private int expungeStaleEntry(int staleSlot) &#123; Entry[] tab = table; int len = tab.length; tab[staleSlot].value = null; tab[staleSlot] = null; size--; Entry e; int i; for (i = nextIndex(staleSlot, len); (e = tab[i]) != null; i = nextIndex(i, len)) &#123; ThreadLocal&lt;?&gt; k = e.get(); if (k == null) &#123; e.value = null; tab[i] = null; size--; &#125; else &#123; int h = k.threadLocalHashCode &amp; (len - 1); if (h != i) &#123; tab[i] = null; while (tab[h] != null) h = nextIndex(h, len); tab[h] = e; &#125; &#125; &#125; return i;&#125;/** * ÂàÜÊûê2ÔºöcleanSomeSlots() * ‰ΩúÁî®ÔºöÈÅçÂéÜÂà†Èô§ÊâÄÊúâ‰ΩçÁΩÆ‰∏ãkey==nullÁöÑÊï∞ÊçÆ */private boolean cleanSomeSlots(int i, int n) &#123; boolean removed = false; Entry[] tab = table; int len = tab.length; do &#123; i = nextIndex(i, len); Entry e = tab[i]; if (e != null &amp;&amp; e.get() == null) &#123; n = len; removed = true; // -&gt;&gt; ÂàÜÊûê3 i = expungeStaleEntry(i); &#125; &#125; while ( (n &gt;&gt;&gt;= 1) != 0); return removed;&#125; Á§∫ÊÑèÂõæÂ¶Ç‰∏ãÔºö Á¨¨‰∏âÁßçÊÉÖÂÜµÁ¨¨‰∏âÁßçÊÉÖÂÜµÂ∞±ÊòØ‰∏äÈù¢‰∏§ÁßçÊÉÖÂÜµÈÉΩ‰∏çÊª°Ë∂≥ÁöÑÊÉÖÂÜµÔºå‰πüÂ∞±ÊòØÈúÄË¶ÅÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ‰∏∫nullÁöÑÊó∂ÂÄôÔºåÂ∞±Áõ¥Êé•Êâ©Â§ßThreadLocalMapÔºåÁÑ∂ÂêéÂÜçÊèíÂÖ•Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950tab[i] = new Entry(key, value);int sz = ++size;// -&gt;&gt; cleanSomeSlotsËßÅ‰∏äÈù¢Á¨¨‰∫åÁßçÊÉÖÂÜµÁöÑÂàÜÊûê2if (!cleanSomeSlots(i, sz) &amp;&amp; sz &gt;= threshold) // -&gt;&gt; ÂàÜÊûê1 rehash();/** * ÂàÜÊûê1Ôºörehash() */private void rehash() &#123; // -&gt;&gt; expungeStaleEntriesËßÅ‰∏äÈù¢Á¨¨‰∫åÁßçÊÉÖÂÜµÁöÑÂàÜÊûê1 expungeStaleEntries(); if (size &gt;= threshold - threshold / 4) // -&gt;&gt; ÂàÜÊûê2 resize();&#125;/** * ÂàÜÊûê2Ôºöresize() */private void resize() &#123; Entry[] oldTab = table; int oldLen = oldTab.length; int newLen = oldLen * 2; Entry[] newTab = new Entry[newLen]; int count = 0; for (int j = 0; j &lt; oldLen; ++j) &#123; Entry e = oldTab[j]; if (e != null) &#123; ThreadLocal&lt;?&gt; k = e.get(); if (k == null) &#123; e.value = null; // Help the GC &#125; else &#123; int h = k.threadLocalHashCode &amp; (newLen - 1); while (newTab[h] != null) h = nextIndex(h, newLen); newTab[h] = e; count++; &#125; &#125; &#125; setThreshold(newLen); size = count; table = newTab;&#125; ThreadLocalMap # getEntry()12345678910111213141516171819202122232425262728293031private Entry getEntry(ThreadLocal&lt;?&gt; key) &#123; int i = key.threadLocalHashCode &amp; (table.length - 1); Entry e = table[i]; if (e != null &amp;&amp; e.get() == key) return e; else // -&gt;&gt; ÂàÜÊûê1 return getEntryAfterMiss(key, i, e);&#125;/** * ÂàÜÊûê1ÔºögetEntryAfterMiss() */private Entry getEntryAfterMiss(ThreadLocal&lt;?&gt; key, int i, Entry e) &#123; Entry[] tab = table; int len = tab.length; // ‰ªéÂΩìÂâçÂæÄÂêé‰∏Ä‰∏™‰∏™ËøõË°åÈÅçÂéÜÔºåÁõ¥Ëá≥ÊâæÂà∞ÂíåkeyÁõ∏Á≠âÁöÑÁÑ∂ÂêéËøîÂõû while (e != null) &#123; ThreadLocal&lt;?&gt; k = e.get(); if (k == key) return e; if (k == null) expungeStaleEntry(i); else i = nextIndex(i, len); e = tab[i]; &#125; return null;&#125; ThreadLocalMap # remove()123456789101112131415private void remove(ThreadLocal&lt;?&gt; key) &#123; Entry[] tab = table; int len = tab.length; int i = key.threadLocalHashCode &amp; (len-1); for (Entry e = tab[i]; e != null; e = tab[i = nextIndex(i, len)]) &#123; if (e.get() == key) &#123; // ÊòæÂºèÊñ≠ÂºÄÂº±ÂºïÁî® e.clear(); expungeStaleEntry(i); return; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Handler</tag>
        <tag>ThreadLocal</tag>
        <tag>Ê∫êÁ†Å</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ViewÁöÑ‰∫ã‰ª∂ÂàÜÂèë]]></title>
    <url>%2Fposts%2Fbfb9e8a9.html</url>
    <content type="text"><![CDATA[‰ªéÊàëÂàöËøõÂÆûÈ™åÂÆ§ÁöÑÊó∂ÂÄôÔºåÂ≠¶ÈïøÂ≠¶ÂßêÂ∞±ËØ¥ViewÁöÑ‰∫ã‰ª∂ÂàÜÂèëÊú∫Âà∂ÊòØAndroidÈáåÈù¢‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÂÜÖÂÆπÔºåË¶ÅÊàë‰ª¨Â•ΩÂ•ΩÂ≠¶„ÄÇ ‰ΩÜÊòØÈöèÁùÄËá™Â∑±ÂØπAndroid‰∫ÜËß£ÁöÑÊ∑±ÂÖ•ÔºåË∂äÂèëËßâÂæóËøô‰∏™‰∏úË•øÂæàÊúâÂøÖË¶Å‰∫ÜËß£‰∏ãÔºåÊ≠£Â•ΩAndroidËâ∫ÊúØÂºÄÂèëÊé¢Á¥¢‰πüÁúãÂà∞‰∫ÜViewËøôÂùóÔºå‰πüÁúã‰∫ÜÈÉ≠ÈúñÂ§ßÁ•ûÁöÑÂçöÂÆ¢ÂíåÂè¶‰∏Ä‰ΩçÂ§ßÁ•ûÁöÑÂçöÂÆ¢ÔºåÊâÄ‰ª•Â∞±Â•ΩÂ•ΩÂ≠¶‰π†‰∫Ü‰∏ÄÁï™ÔºåÂπ∂ÂÜô‰∫ÜÊ≠§ÂçöÂÆ¢„ÄÇ 1. MotionEventÂú®ÂºÄÂßãËÆ≤View‰∫ã‰ª∂ÂàÜÂèë‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊù•‰∫ÜËß£‰∏ãMotionEvent„ÄÇ Ëøô‰∏™Â∞±ÊòØÊâãÊåáËß£Èô§Âà∞Â±èÂπïÂêéÊâÄ‰∫ßÁîüÁöÑ‰∏ÄÁ≥ªÂàó‰∫ã‰ª∂Ôºå‰∏ªË¶Å‰∏∫‰∏Ä‰∏ã‰∏â‰∏™ÂÖ∏Âûã‰∫ã‰ª∂Ôºö ACTION_DOWM‚Äî‚ÄîÊâãÊåáÂàöÊé•Ëß¶Â±èÂπï ACTION_MOVE‚Äî‚ÄîÊâãÊåáÂú®Â±èÂπï‰∏äÁßªÂä® ACTION_UP‚Äî‚ÄîÊâãÊåá‰ªéÂ±èÂπï‰∏äÊùæÂºÄ ACTION_CANCEL‚Äî‚ÄîÁªìÊùü‰∫ã‰ª∂ÔºàÈùû‰∫∫‰∏∫Ôºâ Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºå‰∏ÄÊ¨°ÊâãÊåáËß¶Êë∏Â±èÂπïÁÑ∂ÂêéÁ¶ªÂºÄÂèØËÉΩËß¶Âèë‰∏Ä‰∏ã‰∏§ÁßçÊÉÖÂÜµÔºö ÁÇπÂáªÂ±èÂπïÁÑ∂ÂêéÊùæÂºÄÔºöACTION_DOWN -&gt; ACTION_UP ÁÇπÂáªÂ±èÂπïÁÑ∂ÂêéÊªëÂä®ÂÜçÊùæÂºÄÔºöACTION_DOWN -&gt; ACTION_MOVE -&gt; ACTION_UP ‰∏ãÈù¢‰∏Ä‰∏™ÂõæÁâáÊù•Ê¶ÇÊã¨‰∏ãÔºö 2. ‰∫ã‰ª∂ÂàÜÂèë‰º†ÈÄíËßÑÂàô‰ºóÊâÄÂë®Áü•ÔºåAndroidUIÊòØÁî±Activity„ÄÅViewGroup„ÄÅViewÂèäÂÖ∂Ê¥æÁîüÁ±ªÁªÑÊàêÁöÑ„ÄÇ Â§ßËá¥Á§∫ÊÑèÂõæÂ¶Ç‰∏ãÔºö ÂÖ∂‰∏≠Ôºö ActivityÔºöÊéßÂà∂ÁîüÂëΩÂë®ÊúüÊàñËÄÖÂ§ÑÁêÜ‰∫ã‰ª∂ ViewGroupÔºö‰∏ÄÁªÑViewÊàñËÄÖÂ§ö‰∏™ViewÁöÑÈõÜÂêà„ÄÇ‰πüÊòØÂ∏ÉÂ±ÄLayoutÁöÑÂü∫Á±ª„ÄÇ‰ΩÜÊòØÁâπÂà´ÁöÑÊòØÔºå‰ªñ‰πüÈõÜÊàêËá™View„ÄÇ ViewÔºöÊâÄÊúâUIÁªÑ‰ª∂ÁöÑÂü∫Á±ª ‰ªé‰∏äÂõæÊàë‰ª¨Â∞±ÂèØ‰ª•ÁúãÂá∫Êù•Ôºå‰∫ã‰ª∂ÂàÜÂèëÁöÑÈ°∫Â∫èÂ∞±ÊòØÔºöActivity -&gt; ViewGroup -&gt; View„ÄÇ‰πüÂ∞±ÊòØËØ¥‰∏Ä‰∏™ÁÇπÂáª‰∫ã‰ª∂‰∫ßÁîüÔºåÂÖà‰∫§Áî±ActivityÔºåÂÜç‰º†Âà∞ViewGroupÔºåÂÜç‰º†Âà∞View„ÄÇËøô‰∏™ËøáÁ®ã‰∏≠Âè™Ë¶ÅÊúâ‰∏Ä‰∏™ÈÉ®ÂàÜËØ¥Ë¶ÅÊã¶Êà™ÔºåÂ∞±‰∏ç‰ºöÂÜçÁªßÁª≠ÂæÄ‰∏ã‰º†ÈÄí„ÄÇ 3. ‰∫ã‰ª∂ÂàÜÂèëÁöÑÊ†∏ÂøÉÊñπÊ≥ïÂÖ∂ÂÆûÊó∂Èó¥ÂàÜÂèëÁöÑÊ†∏ÂøÉÊñπÊ≥ïÂæàÁÆÄÂçïÔºåÂ∞±Áî±‰∏â‰∏™ÊñπÊ≥ïÁªÑÊàêÔºö public boolean dispatchTouchEvent(MotionEvent ev)Áî®Êù•ËøõË°å‰∫ã‰ª∂ÁöÑÂàÜÂèë„ÄÇÂ¶ÇÊûú‰∫ã‰ª∂ËÉΩÂ§ü‰º†ÈÄíÁªôÂΩìÂâçViewÔºåÈÇ£‰πàÊ≠§ÊñπÊ≥ï‰∏ÄÂÆö‰ºöË¢´Ë∞ÉÁî®ÔºåËøîÂõûÁªìÊûúÂèóÂΩìÂâçViewÁöÑonTouchEventÂíå‰∏ãÁ∫ßViewÁöÑdispatchTouchEventÊñπÊ≥ïÁöÑÂΩ±ÂìçÔºåË°®Á§∫ÊòØÂê¶Ê∂àËÄóÂΩìÂâç‰∫ã‰ª∂„ÄÇ public boolean onInterceptTouchEvent(MotionEvent event)Âú®dispatchTouchEventÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®ÔºåÁî®Êù•Âà§Êñ≠ÊòØÂê¶Êã¶Êà™Êüê‰∏™‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÂΩìÂâçViewÊã¶Êà™‰∫ÜÊüê‰∏™‰∫ã‰ª∂ÔºåÈÇ£‰πàÂú®Âêå‰∏Ä‰∫ã‰ª∂Â∫èÂàóÂΩì‰∏≠ÔºåÊ≠§ÊñπÊ≥ï‰∏ç‰ºöÂÜçÊ¨°Ë¢´Ë∞ÉÁî®ÔºåËøîÂõûÁªìÊûúË°®Á§∫ÊòØÂê¶Êã¶Êà™ÂΩìÂâç‰∫ã‰ª∂„ÄÇÔºàÂè™ÊúâViewGroup‰∏≠ÊâçÊúâÊ≠§ÊñπÊ≥ïÔºåView‰∏≠Ê≤°ÊúâÔºâ public boolean onTouchEvent(MotionEvent event)Âú®dispatchTouchEventÊñπÊ≥ï‰∏≠Ë∞ÉÁî®ÔºåÁî®Êù•Â§ÑÁêÜÁÇπÂáª‰∫ã‰ª∂ÔºåËøîÂõûÁªìÊûúË°®Á§∫ÊòØÂê¶Ê∂àËÄóÂΩìÂâç‰∫ã‰ª∂ÔºåÂ¶ÇÊûú‰∏çÊ∂àËÄóÔºåÂàôÂú®Âêå‰∏Ä‰∏™‰∫ã‰ª∂Â∫èÂàó‰∏≠ÔºåÂΩìÂâçViewÊó†Ê≥ïÂÜçÊ¨°Êé•Êî∂Âà∞‰∫ã‰ª∂„ÄÇ ‰∏â‰∏™ÊñπÊ≥ïÈó¥ÁöÑÂÖ≥Á≥ªÂèØ‰ª•Êåâ‰∏ãÈù¢‰∏ÄÊÆµ‰º™‰ª£Á†ÅË°®Á§∫ÔºöÔºàÂèÇËÄÉÁöÑ‰ª£Á†ÅÔºâ1234567891011121314151617181920212223242526/** * ÁÇπÂáª‰∫ã‰ª∂‰∫ßÁîüÂêé */ // Ê≠•È™§1ÔºöË∞ÉÁî®dispatchTouchEventÔºàÔºâ public boolean dispatchTouchEvent(MotionEvent ev) &#123; boolean consume = false; //‰ª£Ë°® ÊòØÂê¶‰ºöÊ∂àË¥π‰∫ã‰ª∂ // Ê≠•È™§2ÔºöÂà§Êñ≠ÊòØÂê¶Êã¶Êà™‰∫ã‰ª∂ if (onInterceptTouchEvent(ev)) &#123; // a. Ëã•Êã¶Êà™ÔºåÂàôÂ∞ÜËØ•‰∫ã‰ª∂‰∫§ÁªôÂΩìÂâçViewËøõË°åÂ§ÑÁêÜ // Âç≥Ë∞ÉÁî®onTouchEvent (ÔºâÊñπÊ≥ïÂéªÂ§ÑÁêÜÁÇπÂáª‰∫ã‰ª∂ consume = onTouchEvent (ev) ; &#125; else &#123; // b. Ëã•‰∏çÊã¶Êà™ÔºåÂàôÂ∞ÜËØ•‰∫ã‰ª∂‰º†ÈÄíÂà∞‰∏ãÂ±Ç // Âç≥ ‰∏ãÂ±ÇÂÖÉÁ¥†ÁöÑdispatchTouchEventÔºàÔºâÂ∞±‰ºöË¢´Ë∞ÉÁî®ÔºåÈáçÂ§ç‰∏äËø∞ËøáÁ®ã // Áõ¥Âà∞ÁÇπÂáª‰∫ã‰ª∂Ë¢´ÊúÄÁªàÂ§ÑÁêÜ‰∏∫Ê≠¢ consume = child.dispatchTouchEvent (ev) ; &#125; // Ê≠•È™§3ÔºöÊúÄÁªàËøîÂõûÈÄöÁü• ËØ•‰∫ã‰ª∂ÊòØÂê¶Ë¢´Ê∂àË¥πÔºàÊé•Êî∂ &amp; Â§ÑÁêÜÔºâ return consume;&#125; ÂØπ‰∫é‰∏Ä‰∏™Ê†πViewGroupÔºåÁÇπÂáª‰∫ã‰ª∂‰∫ßÁîüÂêéÔºåÂ∞±‰ºö‰º†ÈÄíÁªô‰ªñÔºåËøôÊó∂‰ªñÁöÑdispatchTouchEventÂ∞±‰ºöË¢´Ë∞ÉÁî®ÔºåÁÑ∂ÂêéÂ∞±ÂºÄÂßãÂà§Êñ≠‰ªñÊòØÂê¶Êã¶Êà™„ÄÇÂ¶ÇÊûúÊã¶Êà™ÔºåÈÇ£‰πàÁÇπÂáª‰∫ã‰ª∂Â∞±‰ºöÁªôViewGroupÂéªÂ§ÑÁêÜÔºåÂ¶ÇÊûú‰∏çÊã¶Êà™ÔºåÂ∞±Ë∞ÉÁî®child.dispatchTouchEvent (ev) ‰º†ÁªôÂ≠êÊéß‰ª∂ÁöÑdispatchTouchEventÊñπÊ≥ï„ÄÇÁÑ∂ÂêéÁªßÁª≠Âæ™ÁéØÔºåÁõ¥Âà∞Âà∞ÊúÄÂ∫ïÂ±ÇviewÔºå‰πüÂ∞±ÊòØÊ≤°ÊúâchildÁöÑÊó∂ÂÄôÔºåÊàñËÄÖÁõ¥Âà∞‰∫ã‰ª∂Ë¢´Êã¶Êà™„ÄÇ 4. Ê∫êÁ†ÅÂàÜÊûê4.1 Activity‰∫ã‰ª∂ÂàÜÂèëÈ¶ñÂÖàÂÖàÊù•ÁúãdispatchTouchEventÊñπÊ≥ïÔºö Ê∫êÁ†Å1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889public boolean dispatchTouchEvent(MotionEvent ev) &#123; if (ev.getAction() == MotionEvent.ACTION_DOWN) &#123; onUserInteraction(); // -&gt;&gt; ÂàÜÊûê1 &#125; if (getWindow().superDispatchTouchEvent(ev)) &#123; // -&gt;&gt; ÂàÜÊûê2 return true; &#125; return onTouchEvent(ev); // -&gt;&gt; ÂàÜÊûê5&#125;/** * ÂàÜÊûê1ÔºöonUserInteraction() * Ëøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØ‰∏™Á©∫ÊñπÊ≥ïÔºå‰ΩÜÊòØÊàëÊòØÂú®Ê≤°ÊêûÊáÇËøô‰∏™ÊñπÊ≥ïÊòØÂπ≤ÂòõÁöÑÔºåÊâÄ‰ª•Â∞±Áõ¥Êé•Á≤òË¥¥‰∫ÜcarsonËøô‰ΩçÂ§ßÁ•ûÁöÑËØ¥Êòé * ‰ΩúÁî®ÔºöÂÆûÁé∞Â±è‰øùÂäüËÉΩ * Ê≥®Ôºö * a. ËØ•ÊñπÊ≥ï‰∏∫Á©∫ÊñπÊ≥ï * b. ÂΩìÊ≠§activityÂú®Ê†àÈ°∂Êó∂ÔºåËß¶Â±èÁÇπÂáªÊåâhomeÔºåbackÔºåmenuÈîÆÁ≠âÈÉΩ‰ºöËß¶ÂèëÊ≠§ÊñπÊ≥ï */public void onUserInteraction() &#123;&#125;/** * ÂàÜÊûê2ÔºögetWindow().superDispatchTouchEvent(ev) * ÁÇπÂºÄ‰πãÂêéËøõÂÖ•WindowÁ±ªÔºå * ‰ΩÜÊòØÂèëÁé∞Ëøô‰∏™Á±ªÊòØ‰∏™ÊäΩË±°Á±ªÔºåËøô‰∏™ÊñπÊ≥ïÊòØ‰∏™ÊäΩË±°ÊñπÊ≥ï„ÄÇ * * ‰∫ÜËß£ËøáViewÁöÑÂêåÂ≠¶ÈÉΩÁü•ÈÅìÔºåWindowÁöÑÂîØ‰∏ÄÂÆûÁé∞Á±ªÂ∞±ÊòØPhoneWindow * ÈÇ£Êàë‰ª¨ËøõÂÖ•PhoneWindowÁúã‰∏ã‰ªñÁöÑsuperDispatchTouchEventÊñπÊ≥ï */public abstract boolean superDispatchTouchEvent(MotionEvent event);// -&gt;&gt; ÂàÜÊûê3/** * ÂàÜÊûê3ÔºöPhoneWindow.superDispatchTouchEvent() * ÂÆûÈôÖ‰∏äÂèàË∞ÉÁî®‰∫ÜDecorViewÁöÑsuperDispatchTouchEventÊñπÊ≥ïÔºåDecorViewÊòØÊúÄÈ°∂Â±ÇÁöÑView */@Overridepublic boolean superDispatchTouchEvent(MotionEvent event) &#123; return mDecor.superDispatchTouchEvent(event); // -&gt;&gt; ÂàÜÊûê4&#125;/** * ÂàÜÊûê4ÔºöDecorView.superDispatchTouchEvent() * Ê≥®Ôºö * a. DecorViewÁªßÊâøËá™FrameLayoutÔºåËÄåFrameLayoutÁªßÊâøËá™ViewGroupÔºå‰πüÂ∞±ÊòØËØ¥DecorViewÂ∞±ÊòØViewGroup„ÄÇ * b. DecorViewË∞ÉÁî®‰∫ÜÁà∂Á±ªÁöÑdispatchTouchEventÊñπÊ≥ïÔºå‰πüÂ∞±Áõ∏ÂΩì‰∫éViewGroupÁöÑdispatchTouchEventÊñπÊ≥ïÔºåÂ∞±Êää‰∫ã‰ª∂‰∫§Áªô‰∫ÜViewGroupÂéªÂ§ÑÁêÜÔºåËøôÂùóÂêéÈù¢ÂÜçËØ¥ */public boolean superDispatchTouchEvent(MotionEvent event) &#123; return super.dispatchTouchEvent(event);&#125;/** * ÂàÜÊûê5Ôºöreturn onTouchEvent(ev) * ÂΩìËß¶Êë∏Â±è‰∫ã‰ª∂Êú™Áî±ÂÖ∂‰∏ãÁöÑ‰ªª‰ΩïËßÜÂõæÂ§ÑÁêÜÊó∂Ë∞ÉÁî® * */public boolean onTouchEvent(MotionEvent event) &#123; if (mWindow.shouldCloseOnTouch(this, event)) &#123; // -&gt;&gt; ÂàÜÊûê6 finish(); return true; &#125; return false; // Âè™ÊúâÂú®ÁÇπÂáª‰∫ã‰ª∂Âú®WindowËæπÁïåÂ§ñÊâç‰ºöËøîÂõûtrueÔºå‰∏ÄËà¨ÊÉÖÂÜµÈÉΩËøîÂõûfalseÔºåÂàÜÊûêÂÆåÊØï&#125;/** * ÂàÜÊûê6ÔºöWindow.shouldCloseOnTouch() * * ËøîÂõûÔºö * ËøîÂõûtrueÔºöËØ¥Êòé‰∫ã‰ª∂Âú®ËæπÁïåÂ§ñÔºåÂç≥ Ê∂àË¥π‰∫ã‰ª∂ * ËøîÂõûfalseÔºöÊú™Ê∂àË¥πÔºàÈªòËÆ§Ôºâ */public boolean shouldCloseOnTouch(Context context, MotionEvent event) &#123; final boolean isOutside = event.getAction() == MotionEvent.ACTION_DOWN &amp;&amp; isOutOfBounds(context, event) || event.getAction() == MotionEvent.ACTION_OUTSIDE; // ‰∏ªË¶ÅÊòØÂØπ‰∫éÂ§ÑÁêÜËæπÁïåÂ§ñÁÇπÂáª‰∫ã‰ª∂ÁöÑÂà§Êñ≠ÔºöÊòØÂê¶ÊòØDOWN‰∫ã‰ª∂ÔºåeventÁöÑÂùêÊ†áÊòØÂê¶Âú®ËæπÁïåÂÜÖÁ≠â if (mCloseOnTouchOutside &amp;&amp; peekDecorView() != null &amp;&amp; isOutside) &#123; // peekDecorViewÊòØËøîÂõûPhoneWindowÁöÑmDecor return true; &#125; return false;&#125; ÊµÅÁ®ã 4.2 ViewGroup‰∫ã‰ª∂ÂàÜÂèëÊ∫êÁ†ÅÁî±‰∫éÊ≠§ÈÉ®ÂàÜ‰ª£Á†ÅËøáÈïøÔºåÊàë‰ª¨Â∞Ü‰ª£Á†ÅÊãÜÂàÜÊàê‰∏§ÈÉ®ÂàÜÔºö part11234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@Overridepublic boolean dispatchTouchEvent(MotionEvent ev) &#123; ...// ‰ªÖË¥¥Âá∫ÂÖ≥ÈîÆ‰ª£Á†Å boolean handled = false; /** * onFilterTouchEventForSecurity(ev) * Á≠õÈÄâtouch‰∫ã‰ª∂ÔºåËøõÂéª‰πãÂêéÁöÑÂà§Êñ≠Ê†∏ÂøÉÂ∞±ÊòØÂΩìÂâçËßÜÂõæÊòØÂê¶Ë¢´ÂÖ∂ÂÆÉÁ™óÂè£ÈÅÆÊå°ÊàñËÄÖÈöêËóè */ if (onFilterTouchEventForSecurity(ev)) &#123; final int action = ev.getAction(); final int actionMasked = action &amp; MotionEvent.ACTION_MASK; // Handle an initial down. // -&gt;&gt; ÂàÜÊûê1 if (actionMasked == MotionEvent.ACTION_DOWN) &#123; // Throw away all previous state when starting a new touch gesture. // The framework may have dropped the up or cancel event for the previous gesture // due to an app switch, ANR, or some other state change. cancelAndClearTouchTargets(ev); resetTouchState(); &#125; // Check for interception. final boolean intercepted; /** * ÂàÜÊûê2 * ÂèØ‰ª•ÁúãÂà∞‰ºöÊúâ‰∏§ÁßçÊÉÖÂÜµ‰∏ãÊã¶Êà™‰∫ã‰ª∂Ôºö‰∫ã‰ª∂Á±ªÂûã‰∏∫DOWNÔºåÊàñËÄÖmFirstTouchTarget != null„ÄÇ * ÈÇ£‰πàËøô‰∏™mFirstTouchTargetÊòØ‰ªÄ‰πàÂë¢Ôºü * ‰ªéÂêéÈù¢ÁöÑ‰ª£Á†ÅÊàë‰ª¨ÂèØ‰ª•ÂæóÁü•ÔºåÂΩìViewGroup‰∏çÊã¶Êà™‰∫ã‰ª∂‰∫§ÁªôÂ≠êÂÖÉÁ¥†Â§ÑÁêÜÁöÑÊó∂ÂÄôÔºåmFirstTouchTarget‰∏ç‰∏∫null„ÄÇ * ÊâÄ‰ª•Ôºå‰πüÂ∞±ÊòØËØ¥ÂΩìMotionEvent‰∏∫UPÊàñËÄÖMOVEÁöÑÊó∂ÂÄôÔºåÈÉΩËøõ‰∏çÂéªËøô‰∏™ÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØ‰∏çË∞ÉÁî®ViewGroupÁöÑonInterceptTouchEventÔºå‰ªñ‰∏çÊã¶Êà™‰∫ã‰ª∂ */ if (actionMasked == MotionEvent.ACTION_DOWN || mFirstTouchTarget != null) &#123; final boolean disallowIntercept = (mGroupFlags &amp; FLAG_DISALLOW_INTERCEPT) != 0; if (!disallowIntercept) &#123; intercepted = onInterceptTouchEvent(ev); ev.setAction(action); // restore action in case it was changed &#125; else &#123; intercepted = false; &#125; &#125; else &#123; // There are no touch targets and this action is not an initial down // so this view group continues to intercept touches. intercepted = true; &#125; /** * ÂàÜÊûê1 * ‰∫ã‰ª∂ÂºÄÂßãÊó∂‰ºöË∞ÉÁî®resetTouchState()Êù•Ê∏ÖÁ©∫mFirstAndClearTouchTarget */if (actionMasked == MotionEvent.ACTION_DOWN) &#123; cancelAndClearTouchTargets(ev); // Ê†∏ÂøÉÁõÆÁöÑÂ∞±ÊòØÊ∏ÖÁ©∫mFirstAndClearTouchTarget resetTouchState();&#125; part2123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118 ...//ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å // ËøõÂÖ•ifËØ≠Âè•ÔºåÂà§Êñ≠Êù°‰ª∂‰∏∫Ê≤°ÊúâÂØπ‰∫ã‰ª∂ËøõË°åÊã¶Êà™ÔºåÂêåÊó∂‰∫ã‰ª∂Ê≤°ÊúâÁªìÊùü„ÄÇÂØπViewGroupÁöÑÂ≠êÂÖÉÁ¥†ËøõË°åÈÅçÂéÜ if (!canceled &amp;&amp; !intercepted) &#123; ...//ÁªßÁª≠ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å // ÂæóÂà∞ÊâÄÊúâÁöÑÂ≠êView final View[] children = mChildren; // ÂØπÂ≠êViewËøõË°åÈÅçÂéÜ for (int i = childrenCount - 1; i &gt;= 0; i--) &#123; final int childIndex = getAndVerifyPreorderedIndex( childrenCount, i, customOrder); final View child = getAndVerifyPreorderedView( preorderedList, children, childIndex); // If there is a view that has accessibility focus we want it // to get the event first and if not handled we will perform a // normal dispatch. We may do a double iteration but this is // safer given the timeframe. // ËØ•viewgroupËÆæÁΩÆ‰∫ã‰ª∂‰∫ÜÊåáÂêëÁÑ¶ÁÇπViewÂπ∂‰∏îÁÑ¶ÁÇπViewÂú®ÂâçÈù¢Â∑≤ÁªèÊâæÂà∞‰∫Ü if (childWithAccessibilityFocus != null) &#123; // Âà§Êñ≠ÈÅçÂéÜÁöÑÊ≠§ViewÊòØÂê¶ÊòØÁÑ¶ÁÇπViewÔºåÂ¶ÇÊûú‰∏çÊòØÂ∞±Áõ¥Êé•‰∏ã‰∏ÄÈÅçÂæ™ÁéØ if (childWithAccessibilityFocus != child) &#123; continue; &#125; // Â¶ÇÊûúÊòØÁöÑËØùÂ∞±Â∞ÜÊâæÂà∞ÁöÑÁÑ¶ÁÇπviewÁΩÆÁ©∫ // iÂõûÂà∞Âà∞Êï∞Á¨¨‰∏Ä‰∏™‰∏ãÊ†á // ËøôÊ†∑ÂÅöÁöÑÁõÆÁöÑÊòØÂÖàËÆ©ËØ•ÁÑ¶ÁÇπviewÂ∞ùËØïËøõË°å‰∏ãÈù¢ÁöÑÊôÆÈÄöÂàÜÂèëÊìç‰Ωú // Â¶ÇÊûúÊàêÂäü‰∫ÜÔºå‰ºöÂú®‰∏ãÈù¢Ë∑≥Âá∫Âæ™ÁéØ„ÄÇ // Â¶ÇÊûú‰∏çÊàêÂäüÔºåÂ∞±Â∞ÜËÆ∞ÂΩïÁöÑÁÑ¶ÁÇπviewÁΩÆÁ©∫Ôºå // ‰ªéÊúÄÂêé‰∏Ä‰∏™ÂºÄÂßãÈáçÊñ∞ÈÅçÂéÜÔºå‰∏çÂÜçËøõÂÖ•Ëøô‰∏™Âà§Êñ≠„ÄÇ childWithAccessibilityFocus = null; i = childrenCount - 1; &#125; // Âà§Êñ≠ÂΩìÂâçÂ≠êViewÊòØÂê¶ËÉΩËé∑ÂèñÁÑ¶ÁÇπÊàñËÄÖÊòØÂê¶Ê≠£Âú®ÂÅöÂä®Áîª if (!canViewReceivePointerEvents(child) || !isTransformedTouchPointInView(x, y, child, null)) &#123; ev.setTargetAccessibilityFocus(false); continue; &#125; newTouchTarget = getTouchTarget(child); if (newTouchTarget != null) &#123; // Child is already receiving touch within its bounds. // Give it the new pointer in addition to the ones it is handling. newTouchTarget.pointerIdBits |= idBitsToAssign; break; &#125; resetCancelNextUpFlag(child); // -&gt;&gt; ÂàÜÊûê1 if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) &#123; // Child wants to receive touch within its bounds. mLastTouchDownTime = ev.getDownTime(); if (preorderedList != null) &#123; // childIndex points into presorted list, find original index for (int j = 0; j &lt; childrenCount; j++) &#123; if (chifcldren[childIndex] == mChildren[j]) &#123; mLastTouchDownIndex = j; break; &#125; &#125; &#125; else &#123; mLastTouchDownIndex = childIndex; &#125; mLastTouchDownX = ev.getX(); mLastTouchDownY = ev.getY(); // -&gt;&gt; ÂàÜÊûê2 newTouchTarget = addTouchTarget(child, idBitsToAssign); alreadyDispatchedToNewTouchTarget = true; break; &#125; // The accessibility focus didn't handle the event, so clear // the flag and do a normal dispatch to all children. ev.setTargetAccessibilityFocus(false); &#125; ... //ÁúÅÁï• &#125;/** * ÂàÜÊûê1 dispatchTransformedTouchEvent() * * Ê†∏ÂøÉÂ∞±ÊòØÈÇ£‰∏™if (child == null)„ÄÇ * Â¶ÇÊûúchild‰∏ç‰∏∫Á©∫ÔºåÈÇ£‰πà‰∫ã‰ª∂Â∞±‰∫§ÁªôÂ≠êViewÂ§ÑÁêÜ */private boolean dispatchTransformedTouchEvent(MotionEvent event, boolean cancel, View child, int desiredPointerIdBits) &#123; final boolean handled; // Canceling motions is a special case. We don't need to perform any transformations // or filtering. The important part is the action, not the contents. final int oldAction = event.getAction(); if (cancel || oldAction == MotionEvent.ACTION_CANCEL) &#123; event.setAction(MotionEvent.ACTION_CANCEL); if (child == null) &#123; handled = super.dispatchTouchEvent(event); &#125; else &#123; handled = child.dispatchTouchEvent(event); &#125; event.setAction(oldAction); return handled; &#125; ...//ÁúÅÁï•&#125;/** * ÂàÜÊûê2 * Â¶ÇÊûúÂ≠êViewËÉΩÂ§ÑÁêÜÁÇπÂáª‰∫ã‰ª∂ÔºåÈÇ£‰πàÂ∞±Ë∞ÉÁî®addTouchTargetÊñπÊ≥ïÔºåÂØπmFirstTouchTargetÊñπÊ≥ïËøõË°åÂ§çÂà∂ÔºåÁÑ∂ÂêéÂÜçËøõÂÖ•part1‰∏≠ÂàÜÊûê2„ÄÇ */private TouchTarget addTouchTarget(@NonNull View child, int pointerIdBits) &#123; final TouchTarget target = TouchTarget.obtain(child, pointerIdBits); target.next = mFirstTouchTarget; mFirstTouchTarget = target; return target;&#125; part31234567891011121314151617181920212223242526272829303132333435363738394041 // Dispatch to touch targets. // Â¶ÇÊûúpart2ÂºÄÂ§¥ÁöÑÈÇ£‰∏™ifÊ≤°ÊúâËøõÔºå‰πüÂ∞±ÊòØÂØπ‰∫ã‰ª∂ËøõË°åÊã¶Êà™ÁöÑËØùÔºåÁõ¥Êé•Âà∞ËøôÊù• // Âπ∂‰∏îÂ¶ÇÊûúÊ≤°ÊúâËøõÂÖ•part2ÔºåÈÇ£‰πàmFirstTouchTarget‰ªçÁÑ∂‰∏∫Á©∫ÔºåÈÇ£‰πàÂ∞±ËøõÂÖ•if if (mFirstTouchTarget == null) &#123; // No touch targets so treat this as an ordinary view. // Ê≠§Â§ÑÂú®‰∏äÈù¢ÂàÜÊûêËøá‰∫ÜÔºå‰ΩÜÊòØ‰∏çÂêåÁöÑÊòØÁî±‰∫échildÁõ¥Êé•‰º†ÂÖ•‰∫ÜnullÔºåÈÇ£‰πàÂ∞±ÊâßË°åsuper.dispatchTouchEven„ÄÇ // ÈÇ£‰πàsuperÊòØË∞ÅÂë¢ÔºüÊàë‰ª¨Âú®ÂâçÈù¢ËØ¥ËøáÔºåViewGroupÊòØÁªßÊâøËá™ViewÁöÑÔºåÈÇ£‰πà‰ªñÂ∞±ÊòØÊâßË°åViewÁöÑdispatchTouchEvent„ÄÇ handled = dispatchTransformedTouchEvent(ev, canceled, null, TouchTarget.ALL_POINTER_IDS); &#125; else &#123; ... //ÁúÅÁï• &#125; // Update list of touch targets for pointer up or cancel, if needed. if (canceled || actionMasked == MotionEvent.ACTION_UP || actionMasked == MotionEvent.ACTION_HOVER_MOVE) &#123; // -&gt;&gt; ÂàÜÊûê1 resetTouchState(); &#125; else if (split &amp;&amp; actionMasked == MotionEvent.ACTION_POINTER_UP) &#123; final int actionIndex = ev.getActionIndex(); final int idBitsToRemove = 1 &lt;&lt; ev.getPointerId(actionIndex); removePointersFromTouchTargets(idBitsToRemove); &#125; &#125; ...//ÁúÅÁï• &#125;/** * ÂàÜÊûê1 * Âú®Âêå‰∏Ä‰∫ã‰ª∂Á≥ªÂàóÁªìÊùüÂêéË∞ÉÁî®resetTouchState(); */private void resetTouchState() &#123; // ÂØπmFirstTouchTargetÊ∏ÖÁ©∫ËøòÂéü clearTouchTargets(); resetCancelNextUpFlag(this); mGroupFlags &amp;= ~FLAG_DISALLOW_INTERCEPT; mNestedScrollAxes = SCROLL_AXIS_NONE;&#125; ÊµÅÁ®ãÊ≠§ÂõæÊê¨Ëá™Carson_HoÂ§ß‰Ω¨ÁöÑÂçöÂÆ¢ 4.3 View‰∫ã‰ª∂ÂàÜÂèëÊ∫êÁ†ÅdispatchTouchEvent1234567891011121314151617181920212223242526272829303132public boolean dispatchTouchEvent(MotionEvent event) &#123; ...//ÁúÅÁï• boolean result = false; ...//ÁúÅÁï• // ÂíåViewGroup‰∏ÄÊ†∑ÁöÑÂà§Êñ≠ÔºåÂà§Êñ≠ÂΩìÂâçËßÜÂõæÊòØÂê¶Ë¢´ÈÅÆÊå°ÊàñËÄÖ‰∏çÂèØËßÅ if (onFilterTouchEventForSecurity(event)) &#123; if ((mViewFlags &amp; ENABLED_MASK) == ENABLED &amp;&amp; handleScrollBarDragging(event)) &#123; result = true; &#125; //noinspection SimplifiableIfStatement ListenerInfo li = mListenerInfo; // Ê£ÄÊµãÊúâÊ≤°ÊúâËÆæÁΩÆOnTOuchListenerÔºåÂ¶ÇÊûúÊúâÔºåÂπ∂‰∏îonTouchÊñπÊ≥ïËøîÂõûtrueÈÇ£‰πàËøõÂÖ•ifÔºåÁªìÊûúÂØºËá¥onTouchEvent‰∏çË¢´ÊâßË°å if (li != null &amp;&amp; li.mOnTouchListener != null &amp;&amp; (mViewFlags &amp; ENABLED_MASK) == ENABLED &amp;&amp; li.mOnTouchListener.onTouch(this, event)) &#123; result = true; &#125; // Â¶ÇÊûúÊ≤°ËøõÂÖ•‰∏äÈù¢ÁöÑifÔºå‰πüÂ∞±Áõ∏ÂΩì‰∫éÊ≤°ÊúâËÆæÁΩÆOnTouchListenerÔºåÈÇ£‰πàÊâßË°åonTOuchEvent if (!result &amp;&amp; onTouchEvent(event)) &#123; result = true; &#125; &#125; ...//ÁúÅÁï• return result;&#125; ‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂá∫ÔºåonTouchÁöÑ‰ºòÂÖàÁ∫ßÈ´ò‰∫éonTouchEvent„ÄÇ onTouchEvent1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889public boolean onTouchEvent(MotionEvent event) &#123; final float x = event.getX(); final float y = event.getY(); final int viewFlags = mViewFlags; final int action = event.getAction(); /** * Ê≥®Èáä1 * Âè™ÊúâÂú®Click„ÄÅLongClick„ÄÅcontextClickÈÉΩ‰∏çÂèØÁî®ÁöÑÊó∂ÂÄôÊâç‰∏∫false */ final boolean clickable = ((viewFlags &amp; CLICKABLE) == CLICKABLE || (viewFlags &amp; LONG_CLICKABLE) == LONG_CLICKABLE) || (viewFlags &amp; CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE; // È¶ñÂÖàÂà§Êñ≠ÊòØ‰∏çÊòØ‰∏çÂèØÁî®ÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøõÂÖ•if if ((viewFlags &amp; ENABLED_MASK) == DISABLED) &#123; if (action == MotionEvent.ACTION_UP &amp;&amp; (mPrivateFlags &amp; PFLAG_PRESSED) != 0) &#123; setPressed(false); &#125; mPrivateFlags3 &amp;= ~PFLAG3_FINGER_DOWN; // A disabled view that is clickable still consumes the touch // events, it just doesn't respond to them. // -&gt;&gt; Ê≥®Èáä1ÔºàËßÅ‰∏äÈù¢üëÜÔºâ return clickable; &#125; // Â¶ÇÊûúViewÊúâ‰ª£ÁêÜ‰ºöÊâßË°åËøô‰∏™ÊñπÊ≥ï if (mTouchDelegate != null) &#123; if (mTouchDelegate.onTouchEvent(event)) &#123; return true; &#125; &#125; // ËøôÂùóÊàë‰ª¨Âè™Ë∞ÉÂá∫ACTION_UPÊù•Áúã // Âè™Ë¶Åclickable‰∏∫true(ËßÅ‰∏äÈù¢Ê≥®Èáä1üëÜ)ÊàñËÄÖTOOLTIP(ÂèØËÉΩÊòØAndroid8.0Êñ∞Âá∫ÁöÑÊèêÁ§∫ÂäüËÉΩÂêß) if (clickable || (viewFlags &amp; TOOLTIP) == TOOLTIP) &#123; switch (action) &#123; case MotionEvent.ACTION_UP: ...//ÁúÅÁï• if (!mHasPerformedLongPress &amp;&amp; !mIgnoreNextUpEvent) &#123; // This is a tap, so remove the longpress check removeLongPressCallback(); // Only perform take click actions if we were in the pressed state if (!focusTaken) &#123; // Use a Runnable and post this rather than calling // performClick directly. This lets other visual state // of the view update before click actions start. if (mPerformClick == null) &#123; mPerformClick = new PerformClick(); &#125; if (!post(mPerformClick)) &#123; // -&gt;&gt; ÂàÜÊûê1 performClickInternal(); &#125; &#125; &#125; ... //ÁúÅÁï• &#125; mIgnoreNextUpEvent = false; break; ... //ÁúÅÁï•ÂÖ∂ÂÆÉÂá†ÁßçMotionEvent &#125; return true; &#125; // Áî±‰ª£Á†ÅÂèØÁü•Âè™Ë¶Å‰∏äÈù¢ÁöÑifËØ≠Âè•ÊàêÁ´ãÔºå‰∏çÁÆ°ËøõÂÖ•switch‰∏≠ÁöÑ‰ªª‰ΩïACTIONÊàñÊòØÈÉΩ‰∏çËøõÂÖ•ÔºåËøîÂõûÂÄºÈÉΩÊòØtrueÔºåÂç≥‰∫ã‰ª∂Ê∂àË¥π‰∫Ü„ÄÇ return false;&#125;/** * ÂàÜÊûê1ÔºöperformClickÔºàÔºâ */public boolean performClick() &#123; if (mOnClickListener != null) &#123; playSoundEffect(SoundEffectConstants.CLICK); mOnClickListener.onClick(this); return true; // Âè™Ë¶ÅÊàë‰ª¨ÈÄöËøásetOnClickListenerÔºàÔºâ‰∏∫Êéß‰ª∂cvViewÊ≥®ÂÜå1‰∏™ÁÇπÂáª‰∫ã‰ª∂ // ÈÇ£‰πàÂ∞±‰ºöÁªômOnClickListenerÂèòÈáèËµãÂÄºÔºàÂç≥‰∏ç‰∏∫Á©∫Ôºâ // Âàô‰ºöÂæÄ‰∏ãÂõûË∞ÉonClickÔºàÔºâ &amp; performClickÔºàÔºâËøîÂõûtrue &#125; return false; &#125; ÊµÅÁ®ã]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
        <tag>Ê∫êÁ†Å</tag>
        <tag>‰∫ã‰ª∂ÂàÜÂèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenGL ES 2.0Á¨îËÆ∞2‚Äî‚ÄîÈ°∂ÁÇπ„ÄÅÂùêÊ†á„ÄÅÂõæÂÖÉ]]></title>
    <url>%2Fposts%2F268eb1c2.html</url>
    <content type="text"><![CDATA[‰∏äËäÇÊàë‰ª¨ÂØπOpenGLÂÅö‰∫Ü‰∏Ä‰∏™Â§ßËá¥ÁöÑ‰ªãÁªçÔºåÂπ∂ÂÜô‰∫Ü‰∏Ä‰∏™Âü∫Êú¨Ê°ÜÊû∂ÔºåÂú®ËøôËäÇ‰∏≠Êàë‰ª¨Â∞Ü‰ºö‰ªãÁªçÈ°∂ÁÇπ„ÄÅÂùêÊ†áÁ≥ªÂíåÂõæÂÖÉ È°∂ÁÇπÂú®OpenGL‰∏≠ÔºåÊâÄÊúâÁöÑ‰∏úË•øÁöÑÁªìÊûÑÈÉΩÊòØ‰ªé‰∏Ä‰∏™È°∂ÁÇπÂºÄÂßãÁöÑ„ÄÇ ÊâÄË∞ìÈ°∂ÁÇπÔºåÂ∞±ÊòØ‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÁöÑÊãêÁÇπ„ÄÇÂú®‰ªãÁªçÈ°∂ÁÇπ‰πãÂâçÔºåÊàë‰ª¨È¶ñÂÖà‰ªãÁªç‰∏ãOpenGLÂùêÊ†á„ÄÇ OpenGLÂùêÊ†áÁ≥ªÂ¶ÇÊûúÊúâ‰ºöAndroidÂºÄÂèëÁöÑÊúãÂèãÔºå‰∏ÄÂÆö‰ºöÈªòËÆ§‰∏∫‰ªéÂ±èÂπïÁöÑÂ∑¶‰∏äËßíÂºÄÂßãÔºåÊ∞¥Âπ≥ÂæÄÂè≥ÊòØxËΩ¥ÔºåÁ´ñÁõ¥Âêë‰∏ãÊòØyËΩ¥„ÄÇ ‰ΩÜÊòØÂú®OpenGL‰∏≠ÊòØ‰∏çÂêåÁöÑÔºåOpenGLÊòØ‰ªéÊòæÁ§∫ËßÜÁ™óÁöÑÊ≠£‰∏≠ÂøÉÊòØ‰∏≠ÂøÉÔºå‰πüÂ∞±ÊòØ$(0, 0)$ÔºåËÄåÂ±èÂπïÊúÄÂ∑¶ËæπÁöÑxËΩ¥ÂùêÊ†áÊòØ-1ÔºåÂ±èÂπïÊúÄÂè≥ËæπÁöÑxËΩ¥ÂùêÊ†áÊòØ1ÔºåÂ±èÂπïÊúÄ‰∏äÈù¢ÁöÑyËΩ¥ÂùêÊ†áÊòØ1ÔºåÂ±èÂπïÊúÄ‰∏ãÈù¢ÁöÑyËΩ¥ÂùêÊ†áÊòØ-1Ôºå‰πüÂ∞±ÊòØ‰∏ãÈù¢ËøôÂπÖÂõæÔºö Âú®‰ª£Á†Å‰∏≠ÂÆö‰πâÈ°∂ÁÇπÂú®OpenGL‰∏≠ÂÆö‰πâÈ°∂ÁÇπÊúâÁÇπÁâπÊÆäÔºåÊàë‰ª¨Á¨¨‰∏ÄÂèçÂ∫îÈÉΩÊòØÁõ¥Êé•ÊãøÊï∞ÁªÑÂ∞ÜÈ°∂Á´ØÂ≠òËµ∑Êù•Â∞±Ë°å‰∫ÜÔºå‰ΩÜÊòØÂú®OpenGL‰∏≠Ôºå‰Ω†Èô§‰∫ÜË¶ÅÂ∞ÜÈ°∂ÁÇπÁöÑÂùêÊ†áÁî®Êï∞ÁªÑÂ≠òËµ∑Êù•‰ª•Â§ñÔºåËøòÂæóÂÆö‰πâ‰∏Ä‰∏™Â∏∏ÈáèÔºåÁî®Êù•Ê†áËÆ∞‰∏Ä‰∏™È°∂ÁÇπÊúâ‰∏§‰∏™ÂàÜÈáèÔºö1234567891011121314151617181920private static final int POSITION_COMPONENT_COUNT = 2;float[] tableVerticesWithTriangles = &#123; // Triangle 1 -0.5f, -0.5f, 0.5f, 0.5f, -0.5f, 0.5f, // Triangle 2 -0.5f, -0.5f, 0.5f, -0.5f, 0.5f, 0.5f, // Line 1 -0.5f, 0f, 0.5f, 0f, // Mallets 0f, -0.25f, 0f, 0.25f&#125;; Êàë‰ª¨ÈááÁî®ÊµÆÁÇπÊï∞ÁöÑÈ°∫Â∫èÂàóË°®ÂÆö‰πâÈ°∂ÁÇπÊï∞ÊçÆÔºåËøô‰∏™Êï∞ÁªÑÈÄöÂ∏∏Ë¢´Êàê‰∏∫È°∂ÁÇπÂ±ûÊÄß„ÄÇ ÂõæÂÖÉÂú®OpenGL‰∏≠ÔºåÂè™ËÉΩÁªòÂà∂ÁÇπ„ÄÅÁõ¥Á∫øÂíå‰∏âËßíÂΩ¢ÔºåËøô‰∏â‰∏™‰πüË¢´Áß∞‰∏∫ÂõæÂÖÉ„ÄÇ ‰πüÂ∞±ÊÑèÂë≥ÁùÄÔºåÂÖ∂ÂÆÉÊâÄÊúâÁöÑÂõæÂΩ¢ÈÉΩÂæóÈÄöËøáËøô‰∏â‰∏™Âü∫Êú¨ÂõæÂÖÉÊù•ÂÆûÁé∞„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÁªòÂà∂‰∏Ä‰∏™ÁÇπÔºåÈÇ£‰πà‰∏Ä‰∏™ÂùêÊ†áÂ∞±ÂèØ‰ª•‰∫ÜÔºå‰ΩÜÊòØÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÁªòÂà∂‰∏ÄÊù°Áõ¥Á∫øÔºåÂ∞±ÈúÄË¶Å‰∏§‰∏™ÂùêÊ†áÔºåÂ¶ÇÊûúÁªòÂà∂‰∏Ä‰∏™‰∏âËßíÂΩ¢ÔºåÂ∞±ÈúÄË¶Å‰∏â‰∏™ÂùêÊ†á„ÄÇ ÈÇ£‰πàÊàë‰ª¨Â∞±‰ª•ÁªòÂà∂‰∏Ä‰∏™Ê≠£ÊñπÂΩ¢‰∏æ‰æãÔºö 123456float[] squareVerticesWithTriangles = &#123; -0.5f, -0.5f, 0.5f, 0.5f, -0.5f, 0.5f, 0.5f, -0.5f&#125;; Â¶ÇÊûúÊàëË¶ÅÂú®Ëøô‰∏™Ê≠£ÊñπÂΩ¢‰∏≠Èó¥Âä†‰∏Ä‰∏™Ê®™Á∫øÁöÑËØùÔºåÈÇ£‰πàÂ∞±Áõ¥Êé•Âú®‰∏äÈù¢ÁöÑÊï∞ÁªÑÈáåÈù¢ÂéªÂä†ÔºåÂà∞Êó∂ÂÄôË¶ÅÂ∞ÜÈ°∂ÁÇπÁùÄËâ≤Âô®Âä†ËΩΩÂà∞ÂõæÂΩ¢‰∏≠ÁöÑÊó∂ÂÄôÂÜçÂéªÂ§ÑÁêÜÔºö1234567891011float[] squareVerticesWithTriangles = &#123; // Square -0.5f, -0.5f, 0.5f, 0.5f, -0.5f, 0.5f, 0.5f, -0.5f, // Line -0.5f, 0, 0.5f, 0&#125;; ËÆ©Êï∞ÊçÆÂèØ‰ª•Ë¢´OpenGLËØªÂèñÂú®‰∏äÈù¢ÔºåÊàë‰ª¨Â∑≤ÁªèÂÆåÊàê‰∫ÜÈ°∂ÁÇπÁöÑÂÆö‰πâÔºå‰ΩÜÊòØÁé∞Âú®OpenGLÂ∞öËøò‰∏çËÉΩËØªÂèñ‰ªñ‰ª¨„ÄÇÂÖ∂ÂéüÂõ†ÊòØËøô‰∫õ‰ª£Á†ÅÁöÑËøêË°åÁéØÂ¢É‰∏éOpenGLËøêË°åÁéØÂ¢É‰ΩøÁî®‰∫Ü‰∏ç‰∏ÄÊ†∑ÁöÑËØ≠Ë®Ä„ÄÇ ÂΩìÊàë‰ª¨ËøêË°åJavaËØ≠Ë®ÄÁöÑÊó∂ÂÄôÔºåÂπ∂‰∏çÊòØÁõ¥Êé•ËøêË°åÂú®Á°¨‰ª∂‰∏äÁöÑÔºåËÄåÊòØËøêË°åÂú®JVM(Á∫ØJava)ÊàñËÄÖDalvik(Android)ËôöÊãüÊú∫‰∏äÁöÑÔºåÂπ∂‰∏îËøêË°åÂú®Ëøô‰∫õËôöÊãüÊú∫‰∏äÁöÑÊó∂ÂÄôÔºåÂπ∂‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆÊú¨Âú∞ÁéØÂ¢ÉÔºõÂÖ∂Ê¨°ÔºåËôöÊãüÊú∫ËøòÈááÁî®ÁöÑÂûÉÂúæÂõûÊî∂Êú∫Âà∂ÔºåÂΩìÊ£ÄÊµãÂà∞ÂèòÈáè„ÄÅÂØπË±°‰∏çÂÜçË¢´‰ΩøÁî®Êó∂ÔºåÂ∞±Ëá™Âä®ÈáäÊîæÊéâËøô‰∫õÂÜÖÂ≠ò„ÄÇ ‰ΩÜÊòØÊú¨Âú∞ÁéØÂ¢É‰∏çËÉΩËøôÊ†∑ÔºåÂõ†‰∏∫‰ªñÊòØÁõ¥Êé•ËøêË°åÂú®Á°¨‰ª∂‰∏äÁöÑÔºå‰ªñ‰∏çÂ∏åÊúõÂÜÖÂ≠ò‰ºöË¢´ÁßªÊù•ÁßªÂéªÊàñËÄÖËá™Âä®ÈáäÊîæ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨Â∞±ÈúÄË¶Å‰∏Ä‰∏™ÊñπÊ°àÔºåËÆ©AndroidÁ®ãÂ∫è‰∏éOpenGLËøõË°åÈÄö‰ø°„ÄÇÂÖ∂ÂÆûAndroid‰ª£Á†Å‰∏éÁ°¨‰ª∂ÈÄö‰ø°Êúâ‰∏§ÁßçÊñπÊ≥ïÔºö ÈÄöËøáJNIÊäÄÊúØÔºõ ÈÄöËøáË∞ÉÁî®android.opengl.GLES20ÂåÖÈáåÈù¢ÁöÑÊñπÊ≥ï„ÄÇ Êàë‰ª¨ËøôÂùó‰∏ªË¶ÅÊòØÈÄöËøáÁ¨¨‰∫åÁßçÊñπÊ≥ï„ÄÇ Java‰∏≠Êúâ‰∏ÄÁßçÁâπÊÆäÁöÑÈõÜÂêàÔºåÂèØ‰ª•ÂàÜÈÖçÊú¨Âú∞ÁöÑÂÜÖÂ≠òÂùóÔºåÂπ∂Â∞ÜJavaÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞Êú¨Âú∞ÂÜÖÂ≠ò„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213// Âõ†‰∏∫Java‰∏≠ÂõΩ‰∏Ä‰∏™FloatÂûãÊï∞ÊçÆÂç†4‰∏™Â≠óËäÇprivate static final int BYTES_PER_FLOAT = 4;// Â£∞Êòé‰∏Ä‰∏™Â≠óËäÇÁºìÂÜ≤Âå∫private final FloatBuffer vertexData; vertexData = ByteBuffer // ÂàÜÈÖç‰∏ÄÂùóÊú¨Âú∞ÂÜÖÂ≠òÔºåÊâÄ‰ª•ÊòØÊï∞ÁªÑÈïøÂ∫¶ * Á±ªÂûãÊâÄÂç†Â≠óËäÇ .allocateDirect(tableVerticesWithTriangles.length * BYTES_PER_FLOAT) // ÊåâÁÖßÊú¨Âú∞Â≠óËäÇÂ∫èÁªÑÁªáÂÜÖÂÆπ .order(ByteOrder.nativeOrder()) .asFloatBuffer(); // Â∞ÜÊï∞ÊçÆÂ≠òÂÖ• .put(tableVerticesWithTriangles);]]></content>
      <categories>
        <category>OpenGL</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>OpenGL</tag>
        <tag>ÂõæÂÉèÂ§ÑÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenGL ES 2.0Á¨îËÆ∞1‚Äî‚ÄîÁÆÄ‰ªã]]></title>
    <url>%2Fposts%2Fa92b4a54.html</url>
    <content type="text"><![CDATA[OpenGLÊòØ‰ªÄ‰πàÔºüOpenGL ESÂèàÊòØ‰ªÄ‰πàÔºüÁÆÄ‰ªãOpenGLÊòØ‰∏Ä‰∏™Ë∑®Âπ≥Âè∞ÁöÑËΩØ‰ª∂Êé•Âè£ËØ≠Ë®ÄÔºåÁî®‰∫éË∞ÉÁî®Á°¨‰ª∂ÁöÑ2D„ÄÅ3DÂõæÂΩ¢Â§ÑÁêÜÂô®„ÄÇ ÁÑ∂ËÄåÂèóÈôê‰∫éÁé∞Âú®ÁöÑÁßªÂä®ËÆæÂ§áÊÄßËÉΩÔºåÂ¶ÇÊûúÂ∞ÜOpenGLÁõ¥Êé•Áî®Âú®‰ªñ‰ª¨‰∏äÈù¢Â∞Ü‰ºöÁâπÂà´Âç°Ôºå‰∫éÊòØÂ∞±Âá∫Áé∞‰∫ÜOpenGL ES„ÄÇ OpenGL ESÊòØOpenGLÁöÑÂàÜÊîØÔºå‰ªñ‰∏ìÈó®‰ΩúÁî®‰∫éÂµåÂÖ•ÂºèËÆæÂ§áÔºåÂéªÊéâ‰∫ÜOpenGLÂæàÂ§ö‰∏çÂøÖË¶ÅÁöÑÂäüËÉΩ„ÄÇ Â∫îÁî®Âú∫ÊôØ Ê∏∏Êàè ËßÜÈ¢ëÊí≠ÊîæÂô® ËßÜÈ¢ëÁºñËæëÂ∫îÁî® ÂõæÁâáÁºñËæëÂ∫îÁî® Á≠âÂØπÂõæÂÉèÂ§ÑÁêÜÁöÑÂèäÊó∂ÊÄßË¶ÅÊ±ÇËæÉÈ´òÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇ AndroidÂØπOpenGL ES ÁöÑÊîØÊåÅ OpenGL ES ÁâàÊú¨ Âü∫‰∫éOpenGLÁöÑÁâàÊú¨ AndroidÂºïÂÖ•ÁöÑÁâàÊú¨ ÂÖºÂÆπÊÄß ÂäüËÉΩ„ÄÅÁâπËâ≤ 1.0&amp;1.1 1.3&amp;1.5 Android 1.0 - Âõ∫ÂÆöÁöÑÂõæÂÉèÁÆ°ÈÅìÔºåÂºÄÂèëÈöæÂ∫¶Áõ∏ÊØî2.0‰Ωé 2.0 2.0 Android 2.2 ‰∏çÂÖºÂÆπ1.x ÂèØÁºñÁ®ãÁöÑÊ∏≤ÊüìÁÆ°ÈÅìÔºåÊÄßËÉΩÊïàÁéáÊõ¥È´òÔºåÂºÄÂèëÈöæÂ∫¶Êõ¥È´ò 3.0 3.x Android 4.3 ÂÖºÂÆπ2.0 ÊÄßËÉΩÊõ¥È´òÔºåÊîØÊåÅETC2Ê†ºÂºèÁöÑÈÄèÊòéÁ∫πÁêÜÂéãÁº© 3.1 4.x Android 5.0 ÂÖºÂÆπ2.0/3.0 Êñ∞Â¢ûËÆ°ÁÆóÁùÄËâ≤Âô®„ÄÅÂçïÁã¨ÁöÑÁùÄËâ≤Âô®ÂØπË±°Á≠âÊñ∞ÁâπÊÄß ÁâàÊú¨ÁöÑÈÄâÊã©Áî±‰∫éÊ≠§ÁØáÂçöÂÆ¢ÊòØÂ≠¶‰π†Èò∂ÊÆµÂÜôÁöÑÔºåËÄåÊàëÂú®ÁΩë‰∏äÊâæÂà∞ÁöÑÂ§ßÈÉ®ÂàÜÂçöÂÆ¢ÈÉΩÊòØ2.0ÔºåÊâÄ‰ª•Â∞±‰ª•2.0‰∏∫‰∏ª„ÄÇ ÂÖ∂ÂÆûÊàëËßâÂæóÂ∫îËØ•ÊòØ3.0Ôºå2.0Á°ÆÂÆûÂ§™ËÄÅ‰∫ÜÔºåÁé∞Âú®Android4.3ÁöÑÊâãÊú∫ÈÉΩËæÉÂ∞ëËßÅ‰∫ÜÔºåËÄå3.1ÂèàÂ§™Êñ∞‰∫Ü„ÄÇ ÂØºÂÖ•È¶ñÂÖà‰Ω†ÂæóÂú®AndroidManifest.xml‰∏≠Âä†ÂÖ•&lt;uses-feature android:glEsVersion=&quot;0x00020000&quot; android:required=&quot;true&quot; /&gt; ÂÖ∂‰∏≠‰∏çÂêåÁâàÊú¨ÂØπÂ∫îÂÄºÔºö OpenGL ES ÁâàÊú¨ glEsVersion ÁâàÊú¨ 2.0 0x00020000 3.0 0x00030000 3.1 0x00030001 Âü∫Êú¨Ê°ÜÊû∂AndroidÊ°ÜÊû∂ÈáåÈù¢Êèê‰æõ‰∫Ü‰∏§‰∏™Á±ªÊù•Áªô‰Ω†‰ΩøÁî®OpenGL ES APIÂàõÂª∫ÂíåÊìç‰ΩúÂõæÂΩ¢ÔºöGLSrufaceViewÂíåGLSurfaceView.Renderer„ÄÇ GLSrufaceViewËøôÊòØ‰∏Ä‰∏™ËßÜÂõæÁ±ªÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáOpenGL ES APIÊù•ÁªòÂà∂ÂíåÊìç‰ΩúÂõæÂΩ¢ÂØπË±°Ôºå‰ªñÂú®ÂäüËÉΩ‰∏äÂæàÁ±ª‰ºº‰∏éSurfaceView„ÄÇ‰Ω†ÂèØ‰ª•ÈÄöËøáÂàõÂª∫‰∏Ä‰∏™SurfaceViewÁöÑÂÆû‰æãÂπ∂Ê∑ªÂä†‰Ω†ÁöÑÊ∏≤ÊüìÂô®Êù•‰ΩøÁî®Ëøô‰∏™Á±ª„ÄÇ ‰ªñÁöÑÂ∏∏Áî®ÊñπÊ≥ïÊúâÔºö setEGLContextClientVersionÔºöËÆæÁΩÆOpenGL ESÁâàÊú¨Ôºå2.0ÂàôËÆæÁΩÆ2 onPauseÔºöÊöÇÂÅúÊ∏≤ÊüìÔºåÊúÄÂ•ΩÊòØÂú®Activity„ÄÅFragmentÁöÑonPause()ÊñπÊ≥ïÂÜÖË∞ÉÁî®ÔºåÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÊÄßËÉΩÂºÄÈîÄÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑÂ¥©Ê∫É onResumeÔºöÊÅ¢Â§çÊ∏≤ÊüìÔºåÁî®Ê≥ïÁ±ªÊØîonPause() setRendererÔºöËÆæÁΩÆÊ∏≤ÊüìÂô® setRenderModeÔºöËÆæÁΩÆÊ∏≤ÊüìÊ®°Âºè requestRender: ËØ∑Ê±ÇÊ∏≤ÊüìÔºåÁî±‰∫éÊòØËØ∑Ê±ÇÂºÇÊ≠•Á∫øÁ®ãËøõË°åÊ∏≤ÊüìÔºåÊâÄ‰ª•‰∏çÊòØÂêåÊ≠•ÊñπÊ≥ïÔºåË∞ÉÁî®Âêé‰∏ç‰ºöÁ´ãÂàªÂ∞±ËøõË°åÊ∏≤Êüì„ÄÇÊ∏≤Êüì‰ºöÂõûË∞ÉÂà∞RendererÊé•Âè£ÁöÑonDrawFrame()ÊñπÊ≥ï„ÄÇ queueEventÔºöÊèíÂÖ•‰∏Ä‰∏™Runnable‰ªªÂä°Âà∞ÂêéÂè∞Ê∏≤ÊüìÁ∫øÁ®ã‰∏äÊâßË°å„ÄÇÁõ∏Â∫îÁöÑÔºåÊ∏≤ÊüìÁ∫øÁ®ã‰∏≠ÂèØ‰ª•ÈÄöËøáActivityÁöÑrunOnUIThreadÁöÑÊñπÊ≥ïÊù•‰º†ÈÄí‰∫ã‰ª∂Áªô‰∏ªÁ∫øÁ®ãÂéªÊâßË°å ÂÖ∂‰∏≠ÔºåGLSurfaceViewÁöÑÊ∏≤ÊüìÊ®°ÂºèÊúâÔºö RENDERMODE_CONTINUOUSLYÔºö‰∏çÂÅúÂú∞Ê∏≤Êüì RENDERMODE_WHEN_DIRTYÔºöÂè™ÊúâË∞ÉÁî®‰∫ÜrequestRender()‰πãÂêéÊâç‰ºöËß¶ÂèëÊ∏≤ÊüìÂõûË∞ÉonDrawFrameÊñπÊ≥ï GLSurfaceView.RendererÊ≠§Êé•Âè£ÂÆö‰πâ‰∫ÜÂú®GLSurfaceView‰∏≠ÁªòÂà∂ÂõæÂΩ¢ÊâÄÈúÄÁöÑÊñπÊ≥ï„ÄÇÂøÖÈ°ªÂ∞ÜÊ≠§Êé•Âè£ÁöÑÂÆûÁé∞‰Ωú‰∏∫ÂçïÁã¨ÁöÑÁ±ªÊèê‰æõÔºåÂπ∂‰ΩøÁî®GLSurfaceView.setRenderer()Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞GLSurfaceViewÁöÑÂÆûÁé∞Á±ª‰∏≠„ÄÇ ‰ªñÁöÑ‰∏ªË¶ÅÊñπÊ≥ïÊúâ‰∏â‰∏™Ôºö onSurfaceCreated(GL10 gl, EGLConfig config)ÔºöGLSurfaceViewÂÜÖÁöÑSurfaceË¢´ÂàõÂª∫Êó∂‰ºöË¢´Ë∞ÉÁî®Âà∞ onSurfaceChanged(GL10 gl, int width, int height)ÔºöSurfaceÂ∞∫ÂØ∏ÊîπÂèòÊó∂Ë∞ÉÁî®Âà∞ onDrawFrame(GL10 gl)ÔºöÊ∏≤ÊüìÁªòÂà∂ÊØè‰∏ÄÂ∏ßÊó∂Ë∞ÉÁî®Âà∞ ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÈ¶ñÊ¨°ÂàõÂª∫GLSurfaceViewÊó∂Ôºå‰ºöÈ°∫Â∫èË∞ÉÁî®onSurfaceCreated() -&gt; onSurfaceChanged() -&gt; onDrawFrame()„ÄÇÁÑ∂ÂêéÊØèÁªòÂà∂‰∏ÄÂ∏ßÔºåÈÉΩ‰ºö‰∏çÂÅúÂú∞ÂõûË∞ÉonDrawFrame()ÊñπÊ≥ï„ÄÇ ÁºñÂÜôÊµÅÁ®ãÈ¶ñÂÖàÊàë‰ª¨Êù•ÂÜô‰∏Ä‰∏™Âü∫Êú¨Ê°ÜÊû∂„ÄÇ ÂàõÂª∫‰∏Ä‰∏™AndroidÈ°πÁõÆÔºåÁÑ∂ÂêéActivityÈÄâÊã©EmptyActivity„ÄÇ Ê≥®ÊÑèÔºöÊú¨È°πÁõÆÊüê‰∫õÁ±ªÊàñËÄÖÊñπÊ≥ïÈÄöËøáAndroidStudioÂØºÂÖ•ÁöÑÊó∂ÂÄô‰ºöËÆ©‰Ω†ÈÄâÊã©ÊòØ‰ªéÂì™‰∏™ÂåÖÈáåÈù¢ÂØºÂÖ•Ôºå‰∏ÄËá¥ÈÄâÊã©android.opengl.GLES20 ÁºñÂÜôActivityÊâìÂºÄÊàë‰ª¨È°πÁõÆÁöÑMainActivityÔºå‰Ω†Â∞±ËÉΩÁúãÂà∞ÁÜüÊÇâÁöÑonCreateÊñπÊ≥ïÔºåÊé•‰∏ãÊù•Êàë‰ª¨Ë¶ÅÂØπËøô‰∏™ActivityËøõË°å‰∏Ä‰∫õÊõ¥Êîπ„ÄÇ È¶ñÂÖàÔºåÊàë‰ª¨Ë¶ÅÂàõÂª∫‰∏Ä‰∏™GLSurfaceViewÁöÑÂØπË±°,Âπ∂Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊàêÂëòÂèòÈáèÔºö12private GLSurfaceView glSurfaceView;private boolean rendererSet = false; Êé•‰∏ãÊù•Â∞ÜsetContentView()ÁßªÈô§ÔºåÂπ∂ÂØπglSurfaceViewËøõË°åÂàùÂßãÂåñÔºö12345@Overridepublic void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); glSurfaceView = new GLSurfaceView(this);&#125; Áî±‰∫éÊàë‰ª¨ÊòØÂú®ÂÜôOpenGL ES2.0ÁöÑ‰ª£Á†ÅÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊ£ÄÊµãÂΩìÂâçËøêË°åAPPÁöÑÁ≥ªÁªüÊîØ‰∏çÊîØÊåÅOpenGL ES2.0„ÄÇÊàë‰ª¨Â∞Ü‰∏ãÈù¢Âá†Ë°å‰ª£Á†ÅÊ∑ªÂä†Âà∞onCreate()ÈáåÈù¢Âéª:123final ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);final ConfigurationInfo configurationInfo = activityManager.deviceConfigurationInfo();final boolean supportsEs2 = configurationInfo.reqGlEsVersion &gt;= 0x20000; ‰ΩÜÊòØËøôÊÆµ‰ª£Á†ÅÂú®Ê®°ÊãüÂô®‰∏ä‰∏çËÉΩÂ∑•‰ΩúÔºåÂõ†‰∏∫GPUÊ®°ÊãüÈÉ®ÂàÜÊúâÁº∫Èô∑„ÄÇ‰∏∫‰∫Ü‰Ωø‰ª£Á†ÅÂú®Ê®°ÊãüÂô®‰∏äËøêË°åÔºåÊàë‰ª¨Ë¶ÅÊåâÂ¶Ç‰∏ã‰ª£Á†Å‰øÆÊîπÊ£ÄÊü•Êù°‰ª∂Ôºö1234567final boolean supportsEs2 = configurationInfo.reqGlEsVersion &gt;= 0x20000 || (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.ICE_CREAM_SANDWICH_MR1 &amp;&amp; (Build.FINGERPRINT.startsWith("generic") || Build.FINGERPRINT.startsWith("unknown") || Build.MODEL.contains("google_sdk") || Build.MODEL.contains("Emulator") || Build.MODEL.contains("Android SDK build for x86"))) Êé•‰∏ãÊù•Â∞±ÊòØÈÖçÁΩÆÊ∏≤ÊüìË°®Èù¢Ôºö12345678910111213if (supportsEs2) &#123; // ÈÖçÁΩÆËøô‰∏™surfaceËßÜÂõæ glSurfaceView.setEGLContextClientVersion(2); // ÈÖçÁΩÆRenderer glSurfaceView.setRenderer(FirstOpenGLProjectRenderer()); rendererSet = true;&#125; else &#123; Toast.makeText(this, "This device does not support OpenGL ES 2.0", Toast.LENGTH_SHORT).show(); return;&#125;setContentView(glSurfaceView); ÊúÄÂêéÊàë‰ª¨ËøòÂæóÂ§ÑÁêÜ‰∏ãActivityÁöÑÁîüÂëΩÂë®ÊúüÔºå‰πüÂ∞±ÊòØÂ∞ÜGLSurfaceViewÁöÑÁîüÂëΩÂë®ÊúüË∑üActivityÁöÑÁîüÂëΩÂë®ÊúüÁªëÂÆöËµ∑Êù•Ôºö123456789101112131415@Overridevoid onPause() &#123; super.onPause(); if (rendererSet) glSurfaceView.onPause();&#125;@Overridevoid onResume() &#123; super.onResume(); if (rendererSet) glSurfaceView.onResume();&#125; ÁºñÂÜôRendererÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÔºåÂëΩÂêç‰∏∫FirstOpenGLProjectRendererÔºåËÆ©ËÆ©Ëøô‰∏™Á±ªÁªßÊâøËá™GLSurfaceView.Renderer„ÄÇ Êé•ÁùÄÂ∞±ÂÆûÁé∞‰∏â‰∏™ÂøÖÂ§áÊñπÊ≥ï: onSurfaceCreate()ÔºöÂàõÂª∫Êó∂Ë¢´Ë∞ÉÁî® 1234@Overridepublic void onSurfaceCreated(GL10 glUnsed, EGLConfig config) &#123; glClearColor(1.0f, 0.0f, 0.0f, 0.0f); //ËÆæÁΩÆ‰∏Ä‰∏™Ê∏ÖÁ©∫Â±èÂπïÁî®ÁöÑÈ¢úËâ≤&#125; onSurfaceChanged()ÔºöÂàõÂª∫ÂêéÊØèÂΩìSurfaceÂ∞∫ÂØ∏ÊîπÂèòÊó∂ÔºåÈÉΩË∞ÉÁî®Ê≠§ÊñπÊ≥ï 1234@Overridepublic void onSurfaceChanged(GL10 glUnsed, int width, int height) &#123; glViewport(0, 0, width, height); //ËÆæÁΩÆËßÜÁ™óÂ∞∫ÂØ∏&#125; onDrawFrame()ÔºöÁªòÂà∂ÊØè‰∏ÄÂ∏ßÊó∂Ë∞ÉÁî® 1234@Overridepublic void onDrawFrame(GL10 glUnsed) &#123; glClear(GL_COLOR_BUFFER_BIT); //Ê∏ÖÁ©∫Â±èÂπï&#125; ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ËøêË°åÁ®ãÂ∫è‰∫ÜÔºå‰Ω†Â∞±ÂèØ‰ª•ÁúãÂà∞Êï¥‰∏™Â±èÂπïÈÉΩÊàê‰∫ÜÁ∫¢Ëâ≤ÔºåËøôÊòØ‰∏∫Âï•Âë¢ÔºüÂõ†‰∏∫Êàë‰ª¨Âú®onSurfaceCreatedÊñπÊ≥ïÈáåÈù¢ËÆæÁΩÆ‰∫ÜglClearColor(1.0f,0.0f,0.0f,0.0f)„ÄÇËøô‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞ÂØπÂ∫îÁöÑÊòØRGBAÔºåÁÑ∂ÂêéÊàë‰ª¨ÂèàÂú®onDrawFrameÊñπÊ≥ï‰∏≠ËÆæÁΩÆ‰∫ÜÊ∏ÖÂ±èÔºåÊâÄ‰ª•ËøôÊ†∑‰Ω†Â∞±‰ºöÁúãÂà∞ÁöÑÊòØÁ∫¢Ëâ≤‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>OpenGL</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>OpenGL</tag>
        <tag>ÂõæÂÉèÂ§ÑÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(8)‚Äî‚ÄîÂ§©Ê∞îÈ¢ÑÊä•Á¨¨‰∫åÊ≠•-ÈÄâÊã©ÁúÅ„ÄÅÂ∏Ç„ÄÅÂå∫ÁïåÈù¢ÂèäÁΩëÁªúËØ∑Ê±Ç]]></title>
    <url>%2Fposts%2Ff0e3723.html</url>
    <content type="text"><![CDATA[È°πÁõÆGithubÂú∞ÂùÄÔºöa1203991686/CoolWeather_Flutter Âú®Á¨¨ÂÖ≠Á´†‰∏≠Êàë‰ª¨ÂÜô‰∫ÜÂ§©Ê∞îÈ¢ÑÊä•ÁöÑÈ°µÈù¢Ôºå ‰ΩÜÊòØ‰Ω†‰Ωú‰∏∫Â§©Ê∞îÈ¢ÑÊä•ËÇØÂÆöËÉΩÈÄâÊã©ÂüéÂ∏ÇÂêß„ÄÇÊâÄ‰ª•Êàë‰ª¨Áé∞Âú®Êù•ÂÜôÈÄâÊã©ÁúÅ„ÄÅÂ∏Ç„ÄÅÂå∫ÁöÑÁïåÈù¢„ÄÇ Êàë‰ª¨‰ΩøÁî®ÁöÑÊòØÈÉ≠ÈúñÂ§ßÁ•ûÂú®Á¨¨‰∏ÄË°å‰ª£Á†ÅÊúÄÂêéÈù¢ÈÖ∑Ê¨ßÂ§©Ê∞îÁöÑAPI„ÄÇ 1. ÂÆûÁé∞ÁïåÈù¢Êó¢ÁÑ∂ÊòØ‰∏Ä‰∏™ÈÄâÊã©ÁúÅÂ∏ÇÂå∫ÁöÑÁïåÈù¢ÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Áî®ListView„ÄÇ È¶ñÂÖàÁúã‰∏Ä‰∏ãÂ§ßËá¥ÁïåÈù¢Ôºö Â∞±Áõ¥Êé•‰ΩøÁî®ListViewÁöÑbuilder()ÊñπÊ≥ïÔºåÂøò‰∫ÜÁöÑÂêåÂ≠¶ÂèØ‰ª•ÁúãÂâçÈù¢Á¨¨5Á´†„ÄÇ ÁúÅÂú®viewÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™Á±ªprovinces_page.dartÔºåÊé•‰∏ãÊù•Â∞±Âú®Ëøô‰∏™Êñá‰ª∂ÈáåÈù¢ÂÜô‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728class ProvincesPageWidget extends StatefulWidget &#123; ProvincesPageWidget(&#123;Key key&#125;) : super(key: key); @override ProvincesPageStateWidget createState() =&gt; new ProvincesPageStateWidget();&#125;class ProvincesPageStateWidget extends State&lt;ProvincesPageWidget&gt; &#123; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: new AppBar( title: Text( "ÁúÅ‰ªΩ", style: TextStyle(fontSize: 25.0), ), ), body: ListView.builder( itemCount: 30, itemBuilder: (context, index) &#123; return ListTile( title: Text("$index"), ); &#125;, ), ); &#125;&#125; Â∏ÇÂíåÁúÅ‰∏ÄÊ†∑„ÄÇÂú®viewÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™Á±ªcity_page.dartÔºåÊé•‰∏ãÊù•Â∞±Âú®Ëøô‰∏™Êñá‰ª∂ÈáåÈù¢ÂÜô‰ª£Á†Å„ÄÇÁÖßÁùÄÁúÅÁöÑ‰æùËë´Ëä¶ÁîªÁì¢ÔºåÂÜô‰∏Ä‰∏™ListView„ÄÇ Âå∫ÂíåÁúÅ‰∏ÄÊ†∑„ÄÇÂú®viewÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™Á±ªcounties_page.dartÔºåÊé•‰∏ãÊù•Â∞±Âú®Ëøô‰∏™Êñá‰ª∂ÈáåÈù¢ÂÜô‰ª£Á†Å„ÄÇÁÖßÁùÄÁúÅÁöÑ‰æùËë´Ëä¶ÁîªÁì¢ÔºåÂÜô‰∏Ä‰∏™ListView„ÄÇ 2. ÁΩëÁªúËØ∑Ê±ÇÁΩëÁªúËØ∑Ê±ÇÂèØ‰ª•Áúã‰∏ã‰πãÂâçÁ¨¨7Á´†ÁöÑÂÜÖÂÆπ„ÄÇ‰∏ªË¶ÅÊòØÈÄöËøáDioËøõË°åÁΩëÁªúËØ∑Ê±Ç„ÄÇÂ§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãÁ¨¨7Á´†ÁΩëÁªúËØ∑Ê±ÇÁöÑÂÜÖÂÆπ„ÄÇ Êàë‰ª¨ÁΩëÁªúËØ∑Ê±Ç‰∏ªË¶ÅÈúÄË¶Å‰ª•‰∏ãÂá†‰∏™APIÔºö ËØ∑Ê±ÇÁúÅ‰ªΩÂàóË°®Ôºöhttp://guolin.tech/api/china ËØ∑Ê±ÇÂØπÂ∫îÂ∏ÇÂàóË°®Ôºöhttp://guolin.tech/api/china/provinceID ËØ∑Ê±ÇÂØπÂ∫îÂå∫ÂéøÂàóË°®Ôºöhttp://guolin.tech/api/china/provinceID/cityID Áî±‰∫éÊàë‰ª¨Âú®‰πãÂâçÊñáÁ´†‰∏≠‰ΩøÁî®ÁöÑÁúÅ‰Ωú‰∏∫‰æãÂ≠êÔºåËøôÂùóÊàë‰ª¨Â∞±Áî®Âå∫Âéø‰Ωú‰∏∫‰æãÂ≠êÔºö ËΩ¨‰∏∫DartÁ±ªÈ¶ñÂÖà‰ΩøÁî®ÁΩëÁ´ôhttps://caijinglong.github.io/json2dart/Êù•ËÆ≤JsonÊï∞ÊçÆËΩ¨‰∏∫DartÂÆû‰ΩìÁ±ªÔºö ÁÑ∂ÂêéÂú®È°πÁõÆlibÁõÆÂΩïÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Â§π„ÄÇÂêç‰∏∫bean„ÄÇËøô‰∏™Êñá‰ª∂Â§π‰∏ªË¶ÅÂ≠òÊîæÂÆû‰ΩìÁ±ªÁöÑ‰ª£Á†Å„ÄÇÁÑ∂ÂêéÂú®Ëøô‰∏™Êñá‰ª∂Â§π‰∏ãÈù¢Êñ∞Âª∫‰∏Ä‰∏™dartÊñá‰ª∂ÔºåÂëΩÂêç‰∏∫Counties„ÄÇÁÑ∂ÂêéÊääÁîüÊàêÁöÑDart‰ª£Á†ÅÂ§çÂà∂Á≤òË¥¥ËøõÂéª„ÄÇ‰ΩÜÊòØ‰Ω†‰ºöÂèëÁé∞Â§çÂà∂ËøõÂéªÂêé‰ºöÊä•ÈîôÔºåËøô‰∏™‰∏çÁî®ÊÄ•ÔºåÊé•‰∏ãÊù•Êàë‰ª¨Êù•Â§ÑÁêÜÈîôËØØ„ÄÇ ÁîüÊàê.g.dartÊñá‰ª∂Êé•‰∏ãÊù•Âú®È°πÁõÆÊ†πÁõÆÂΩïÁöÑpubspec.yamlÊñá‰ª∂ÁöÑdependenciesÈ°π‰∏ãÈù¢Ê∑ªÂä†‰æùËµñjson_annotation„ÄÅdev_dependenciesÈ°π‰∏ãÈù¢Ê∑ªÂä†build_runnerÂíåjson_serializable„ÄÇ Êé•ÁùÄÊâìÂºÄÁªàÁ´ØÔºåÂÆö‰ΩçÂà∞È°πÁõÆÊ†πÁõÆÂΩïÔºåËæìÂÖ•flutter packages pub run build_runner buildÔºåËøêË°åÂç≥ÂèØ„ÄÇËøêË°åÂÆåÊØï‰Ω†Â∞±‰ºöÂèëÁé∞‰Ω†È°πÁõÆÁöÑÂ≠òÂÆû‰ΩìÁ±ªÁöÑlib/beanÁõÆÂΩïÂ§ö‰∫Ü‰∏Ä‰∏™Êñá‰ª∂ÔºåÂêç‰∏∫Counties.g.dart„ÄÇÂêåÊó∂‰Ω†Counties.dartÈáåÈù¢ÁöÑÈîôËØØ‰πüÊ≤°Êúâ‰∫Ü„ÄÇ ÁΩëÁªúËØ∑Ê±ÇÊúÄÂêé‰Ω†Â∞±ÂèØ‰ª•ÈÄöËøáDioÊù•ËøõË°åÁΩëÁªúËØ∑Ê±Ç‰∫Ü„ÄÇ1Dio().get(http://guolin.tech/api/china/$_provinceID/$_cityID); ÈÇ£‰πàÂà∞ËøôÊúâÁöÑÂêåÂ≠¶ÂèØËÉΩÂ∞±‰ºöÈóÆ‰∫ÜÔºå‰Ω†ÁΩëÂùÄÈáåÈù¢ÊúâprovinceIDÂíåcityIDÔºåÈÇ£Ëøô‰∏§‰∏™ÊÄé‰πàËé∑ÂèñÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÂæóÁî®‰∏äÂ∏¶ÂÄºË∑ØÁî±Ë∑≥ËΩ¨‰∫Ü„ÄÇ Êàë‰ª¨‰∏ÄËà¨ÈÉΩÊòØËøôÊ†∑ÁöÑ‰∏Ä‰∏™ÈÄªËæë:ÂÖàÈÄâÊã©ÁúÅ‰ªΩ„ÄÅÂÜçÈÄâÊã©ÂüéÂ∏Ç„ÄÅÊúÄÂêéÈÄâÊã©Âå∫ÂíåÂéø„ÄÇÊâÄ‰ª•Êàë‰ª¨Ëøô‰∏™CountyPageWidgetËÇØÂÆöÊòØÁî±CityPageWidgetË∞ÉÁî®ÁöÑ„ÄÇÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Âú®CityPageWidgetÁöÑListViewÈáåÈù¢Â∞ÜTextÈÄöËøáGestureDetectorÂåÖËµ∑Êù•ÔºåÁÑ∂ÂêéÂ∞ÜGestureDetectorÁöÑonTapÊñπÊ≥ïËÆæÁΩÆ‰∏∫Ë∑≥ËΩ¨Âà∞CountyPageWidget„ÄÇCityPageWidgetÁöÑListView‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819ListView.builder( itemCount: _cityList.cities.length, itemBuilder: (context, index) &#123; return GestureDetector( child: ListTile( title: Text("$&#123;_cityList.cities[index].name&#125;"), ), onTap: () &#123; Navigator.push(context, MaterialPageRoute(builder: (context) &#123; return CountiesPageWidget( provinceID: _provinceID, //Áî±CityWidgetÁöÑ‰∏ä‰∏ÄÁ∫ßProvinceWidget‰º†ËøáÊù•Ôºå cityID: _cityList.cities[index].id, // Áî±ÁΩëÁªúËØ∑Ê±ÇÂõûÊù•ÁöÑÊï∞ÊçÆ‰º†ÂÖ• ); &#125;)); &#125;, ); &#125;,); ËøôÊ†∑CountyPageWidgetÊâÄÈúÄÁöÑprovinceIDÂíåcityIDÈÉΩÊòØÁî±CityPageWidget‰º†ÂÖ•ÁöÑÔºåÈÇ£‰πàÊàë‰ª¨ÊÄé‰πàÂØπ‰ªñ‰º†ÂÖ•ÁöÑÂÄºËøõË°åÂ§ÑÁêÜÂë¢ÔºåÊÄé‰πàÊääÂÆÉÊ∑ªÂä†Âà∞ÁΩëÂùÄÈáåÂéªÔºüÊé•‰∏ãÊù•Â§ßÂÆ∂Áúã‰ª£Á†ÅÂ∞±Ë°å‰∫ÜÔºö1234567891011121314151617181920212223242526272829303132333435363738394041class CountyPageWidget extends StatefulWidget &#123; //Âú®Widget‰∏≠ÂÆö‰πâ‰∏§‰∏™ÔºåÊñπ‰æøÁî±ÂÖ∂‰ªñWidget‰º†ÂÖ• final int provinceID; final int cityID; // ËÆæÁΩÆÊûÑÈÄ†ÊñπÊ≥ïÔºåÂú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠‰º†ÂÖ•‰∏§‰∏™ÂèòÈáè CountyPageWidget(&#123;Key key, this.provinceID, this.cityID&#125;) : super(key: key); @override CountyPageWidgetState createState() =&gt; CountyPageWidgetState();&#125;class CountyPageWidgetState extends State&lt;CountyPageWidget&gt; &#123; // Âú®State‰∏≠ÂÆö‰πâ‰∏§‰∏™ÂèòÈáè int _provinceID; int _cityID; List&lt;County&gt; _county; @override void initState() &#123; // Âú®Ê≠§Â∞ÜWidget‰∏≠ÁöÑ‰∏§‰∏™ÂèòÈáèËµãÂÄºÁªôState‰∏≠ÁöÑÂèòÈáè _provinceID = widget.provinceID; _cityID = widget.cityID; super.initState(); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: new AppBar( title: Text( "Âå∫Âéø", style: TextStyle(fontSize: 25.0), ), ), body: FutureBuilder( // UIÂºÇÊ≠•Êõ¥Êñ∞ÁªÑ‰ª∂ // ËøôÂùóÂ∞±ÂèØ‰ª•Ë∞ÉÁî®‰∫Ü future: Dio().get("http://guolin.tech/api/china/$_provinceID/$_cityID"), builder: (BuildContext context, AsyncSnapshot snapshot) &#123; ...ÁúÅÁï•ÂêéÈù¢ÊâÄÊúâ‰ª£Á†Å&#125; 3. UIÂºÇÊ≠•Êõ¥Êñ∞‰∏éÂºÇÊ≠•Êõ¥Êñ∞Áõ∏ÂÖ≥ÁöÑÁü•ËØÜÂ§ßÂÆ∂‰πüÂèØ‰ª•ÁúãÊàë‰ª¨‰πãÂâçÁöÑÁ¨¨7Á´†ÂçöÂÆ¢ÔºåËøôÂùóÂè™ËÆ≤Â∫îÁî®„ÄÇ ÁúÅÂ∞ÜScaffoldÁöÑbodyÂèÇÊï∞ËÆæÁΩÆ‰∏∫FutureBuilderÔºåÂπ∂Âú®FutureBuilderÈáåÈù¢Ë∞ÉÁî®ListView:12345678910111213141516171819202122232425262728293031323334FutureBuilder( future: Dio().get("http://guolin.tech/api/china"), builder: (BuildContext context, AsyncSnapshot snapshot) &#123; if (snapshot.connectionState == ConnectionState.done) &#123; Response response = snapshot.data; //ÂèëÁîüÈîôËØØ if (snapshot.hasError) &#123; return Text(snapshot.error.toString()); &#125; provinceList = getProvinceList(response.data); //ËØ∑Ê±ÇÊàêÂäüÔºåÈÄöËøáÈ°πÁõÆ‰ø°ÊÅØÊûÑÂª∫Áî®‰∫éÊòæÁ§∫È°πÁõÆÂêçÁß∞ÁöÑListView return ListView.builder( itemCount: provinceList.length, itemBuilder: (context, index) &#123; return GestureDetector( child: ListTile( title: Text("$&#123;provinceList[index].name&#125;"), ), onTap: () &#123; Navigator.push(context, MaterialPageRoute(builder: (context) &#123; return CityPageWidget( provinceID: provinceList[index].id, ); &#125;)); &#125;, ); &#125;, ); &#125; // ËØ∑Ê±ÇÊú™ÂÆåÊàêÊó∂ÂºπÂá∫loading return CircularProgressIndicator(); &#125;,) Â∏Ç‰∏éÁúÅÂêåÁêÜ:1234567891011121314151617181920212223242526272829303132333435FutureBuilder( future: Dio().get("http://guolin.tech/api/china/$_provinceID"), builder: (BuildContext context, AsyncSnapshot snapshot) &#123; if (snapshot.connectionState == ConnectionState.done) &#123; Response response = snapshot.data; //ÂèëÁîüÈîôËØØ if (snapshot.hasError) &#123; return Text(snapshot.error.toString()); &#125; _cityList = getCityList(response.data); //ËØ∑Ê±ÇÊàêÂäüÔºåÈÄöËøáÈ°πÁõÆ‰ø°ÊÅØÊûÑÂª∫Áî®‰∫éÊòæÁ§∫È°πÁõÆÂêçÁß∞ÁöÑListView return ListView.builder( itemCount: _cityList.length, itemBuilder: (context, index) &#123; return GestureDetector( child: ListTile( title: Text("$&#123;_cityList[index].name&#125;"), ), onTap: () &#123; Navigator.push(context, MaterialPageRoute(builder: (context) &#123; return CountiesPageWidget( provinceID: _provinceID, cityID: _cityList[index].id, ); &#125;)); &#125;, ); &#125;, ); &#125; // ËØ∑Ê±ÇÊú™ÂÆåÊàêÊó∂ÂºπÂá∫loading return CircularProgressIndicator(); &#125;,) Âå∫Âéø‰∏éÁúÅÂêåÁêÜ:1234567891011121314151617181920212223242526272829303132333435FutureBuilder( future: Dio().get("http://guolin.tech/api/china/$_provinceID/$_cityID"), builder: (BuildContext context, AsyncSnapshot snapshot) &#123; if (snapshot.connectionState == ConnectionState.done) &#123; Response response = snapshot.data; //ÂèëÁîüÈîôËØØ if (snapshot.hasError) &#123; return Text(snapshot.error.toString()); &#125; _county = getCountyList(response.data); //ËØ∑Ê±ÇÊàêÂäüÔºåÈÄöËøáÈ°πÁõÆ‰ø°ÊÅØÊûÑÂª∫Áî®‰∫éÊòæÁ§∫È°πÁõÆÂêçÁß∞ÁöÑListView return ListView.builder( itemCount: _county.length, itemBuilder: (context, index) &#123; return GestureDetector( child: ListTile( title: Text("$&#123;_county[index].name&#125;"), ), onTap: () &#123; _saveCityID(_county[index].weatherId); Navigator.push(context, MaterialPageRoute(builder: (context) &#123; return MainPage( cityID: _county[index].weatherId, ); &#125;)); &#125;, ); &#125;, ); &#125; // ËØ∑Ê±ÇÊú™ÂÆåÊàêÊó∂ÂºπÂá∫loading return CircularProgressIndicator(); &#125;,)]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(7)‚Äî‚ÄîHttpÁΩëÁªúËØ∑Ê±Ç„ÄÅJsonËΩ¨DartÂÆû‰ΩìÁ±ªÂèäÂºÇÊ≠•Êõ¥Êñ∞UI]]></title>
    <url>%2Fposts%2F163d319c.html</url>
    <content type="text"><![CDATA[Áõ∏ÂÖ≥DemoÊ∫êÁ†ÅÂèØËßÅGithub a1203991686/CoolWeather_Flutter Flutter Http ÁΩëÁªúËØ∑Ê±ÇFlutterÁΩëÁªúËØ∑Ê±ÇÂèØÂàÜ‰∏∫‰∏§ÁßçÊñπÂºèÔºå‰∏ÄÁßç‰∏∫Dart:IOÂ∫ì‰∏≠‰∏∫Êàë‰ª¨Êèê‰æõÁöÑHttpClientÔºåÂè¶‰∏ÄÁßç‰∏∫DartÁ¨¨‰∏âÊñπÂ∫ìDio„ÄÇ HttpClientHttpClientÊòØDart:IOÂ∫ìËá™Â∏¶ÁöÑ‰∏Ä‰∏™Á±ªÔºåÈÄöËøá‰ªñÊù•ÂÆûÁé∞ÁΩëÁªúËØ∑Ê±ÇÊúÄÂ∫ïÂ±Ç„ÄÅ‰πüÂèØ‰ª•ÂÆåÂÆåÂÖ®ÂÖ®ÁöÑËá™ÂÆö‰πâËÆæÁΩÆÔºå‰ΩÜÊòØÁõ∏ÂØπ‰∫éÂÖ∂‰ªñ‰∫∫Â∞ÅË£ÖÂ•ΩÁöÑÁ¨¨‰∏âÊñπÂ∫ìÊù•ËØ¥ÊòæÂæóÂ§çÊùÇ„ÄÇ ÂºïÂÖ•ÂØºÂÖ•Dart:IOÂ∫ìÔºö1import 'dart:io'; ÂàõÂª∫‰∏Ä‰∏™HttpClient:1HttpClient httpClient = new HttpClient(); ÂàõÂª∫‰∏Ä‰∏™UriÂ¶ÇÊûú‰Ω†ÊòØHttpËØ∑Ê±ÇÔºö1234567var uri = new Uri.http( host, queryParameters: &#123; "xx":"xx", "yy":"dd" &#125;); Â¶ÇÊûú‰Ω†ÊòØHttpsËØ∑Ê±ÇÔºö1234567var uri = new Uri.https( host, queryParameters: &#123; "xx":"xx", "yy":"dd" &#125;); Ê†πÊçÆuriËé∑ÂèñËøîÂõûÊï∞ÊçÆ12HttpClientRequest request = await httpClient.getUrl(uri);HttpClientResponse response = await request.close(); ËØªÂèñÂÜÖÂÆπËøõË°åËøô‰∏ÄÊ≠•ÂæóÂØºÂÖ•dart:convertÂ∫ìÔºö1234567import 'dart:convert';... //ÁúÅÁï•‰∏≠Èó¥‰ª£Á†Å String responseBody = await response.transform(Utf8Decoder()).join();print(respinseBody) ÊúÄÂêéÂÖ≥Èó≠Client1httpClient.close(); DioDioÊòØDartÁ§æÂå∫‰∏äÂà´‰∫∫‰∏ä‰º†ÁöÑÁ¨¨‰∏âÊñπÂ∫ìÔºå‰ªñÂ∞ÅË£Ö‰∫ÜHttpClientÔºåÁõ∏ËæÉÊù•ËØ¥Êõ¥‰∏∫ÁÆÄÂçï„ÄÅÊñπ‰æø„ÄÇ ÂºïÂÖ•Âú®È°πÁõÆÁöÑpubspec.yamlÊñá‰ª∂ÁöÑdependencies‰∏≠ÂØºÂÖ•DioÔºö123dependencies: dio: // Â¶ÇÊûúÂÜíÂè∑ÂêéÈù¢‰∏çÂ∏¶ÂÖ∑‰ΩìÁâàÊú¨‰ø°ÊÅØÂàôË°®Á§∫Ëá™Âä®‰∏ãËΩΩÊúÄÊñ∞Áâà Êé•ÁùÄÂú®ÈúÄË¶Å‰ΩøÁî®ÁöÑ‰ª£Á†ÅÊñá‰ª∂ÈáåÈù¢ÔºåimportÂØºÂÖ•‰ªñÔºö1import 'package:dio/dio.dart'; Êé•ÁùÄÊàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®Dio‰∫Ü„ÄÇ Á§∫‰æãÈ¶ñÂÖàÂæóÂàõÂª∫‰∏Ä‰∏™DioÂØπË±°„ÄÇ1Dio dio = Dio(); ÂèëËµ∑GETËØ∑Ê±ÇÔºö123Response response;response=await dio.get(uri)print(response.data.toString()); ÂèëËµ∑POSTËØ∑Ê±ÇÔºö1response=await dio.post(uri); JsonËΩ¨DartÊâãÂä®ÁîüÊàêDartÂÆû‰ΩìÁ±ªÈ¶ñÂÖàÂæóÂ§ßÂÆ∂ÂÆâÂà©‰∏Ä‰∏™ÁΩëÁ´ôÔºåÂõ†‰∏∫DartÂÆû‰ΩìÁ±ªÊØîJavaÂÆû‰ΩìÁ±ªÂ§ö‰∫ÜÂá†‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª•Áõ∏ÂØπÊù•ËØ¥È∫ªÁÉ¶ÔºåÈÄöËøáËøô‰∏™ÁΩëÁ´ôÂ∞±ÂèØ‰ª•Ëá™Âä®ÁîüÊàêjsonÊï∞ÊçÆÂØπÂ∫îÁöÑÂÆû‰ΩìÁ±ª:https://caijinglong.github.io/json2dart/ ÊØîÊñπËØ¥Êàë‰ª¨‰ΩøÁî®Ëøô‰∏™ÈìæÊé•(http://guolin.tech/api/china)ÔºåÂπ∂ËÆ©‰ªñËá™Âä®ËΩ¨dartÔºö Êé•‰∏ãÊù•Âè™ÈúÄË¶ÅÂàõÂª∫dartÊñá‰ª∂ÔºåÁÑ∂ÂêéÂÜçÊää‰ª£Á†ÅÂ§çÂà∂ËøõÂéªÂ∞±Ë°å‰∫Ü„ÄÇ ‰∏çÂá∫ÊÑèÂ§ñÔºå‰ª£Á†ÅËÇØÂÆö‰ºöÊä•Èîô„ÄÇ Êä•Èîô‰ø°ÊÅØ‰∏∫:12345error: Target of URI hasn't been generated: 'province.g.dart'. (uri_has_not_been_generated at [cool_weather] lib/bean/province.dart:3)error: The method '_$ProvinceFromJson' isn't defined for the class 'Province'. (undefined_method at [cool_weather] lib/bean/province.dart:31)error: The method '_$ProvinceToJson' isn't defined for the class 'Province'. (undefined_method at [cool_weather] lib/bean/province.dart:33) ËøôÊòØÂõ†‰∏∫Êàë‰ª¨È°πÁõÆ‰∏ãËøòÊ≤°Êúâprovince.g.dartËøô‰∏™Êñá‰ª∂ÔºåËøô‰∏™Êñá‰ª∂ÊòØÊ†πÊçÆdartÂÆû‰ΩìÁ±ªËá™Âä®ÁîüÊàêÁöÑÔºåÈÇ£‰πàÊàë‰ª¨ËØ•ÊÄé‰πàÁîüÊàê‰ªñÂë¢Ôºü Ëøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅÂú®pubspec.yamlÊñá‰ª∂‰∏≠ÂØºÂÖ•‰∏â‰∏™‰æùËµñÂåÖÔºöÊàë‰ª¨ÈáçÁÇπÂè™ÈúÄË¶ÅÁÆ°‰∏â‰∏™ÂÜôÁùÄÈúÄË¶ÅÂØºÂÖ•ÁöÑ„ÄÇËæìÂÖ•‰πãÂêéÁÇπÂáªpubspec.yamlÊñá‰ª∂Âè≥‰∏äËßíÁöÑpackages getÔºåÂ∞±‰ºöËá™Âä®‰∏ãËΩΩÂåÖ‰∫Ü„ÄÇ ÁÑ∂ÂêéÂú®ÁªàÁ´Ø‰∏≠ÔºåËΩ¨Âà∞È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÔºåËæìÂÖ•1flutter packages pub run build_runner build Êé•ÁùÄ‰Ω†Â∞±‰ºöÊÉäÂñúÁöÑÂèëÁé∞ÔºåÂú®‰Ω†ÁöÑdartÂÆû‰ΩìÁ±ª‰∏ãÈù¢Â§ö‰∫Ü‰∏Ä‰∏™Êñá‰ª∂Ôºå‰πüÂ∞±ÊòØ‰Ω†ÊâÄÁº∫Â§±ÁöÑ~.g.dartÊñá‰ª∂ÔºåÂπ∂‰∏îÂÆû‰ΩìÁ±ª‰∏≠ÈÇ£‰∫õÊä•Èîô‰πüÈÉΩÊ≤°‰∫Ü„ÄÇ Â∞ÜËØ∑Ê±ÇÂõûÊù•ÁöÑResponseËΩ¨‰∏∫DartÂÆû‰ΩìÁ±ªÊé•ÁùÄHttpClientËøîÂõûÊù•ÁöÑresponseBodyÊàñËÄÖDioËøîÂõûÁöÑresponse 12List&lt;Province&gt; provinceList;provinceList = ProvinceList.getProvinceList(jsonResponse); provinceListÂ∞±ÊòØËøîÂõûÊù•ÁöÑÊï∞ÊçÆËΩ¨ÊàêÁöÑÂÆû‰ΩìÁ±ªÁöÑÂØπË±°‰∫Ü„ÄÇ ÂºÇÊ≠•Êõ¥Êñ∞UIÂú®Ê≠§Â§Ñ‰ªãÁªç‰∏§ÁßçÊñπÊ≥ïÔºåÁ¨¨‰∏ÄÁßçÊòØÊàëËá™Â∑±ÊÉ≥Âá∫Êù•ÁöÑÊ≤ôÈõïÊñπÊ≥ïÔºåÁ¨¨‰∫åÁßçÊòØÈÄöËøáFlutterÊèê‰æõÁöÑ‰∏ìÈó®Áî®‰∫éÂºÇÊ≠•Êõ¥Êñ∞UIÁöÑÁªÑ‰ª∂FutureBuilder„ÄÇ Ê≤ôÈõïÊñπÊ≥ïÂú®Ê≠§ËØ¥‰∏Ä‰∏ãÊàëËøô‰∏™ÊñπÊ≥ïÁöÑÊÉ≥Ê≥ï„ÄÇ Â§ßÂÆ∂ÂèØ‰ª•ÂõûÈ°æ‰∏ãÊàë‰πãÂâçËÆ≤WidgetÁöÑÊó∂ÂÄôËØ¥ËøáÔºåWidgetÊúâ‰∏Ä‰∏™ÊñπÊ≥ïinitStateÂèØ‰ª•Áî®Êù•Âä†ËΩΩUIÔºå‰ª•Âèä‰∏Ä‰∏™setStateÊñπÊ≥ïÂèØÁî®Êù•ÊèêÈÜíFlutterÈáçÊñ∞Âä†ËΩΩUI„ÄÇ ËØ¥Âà∞ËøôÂæàÂ§öÂêåÂ≠¶‰∏ÄÂÆöÊÉ≥Âà∞‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Ëé∑ÂèñÂà∞Êï∞ÊçÆ‰πãÂêéÈÄöËøásetStateÊñπÊ≥ïÊù•Êõ¥Êñ∞UI„ÄÇ Ëé∑ÂèñÂà∞Êï∞ÊçÆËøô‰∏™‰∏çÂêåÂ§öËØ¥Ôºå‰∏äÈù¢ËÆ≤ÁöÑÂÖ®ÈÉΩÊòØËé∑ÂèñÊï∞ÊçÆ„ÄÇ ËÆæÁΩÆ‰∏Ä‰∏™Á©∫ÁöÑÂÆû‰ΩìÁ±ªÊ≠§Â§ÑÊàëËøòÊòØÊãø‰∏äÈù¢ÁöÑProvince.dartÊù•ÂÅö‰æãÂ≠ê„ÄÇÊàë‰ª¨Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãËé∑ÂèñÂà∞ÁöÑÊï∞ÊçÆËΩ¨ÊàêÁöÑÂÆû‰ΩìÁ±ªÁöÑÂØπË±°ÊòØList&lt;Province&gt; provinceList„ÄÇÊâÄ‰ª•Êàë‰ª¨Ê≠§Â§ÑÂÖàËÆæÁΩÆ‰∏Ä‰∏™Á©∫ÁöÑÂØπË±°:List&lt;Province&gt; _provinceList„ÄÇ Êé•ÁùÄÂú®initStateÈáåÈù¢Ë∞ÉÁî®ÁΩëÁªúËØ∑Ê±ÇÁöÑÊñπÊ≥ïÔºö12345@overridevoid initState() &#123; getProvince(); super.initState();&#125; ÁÑ∂ÂêéÂú®getProvinceÊñπÊ≥ïÈáåÈù¢Ëé∑ÂèñÊï∞ÊçÆÔºåÂπ∂Â∞ÜÊï∞ÊçÆprovinceList‰º†Áªô_provinceListÔºö 1234567void getProvince() async &#123; var response = await Dio().get("http://guolin.tech/api/china"); provinceList = ProvinceList.getProvinceList(response); setState(() &#123; _provinces = provinceList; &#125;);&#125; ËøôÊ†∑Â∞±ÂèØ‰ª•ÂΩìËé∑ÂèñÂà∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÂ∞±ÈÄöÁü•FlutterÊõ¥Êñ∞Áä∂ÊÄÅ‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôÊúâÁöÑÂêåÂ≠¶ÂèØËÉΩ‰ºöÈóÆÊàëÔºå‰Ω†Ëøô‰∏™‰πüÂè™ÊòØËé∑ÂèñÂà∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÊâçÊõ¥Êñ∞ÂïäÔºåÈÇ£ÂΩìËøòÊ≤°Ëé∑ÂèñÂà∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÂë¢Ôºü ËøôÂùóÂ∞±‰ΩìÁé∞Âà∞‰∫Ü‰∏∫‰ªÄ‰πàÊàë‰ª¨Ë¶ÅËÆæÁΩÆ‰∏Ä‰∏™_provinces‰∫Ü„ÄÇ Êàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•Âú®buildÊñπÊ≥ïËÆæÁΩÆ‰∏ãÔºåÂà§Êñ≠‰∏ã_provinces‰∏∫‰∏ç‰∏∫Á©∫:Â¶ÇÊûú‰∏∫Á©∫ÔºåÂ∞±ËØÅÊòéÊ≤°Êï∞ÊçÆÔºåÂ∞±Âä†ËΩΩÂÖ∂ÂÆÉÈ°µÈù¢ÔºõÂ¶ÇÊûú‰∏ç‰∏∫Á©∫ÔºåÂ∞±ËØÅÊòéÊúâÊï∞ÊçÆ‰∫ÜÔºåÈÇ£Â∞±Âä†ËΩΩÊï∞ÊçÆ„ÄÇ12345body: _provinces == null ? new Text("Ê≠£Âú®ËØ∑Ê±Ç") : new ListView.builder( ... //ÁúÅÂéª‰ª£Á†ÅÔºåÊÄªÁöÑÊù•ËØ¥Â∞±ÊòØÂ∞Ü_provincesÁöÑÊï∞ÊçÆÂä†ËΩΩListViewÈáåÈù¢Ôºå‰∏Ä‰∏™ListViewÁöÑÂü∫Êú¨ÊûÑÈÄ†ÊñπÊ≥ï ) FutureBuilderÂõûÂΩíÊ≠£È¢òÔºåÊàë‰∏äÈù¢ÈÇ£‰∏™ÊñπÊ≥ïÁúüÁöÑÊòØÊúâÂ§üÊ≤ôÈõïÁöÑ„ÄÇ ÈÇ£Êàë‰ª¨Êù•ÁúãÁúãËøô‰∏™ÂêçÊ≠£Ë®ÄÈ°∫ÁöÑFlutter‰∫≤ÁîüÂÑøÂ≠êFutureBuilder„ÄÇ È¶ñÂÖàÊàë‰ª¨Áúã‰∏ãÂÆö‰πâÔºö12345FutureBuilder(&#123; this.future, this.initialData, @required this.builder,&#125;) futureÔºöÂºÇÊ≠•‰ªªÂä°Ôºõ initialDataÔºöÂàùÂßãÂåñÊï∞ÊçÆÔºõ builderÔºöbuilderÊñπÊ≥ï„ÄÇ Á§∫‰æã1234567891011121314151617181920212223242526272829303132333435body: FutureBuilder( future: Dio().get("http://guolin.tech/api/china"), builder: (BuildContext context, AsyncSnapshot snapshot) &#123; if (snapshot.connectionState == ConnectionState.done) &#123; Response response = snapshot.data; print(response.toString()); //ÂèëÁîüÈîôËØØ if (snapshot.hasError) &#123; return Text(snapshot.error.toString()); &#125; provinceList = ProvinceList.fromJson(response.data); //ËØ∑Ê±ÇÊàêÂäüÔºåÈÄöËøáÈ°πÁõÆ‰ø°ÊÅØÊûÑÂª∫Áî®‰∫éÊòæÁ§∫È°πÁõÆÂêçÁß∞ÁöÑListView return ListView.builder( itemCount: provinceList.provinces.length, itemBuilder: (context, index) &#123; return GestureDetector( child: ListTile( title: Text("$&#123;provinceList.provinces[index].name&#125;"), ), onTap: () &#123; Navigator.push(context, MaterialPageRoute(builder: (context) &#123; return CityPageWidget( cityID: provinceList.provinces[index].id); &#125;)); &#125;, ); &#125;, ); &#125; // ËØ∑Ê±ÇÊú™ÂÆåÊàêÊó∂ÂºπÂá∫loading return CircularProgressIndicator(); &#125;,)]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(6)‚Äî‚ÄîÂ§©Ê∞îÈ¢ÑÊä•Á¨¨‰∏ÄÊ≠•-ÁïåÈù¢]]></title>
    <url>%2Fposts%2F15395a84.html</url>
    <content type="text"><![CDATA[ÁªèËøáÂâçÈù¢ÁöÑÂØπ‰∫éFlutterÁöÑ‰ªãÁªçÔºåÊàë‰ª¨Áé∞Âú®Â∑≤ÁªèÂèØ‰ª•ÂºÄÂßãÂÜôÊàë‰ª¨ÁöÑÂ§©Ê∞îÈ¢ÑÊä•APPÁöÑÁïåÈù¢‰∫Ü„ÄÇ È°πÁõÆGithubÂú∞ÂùÄÔºöa1203991686/CoolWeather_Flutter 1. Â§ßËá¥ÁïåÈù¢ÊúÄÁªàÂÜôÊàêÁöÑÂ§ßËá¥ÁïåÈù¢Â¶ÇÂõæÔºö Êàë‰ª¨ÂèØ‰ª•ÊääËøô‰∏™ÁïåÈù¢ÊãÜÂàÜÊàêÂ¶Ç‰∏ãÈÉ®ÂàÜÔºö ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨APP‰∏ªË¶ÅÊúâÊúÄ‰∏äÈù¢Áî®Êù•ÊòæÁ§∫Âú∞ÁÇπÂíåÂà∑Êñ∞Êó∂Èó¥ÁöÑTitle„ÄÅÊòæÁ§∫Ê∏©Â∫¶ÂíåÂ§©Ê∞îÁöÑ‰∏§‰∏™Text„ÄÅÊòæÁ§∫3Â§©È¢ÑÊä•ÁöÑListView„ÄÅÊòæÁ§∫Á©∫Ê∞îË¥®ÈáèÁöÑGridView„ÄÅ‰ª•ÂèäÊúÄÂêéÊòæÁ§∫ÁîüÊ¥ªÂª∫ËÆÆÁöÑListView„ÄÇ Ê≠§Â§Ñ‰ºöÁî®Âà∞Êàë‰ª¨ÂâçÈù¢Â≠¶ËøáÁöÑÊâÄÊúâÁü•ËØÜÔºåÂ¶ÇÊûúÊúâÂêåÂ≠¶Ê≤°ÊúâÁúãËøáÂâçÈù¢ÂÜÖÂÆπÁöÑÔºåÂèØ‰ª•Áúã‰∏ãÊú¨Á≥ªÂàóÂâçÈù¢ÁöÑÊñáÁ´†„ÄÇ 2. ÂàõÂª∫È°πÁõÆÈ¶ñÂÖàÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑFlutterÈ°πÁõÆÔºö Âú®AndroidStudioÁÇπÂáªFile-&gt;New Flutter ProjectÔºõ Êé•ÁùÄÈÄâÊã©Flutter Application-&gt;NEXT„ÄÇÊé•ÁùÄÂ°´ÂÜô‰Ω†ÁöÑÈ°πÁõÆÂêçÁß∞Á≠â‰∏ÄÁ≥ªÂàó‰ø°ÊÅØÂêéÁÇπÂáªnextÔºõ Êé•ÁùÄËæìÂÖ•‰Ω†ÁöÑÁªÑÁªá/ÂÖ¨Âè∏ÂêçÁß∞‰Ωú‰∏∫ÂåÖÂêçÔºåÊúÄÂêéÁÇπÂáªFinishÂç≥ÂèØÔºåËøôÊ†∑Â∞±Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™FlutterÈ°πÁõÆÔºåÂπ∂‰∏îFlutter‰ºöËá™Âä®‰∏∫‰Ω†ÁîüÊàê‰∏Ä‰∏™ËÆ°Êï∞Âô®DemoÔºõ ËÆ©Êàë‰ª¨Êäämian.dartÈáåÈù¢ÁöÑÊâÄÊúâÊ≥®Èáä‰ª•Âèä_MyHomePageStateÈáåÈù¢ÁöÑbuildÊñπÊ≥ïÈáåÈù¢ÁöÑ‰ª£Á†ÅÈÉΩÂà†ÊéâÔºõ Êé•ÁùÄÂú®libÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Â§πÔºåÂêçÂè´viewÔºåÂà∞Êó∂ÂÄôÊàë‰ª¨ÊääÊâÄÊúâ‰∏éÁïåÈù¢ÊúâÂÖ≥ÁöÑ‰ª£Á†ÅÊñá‰ª∂ÈÉΩÊîæÂú®Ëøô‰∏™Êñá‰ª∂Â§π‰∏ãÈù¢Ôºõ ÁÑ∂ÂêéÊàë‰ª¨Âú®viewÊñá‰ª∂Â§π‰∏ãÈù¢Êñ∞Âª∫‰∏Ä‰∏™dartÊñá‰ª∂ÔºåÂëΩÂêç‰∏∫main_page„ÄÇËøô‰∏™Â∞±ÊòØÊàë‰ª¨ÁöÑÂ§©Ê∞îËØ¶ÊÉÖÈ°µ„ÄÇ 3. ËÆæËÆ°Â•ΩÂ§©Ê∞îËØ¶ÊÉÖÈ°µÊ°ÜÊû∂È¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂØºÂÖ•materialÂåÖÔºåÊàë‰ª¨È°πÁõÆ‰∏ªË¶ÅÁî®materialÈ£éÊ†ºUIÊù•ÂÜô„ÄÇ Âú®ÂºÄÂ§¥ËæìÂÖ•import &#39;package:flutter/material.dart&#39;;ÔºåËøôÊ†∑Â∞±ÂØºÂÖ•‰∫ÜmaterialÂåÖ„ÄÇÊé•ÁùÄÂàõÂª∫Êàë‰ª¨ÁöÑÁïåÈù¢Á±ªMainPage„ÄÇ Áî±‰∫éÊàë‰ª¨Âú®Âà∞Êó∂ÂÄôÂÜôÂ•ΩÁΩëÁªúËØ∑Ê±ÇÂêéÔºåÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÂæó‰ªéÁΩëÁªúËé∑ÂèñÔºåÂπ∂‰∏î‰ΩøÁî®‰∫ÜÂºÇÊ≠•ÁöÑÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÂÖàÊääÈ°µÈù¢Âä†ËΩΩ‰∫ÜÁÑ∂ÂêéÁ≠âËé∑ÂèñÁöÑÊï∞ÊçÆÂõûÊù•‰∫ÜÂú®ÈÄöÁü•FlutterÊõ¥Êñ∞Áä∂ÊÄÅÔºåÊâÄ‰ª•ËøôÂùóÊàë‰ª¨Âæó‰ΩøÁî®StatefulWidget„ÄÇ12345678910111213class MainPage extends StatefulWidget &#123; MainPage(&#123;Key key&#125;) : super(key: key); @override MainPageState createState() =&gt; new MainPageState();&#125;class MainPageState extends State&lt;MainPage&gt; &#123; @override Widget build(BuildContext context) &#123; &#125;&#125; Êé•ÁùÄÊàë‰ª¨Â∞±ÂæóÂºÄÂßãÂÜôbuild()ÈáåÈù¢ÁöÑÂÜÖÂÆπ‰∫Ü„ÄÇÁî±‰∫éÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ÂÖ®Â±èÁöÑËÉåÊôØÂõæÁâáÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±‰ΩøÁî®Container‰Ωú‰∏∫Êàë‰ª¨ÊúÄÂ§ñÂ±ÇÁöÑWidgetÔºåÂπ∂‰ΩøÁî®BoxDecorationË£ÖÈ•∞ÂÆπÂô®ÈÖçÂêàDecorationImageÊù•ÊîæÁΩÆÂõæÁâáÔºö123456789101112@overrideWidget build(BuildContext context) &#123; return Container( decoration: BoxDecoration( image: DecorationImage( image: NetworkImage("http://blog.mrabit.com/bing/today"), //ÂøÖÂ∫îÊØèÊó•‰∏ÄÂõæËÉåÊôØ fit: BoxFit.cover, // ËÆæÁΩÆ‰∏∫ÂÖ®Â±è ), ), child: _weatherBody(), );&#125; Ëøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÁöÑËøêË°åÁªìÊûúÂ¶ÇÂõæ(‚ë†‰Ω†ËÉåÊôØÂõæÁâáÂ§öÂçäÂíåÊàë‰∏ç‰∏ÄÊ†∑ÔºåÂõ†‰∏∫‰∏äÈù¢ÈÇ£‰∏™UriËé∑ÂèñÁöÑÊòØÂøÖÂ∫îÁöÑÊØèÊó•‰∏ÄÂõæÔºåÊØèÂ§©ÂõæÁâáÈÉΩ‰∏ç‰∏ÄÊ†∑Ôºõ‚ë°ËøêË°åÁöÑÊó∂ÂÄôËÆ∞ÂæóÊäächild: _weatherBody(),ÁªôÊ≥®ÈáäÊéâÔºåÂõ†‰∏∫Êàë‰ª¨ËøòÊ≤°ÊúâÂÆö‰πâ_weatherBody()Ëøô‰∏™ÊñπÊ≥ï): 4. ËÆæËÆ°title‰∏∫‰∫ÜÊñπ‰æøÊàëÂ∞±Áõ¥Êé•ÊääÂâ©‰∏ãÁöÑÂ∏ÉÂ±ÄÂçïÈ¢ÜÂá∫Êù•ÊîæÂà∞_weatherBody()Ëøô‰∏™ÊñπÊ≥ï:123Widget _weatherBody() &#123; return&#125; Áî±‰∫éÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™ÊúâTitleÁöÑÈ°µÈù¢ÔºåÊâÄ‰ª•ÊúÄÂ§ñÂ±ÇÊàëÈÄâÁî®‰∫ÜScaffoldÔºö12345678910111213141516171819202122232425Widget _weatherBody() &#123; return Scaffold( backgroundColor: Colors.transparent, //ËÉåÊôØÈÄèÊòé appBar: AppBar( centerTitle: true, title: Text( "Âåó‰∫¨", style: TextStyle(fontSize: 25.0), ), backgroundColor: Colors.transparent, //ËÉåÊôØÈÄèÊòé actions: &lt;Widget&gt;[ //Âè≥‰æßWidgetÔºåÁõ∏ÂΩì‰∫éAndroid Toolbar‰∏≠ÁöÑmenu Container( alignment: Alignment.center, //Âêë‰∏≠Èó¥ÂØπÈΩê child: Text( "12:10", textAlign: TextAlign.center, //ÊñáÂ≠óÂêë‰∏≠Èó¥ÂØπÈΩê ), ) ], ), body: SingleChildScrollView( // Áî±‰∫éÂà∞Êó∂ÂÄôÊï¥‰∏™È°µÈù¢‰∏Ä‰∏™Â±èÂπïÂèØËÉΩÊîæ‰∏ç‰∏ãÔºåÂ∞±ÊîæÁΩÆ‰∫Ü‰∏Ä‰∏™ÊªöÂä®Â∏ÉÂ±Ä ), );&#125; Ëøô‰∏™Êó∂ÂÄôÁöÑËøêË°åÁªìÊûúÊòØÔºö 5. ËÆæËÆ°‰∏ãÈù¢Â§©Ê∞îÈ¢ÑÊä•È°µÈù¢Êé•‰∏ãÊù•ÂèØ‰ª•ÂºÄÂßã‰∏ã‰∏ãÈù¢ÁöÑÂ§©Ê∞îÊòæÁ§∫È°µÈù¢‰∫Ü„ÄÇ ÂΩìÂâçÊ∏©Â∫¶ÂíåÂ§©Ê∞îÊÉÖÂÜµÈ¶ñÂÖàÂÜô‰∏Ä‰∏™Á∫µÂêëÁ∫øÊÄßÂ∏ÉÂ±ÄColumn:1234567body: SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ ] )), Áî±‰∫éÊàë‰ª¨Ë¶ÅÊòæÁ§∫Âú®Â±èÂπïÊúÄÂè≥ËæπÔºåÊâÄ‰ª•‰ΩøÁî®Align:1234567891011121314151617181920212223242526body: SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ Align( alignment: Alignment.centerRight, child:Text( "26¬∞C", style: TextStyle( fontSize: 50.0, color: Colors.white, ), ), ), Align( alignment: Alignment.centerRight, child:Text( "Èò¥", style: TextStyle( fontSize: 20.0, color: Colors.white, ), ), ), ] )), ËøêË°åÁªìÊûúÊòØÔºö Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅÊòæÁ§∫3Â§©Â§©Ê∞îÈ¢ÑÊä•„ÄÅÂ§©Ê∞îË¥®Èáè‰ª•ÂèäÁîüÊ¥ªÂª∫ËÆÆÁöÑ‰∏â‰∏™Â≠êÊéß‰ª∂ÔºåÂêåÊ†∑‰∏∫‰∫ÜÊñπ‰æøÊàë‰ª¨‰πüÊää‰ªñ‰ª¨ÁªôÂçïÈ¢ÜÂá∫Êù•Ôºå‰∫éÊòØ‰∏äÈù¢ÁöÑColumnÊé•‰∏ãÊù•ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö12345678910111213141516171819202122232425262728293031323334353637383940body: SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ ... //‰∏äÈù¢ÁöÑ‰∏§‰∏™Text Padding( padding: EdgeInsets.only( left: 15.0, right: 15.0, bottom: 15.0, ), child: Container( color: Colors.black54, child: _weatherList(), //3Â§©Â§©Ê∞îÈ¢ÑÊä• ), ), Padding( padding: EdgeInsets.only( left: 15.0, right: 15.0, ), child: Container( color: Colors.black54, child: _atmosphereList(), //Á©∫Ê∞îË¥®Èáè ), ), Padding( padding: EdgeInsets.only( top: 15.0, left: 15.0, right: 15.0, bottom: 15.0, ), child: Container( color: Colors.black54, child: _lifestyleList(), //ÁîüÊ¥ªÂª∫ËÆÆ ), ), ] )), 3Â§©Â§©Ê∞îÈ¢ÑÊä•ÂØπ‰∫é3Â§©Â§©Ê∞îÈ¢ÑÊä•Êàë‰ª¨‰∏ªË¶ÅÈÄöËøáListViewÊù•ÂÆûÁé∞ÔºåÁî±‰∫éÂà∞Êó∂ÂÄôÊï∞ÊçÆÊØîËæÉÁÅµÊ¥ªÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±Áõ¥Êé•‰ΩøÁî®ListView.BuilderÊù•ÂÆûÁé∞Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546List&lt;String&gt; dates = ["2019/10/01", "2019/10/02", "2019/10/03"];List&lt;String&gt; temperatures = ["29/14", "30/18", "29/18"];List&lt;String&gt; texts = ["Èò¥", "Êô¥", "Èõ®"];Widget _weatherList() &#123; return Column( children: &lt;Widget&gt;[ Align( alignment: Alignment.centerLeft, child: Text( "È¢ÑÊä•", style: TextStyle( color: Colors.white, fontSize: 20.0, ), ), ), ListView.builder( shrinkWrap: true, //Ëøô‰∏™ÊòØÊåáÊ†πÊçÆListViewÊâÄÊúâÂ≠êWidgetÁöÑÈïøÂ∫¶Êù•ËÆæÂÆöListViewÁöÑÈïøÂ∫¶ physics: NeverScrollableScrollPhysics(), //Á¶ÅÊ≠¢ListViewËá™Â∑±ÁöÑÊªëÂä®ÔºåÂõ†‰∏∫Êàë‰ª¨Âú®Â§ñÈù¢Áî®‰∫Ü‰∏™SingleChildScrollViewÔºåÊàë‰ª¨ÈÄöËøá‰ªñÁöÑÊªëÂä®Â∞±ÂèØ‰ª•‰∫Ü itemCount: dates.length, //ListViewÂ≠êÈ°π‰∏™Êï∞ itemBuilder: (BuildContext context, int index) &#123; return ListTile( title: Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, //Ëøô‰∏™ÊòØRowÁöÑ‰∏ªËΩ¥ÁöÑÂ≠êÈ°πÁöÑÂàÜÂ∏ÉÊ†ºÂºèÔºåspaceBetweenÊòØÊåáÂπ≥ÂùáÂàÜÂ∏É mainAxisSize: MainAxisSize.max, children: &lt;Widget&gt;[ Text( "$&#123;dates[index]&#125;", style: TextStyle(color: Colors.white), ), Text( "$&#123;temperatures[index]&#125;", style: TextStyle(color: Colors.white), ), Text( "$&#123;texts[index]&#125;", style: TextStyle(color: Colors.white), ), ], ), ); &#125;), ], );&#125; Ëøô‰∏™Êó∂ÂÄôËøêË°åÁªìÊûúÊòØÔºö Á©∫Ê∞îË¥®ÈáèËøôÂùóÊàë‰ª¨ÈúÄË¶ÅÁî®Âà∞GridViewÔºåÁî±‰∫éÂè™Êúâ‰∏§‰∏™ÊòæÁ§∫ÂÜÖÂÆπÔºåËÄå‰∏îÊàë‰ª¨ÂêéÊúü‰πüÊ≤°ÊúâÈúÄË¶ÅÂä®ÊÄÅÊ∑ªÂä†ÁöÑÈúÄÊ±ÇÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±Áõ¥Êé•‰ΩøÁî®GridViewÊûÑÈÄ†ÊñπÊ≥ïÔºåËÄå‰∏çÂéª‰ΩøÁî®GridViewÁöÑbuilderÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364List&lt;String&gt; atmospheres = ["16", "56"];Widget _atmosphereList() &#123; return Column( children: &lt;Widget&gt;[ Align( alignment: Alignment.centerLeft, child: Text( "Á©∫Ê∞îË¥®Èáè", style: TextStyle( color: Colors.white, fontSize: 20.0, ), ), ), GridView( shrinkWrap: true, //ËßÅ‰∏äÈù¢3Â§©Â§©Ê∞îÈ¢ÑÊä•ÁöÑListViewÂ§Ñ physics: NeverScrollableScrollPhysics(), //ËßÅ‰∏äÈù¢3Â§©Â§©Ê∞îÈ¢ÑÊä•ÁöÑListViewÂ§Ñ gridDelegate: SliverGridDelegateWithFixedCrossAxisCount( crossAxisCount: 2, //Ê®™ËΩ¥‰∏â‰∏™Â≠êwidget childAspectRatio: 2 //ÊòæÁ§∫Âå∫ÂüüÂÆΩÈ´òÁõ∏Á≠â ), children: &lt;Widget&gt;[ Column( children: &lt;Widget&gt;[ Text( "$&#123;atmospheres[0]&#125;", style: TextStyle( color: Colors.white, fontSize: 40.0, ), ), Text( "ËÉΩËßÅÂ∫¶", style: TextStyle( color: Colors.white, fontSize: 20.0, ), ), ], ), Column( children: &lt;Widget&gt;[ Text( "$&#123;atmospheres[1]&#125;", style: TextStyle( color: Colors.white, fontSize: 40.0, ), ), Text( "ÊπøÂ∫¶", style: TextStyle( color: Colors.white, fontSize: 20.0, ), ), ], ), ], ), ], );&#125; ËøêË°åÂêéÁöÑÊïàÊûúÊòØÔºö ÁîüÊ¥ªÂª∫ËÆÆËøôÂùóÂíå3Â§©Â§©Ê∞îÈ¢ÑÊä•‰∏ÄÊ†∑ÔºåËÄå‰∏îÊï∞ÊçÆÊØî3Â§©Â§©Ê∞îÈ¢ÑÊä•Êõ¥Â§öÔºåÊâÄ‰ª•‰ªñÊõ¥ÈÄÇÂêàÁî®ListView.builderÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263List&lt;String&gt; _lifestyleWeatherBrf = [ "ËæÉËàíÈÄÇ", "ËæÉËàíÈÄÇ", "ÈÄÇÂÆú", "ÈÄÇÂÆú", "Âº±", "ËæÉÈÄÇÂÆú", "‰∏≠"];List&lt;String&gt; _lifestyleWeatherTxt = [ "ÁôΩÂ§©Â§©Ê∞îÊô¥Â•ΩÔºåÊó©Êôö‰ºöÊÑüËßâÂÅèÂáâÔºåÂçàÂêéËàíÈÄÇ„ÄÅÂÆú‰∫∫„ÄÇ", "Âª∫ËÆÆÁùÄËñÑÂ§ñÂ•ó„ÄÅÂºÄË°´Áâõ‰ªîË°´Ë£§Á≠âÊúçË£Ö„ÄÇÂπ¥ËÄÅ‰ΩìÂº±ËÄÖÂ∫îÈÄÇÂΩìÊ∑ªÂä†Ë°£Áâ©ÔºåÂÆúÁùÄÂ§πÂÖãË°´„ÄÅËñÑÊØõË°£Á≠â„ÄÇ", "ÂêÑÈ°πÊ∞îË±°Êù°‰ª∂ÈÄÇÂÆúÔºåÊó†ÊòéÊòæÈôçÊ∏©ËøáÁ®ãÔºåÂèëÁîüÊÑüÂÜíÊú∫ÁéáËæÉ‰Ωé„ÄÇ", "Â§©Ê∞îËæÉÂ•ΩÔºåËµ∂Âø´ÊäïË∫´Â§ßËá™ÁÑ∂ÂèÇ‰∏éÊà∑Â§ñËøêÂä®ÔºåÂ∞ΩÊÉÖÊÑüÂèóËøêÂä®ÁöÑÂø´‰πêÂêß„ÄÇ", "Â§©Ê∞îËæÉÂ•ΩÔºå‰ΩÜ‰∏ùÊØ´‰∏ç‰ºöÂΩ±ÂìçÊÇ®Âá∫Ë°åÁöÑÂøÉÊÉÖ„ÄÇÊ∏©Â∫¶ÈÄÇÂÆúÂèàÊúâÂæÆÈ£éÁõ∏‰º¥ÔºåÈÄÇÂÆúÊóÖÊ∏∏„ÄÇ", "Á¥´Â§ñÁ∫øÂº∫Â∫¶ËæÉÂº±ÔºåÂª∫ËÆÆÂá∫Èó®ÂâçÊ∂ÇÊì¶SPFÂú®12-15‰πãÈó¥„ÄÅPA+ÁöÑÈò≤ÊôíÊä§ËÇ§ÂìÅ„ÄÇ", "ËæÉÈÄÇÂÆúÊ¥óËΩ¶ÔºåÊú™Êù•‰∏ÄÂ§©Êó†Èõ®ÔºåÈ£éÂäõËæÉÂ∞èÔºåÊì¶Ê¥ó‰∏ÄÊñ∞ÁöÑÊ±ΩËΩ¶Ëá≥Â∞ëËÉΩ‰øùÊåÅ‰∏ÄÂ§©„ÄÇ", ",Ê∞îË±°Êù°‰ª∂ÂØπÁ©∫Ê∞îÊ±°ÊüìÁâ©Á®ÄÈáä„ÄÅÊâ©Êï£ÂíåÊ∏ÖÈô§Êó†ÊòéÊòæÂΩ±ÂìçÔºåÊòìÊÑü‰∫∫Áæ§Â∫îÈÄÇÂΩìÂáèÂ∞ëÂÆ§Â§ñÊ¥ªÂä®Êó∂Èó¥„ÄÇ"];Widget _lifestyleList() &#123; return Column( children: &lt;Widget&gt;[ Align( alignment: Alignment.centerLeft, child: Text( "ÁîüÊ¥ªÂª∫ËÆÆ", style: TextStyle( color: Colors.white, fontSize: 20.0, ), ), ), ListView.builder( shrinkWrap: true, physics: NeverScrollableScrollPhysics(), itemCount: _lifestyleWeatherBrf.length, itemBuilder: (BuildContext context, int index) &#123; return ListTile( title: Column( mainAxisAlignment: MainAxisAlignment.start, crossAxisAlignment: CrossAxisAlignment.start, children: &lt;Widget&gt;[ Text( "$&#123;_lifestyleWeatherBrf[index]&#125;", style: TextStyle( color: Colors.white, ), ), Text( "$&#123;_lifestyleWeatherTxt[index]&#125;", style: TextStyle( color: Colors.white, ), ), ], ), ); &#125;, ), ], );&#125; ËøêË°åÁªìÊûúÊòØ:]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(5)‚Äî‚ÄîSingleChildScrollView„ÄÅListViewÂíåGridView]]></title>
    <url>%2Fposts%2F30ff421d.html</url>
    <content type="text"><![CDATA[‰∏ãÈù¢Êàë‰ª¨Êù•‰ªãÁªç‰∏ãFlutter‰∏≠ÁöÑÊªëÂä®Êéß‰ª∂SingleChildScrollView„ÄÅÂàóË°®ListViewÂíåË°®Ê†ºGridView„ÄÇ SingleChildScrollViewSingleChildScrollViewÁ±ª‰ºº‰∫éAndroid‰∏≠ÁöÑScrollViewÔºåÊàë‰ΩøÁî®ÁöÑËæÉÊµÖÔºåÂú®ÊàëÁõÆÂâçÁúãÊù•Ôºå‰ªñÂíåScrollViewÁöÑÂîØ‰∏ÄÂå∫Âà´Â∞±ÊòØÂÆÉËøòÂèØ‰ª•Ê®™ÂêëÊªöÂä®„ÄÇ Êàë‰ª¨ÂÖàÊù•Áúã‰∏ã‰ªñÁöÑÂÆö‰πâÔºö123456789SingleChildScrollView(&#123; this.scrollDirection = Axis.vertical, //ÊªöÂä®ÊñπÂêëÔºåÈªòËÆ§ÊòØÂûÇÁõ¥ÊñπÂêë this.reverse = false, this.padding, bool primary, this.physics, this.controller, this.child,&#125;) scrollDirectionÔºöËÆæÂÆöÊªöÂä®ÁöÑÊñπÂêëÔºåÂèØ‰ª•ËÆæÂÆöAxis.verticalÊàñËÄÖAxis.horizonÔºõ reverseÔºöÊòØÂê¶ÊåâÁÖßÈòÖËØªÊñπÂêëÁöÑÂèçÊñπÂêëÊªëÂä®ÔºåemmmËøô‰∏™ÂèØËÉΩÊúâÁÇπËßâÂæóËé´ÂêçÂÖ∂Â¶ôÔºå‰ΩÜÊòØÂ¶ÇÈòøÊãâ‰ºØËØ≠Ë®ÄÂú∞Âå∫Ôºå‰ªñ‰ª¨ÈòÖËØªÂíåÊàëÂõΩÂè§Êó∂ÂÄô‰∏ÄÊ†∑ÊòØ‰ªéÂè≥ÂêëÂ∑¶ÁöÑÔºåÊâÄ‰ª•Â¶ÇÊûúreverse‰∏∫trueÔºå‰∏îÊªöÂä®ÊñπÂêëÊòØÊ∞¥Âπ≥ÊªöÂä®ÁöÑËØùÔºåÂ¶ÇÊûúÁ≥ªÁªüÊó∂ÈòøÊãâ‰ºØËØ≠Á≠â‰ªéÂè≥ÂêëÂ∑¶ÈòÖËØªÁöÑËØ≠Ë®ÄÊó∂ÔºåÊñπÂêëÊòØ‰ªéÂè≥ÂêëÂ∑¶ÁöÑÔºõ paddingÔºöÁïôÁôΩÁöÑÂ§ßÂ∞èÔºåÂíåPaddingÁöÑÁî®Ê≥ï‰∏ÄÊ†∑ÔºåÈÄöËøáEdgeInsetsÊù•ËÆæÂÆöÔºåÂÖ∑‰ΩìÂèØ‰ª•ÁúãÂâçÂá†Á´†Â∞ÜFlutterÂü∫Á°ÄWidgetÔºõ primaryÔºöÊåáÊòØÂê¶‰ΩøÁî®widgetÊ†ë‰∏≠ÈªòËÆ§ÁöÑPrimaryScrollControllerÔºõÂΩìÊªëÂä®ÊñπÂêë‰∏∫ÂûÇÁõ¥ÊñπÂêëÔºàscrollDirectionÂÄº‰∏∫Axis.verticalÔºâÂπ∂‰∏îÊ≤°ÊúâÊåáÂÆöcontrollerÊó∂ÔºåprimaryÈªòËÆ§‰∏∫trueÔºõ physicsÔºöÁî®‰∫éÊéßÂà∂ÊªöÂä®ÊñπÂºèÔºåËøô‰∏™Á≠â‰ºöÈáçÁÇπËÆ≤Ëß£Ôºõ controllerÔºöÁî®‰∫éÊªöÂä®ÁõëÂê¨ÂèäÊéßÂà∂Ôºõ childÔºöÂ≠êWidget„ÄÇ physicsËøô‰∏™ÂèÇÊï∞ÊòØÁî®‰∫éÊéßÂà∂ÊªöÂä®ÊñπÂºèÔºåÊúâÂá†ÁßçÂèÇÊï∞Ôºö NeverScrollablePhysicsÔºöÂëàÁé∞‰∏çÂèØÊªöÂä®Áä∂ÊÄÅÔºõ BouncingScrollPhysicsÔºöÂΩìÂàóË°®ÊªëÂä®ÁªìÊùüÊó∂Ôºå‰ºöÂõûÂºπÂàóË°®ÔºåÁ±ª‰ºº‰∫éiOSÁöÑÂàóË°®ÊªëÂä®ÊïàÊûúÔºõ ClampingScrollPhysicsÔºöÊªëÂä®ÁªìÊùüÊó∂‰ºöÊòæÁ§∫Ê∞¥Ê≥¢Á∫πÈò¥ÂΩ±ÔºåÁ±ª‰ºº‰∫éAndroidÁöÑÂàóË°®ÊªëÂä®ÊïàÊûúÔºõ FixedExtentScrollPhysicsÔºöÂèØ‰ª•Ëá™Â∑±Âà∂‰ΩúÊªëÂä®ÊïàÊûúÔºå‰ΩÜÊòØÊàë‰πü‰∏ç‰ºöÔºåÊâÄ‰ª•Âú®Ê≠§‰∏çÂÅöËß£Èáäüòù„ÄÇ ListViewListViewÂèØ‰ª•Ê≤ø‰∏Ä‰∏™ÊñπÂêë‰∏äÁ∫øÊÄßÊéíÂ∏ÉÊâÄÊúâÂ≠êÁªÑ‰ª∂Ôºà‰∏ç‰ªÖÂ±ÄÈôê‰∫éÁ´ñÁõ¥ÊñπÂêëÔºâ„ÄÇ ËÆ©Êàë‰ª¨Êù•Áúã‰∏ã‰ªñÁöÑÂÆö‰πâÔºö1234567891011121314151617181920ListView(&#123; ... //ÂèØÊªöÂä®widgetÂÖ¨ÂÖ±ÂèÇÊï∞ Axis scrollDirection = Axis.vertical, bool reverse = false, ScrollController controller, bool primary, ScrollPhysics physics, EdgeInsetsGeometry padding, //ListViewÂêÑ‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂÖ±ÂêåÂèÇÊï∞ double itemExtent, bool shrinkWrap = false, bool addAutomaticKeepAlives = true, bool addRepaintBoundaries = true, double cacheExtent, //Â≠êwidgetÂàóË°® List&lt;Widget&gt; children = const &lt;Widget&gt;[],&#125;) ÂÖ¨ÂÖ±Â±ûÊÄßÊàë‰ª¨Â∞±‰∏çËÆ≤‰∫ÜÔºå‰∏äÈù¢SingleChildScrollViewÂ∑≤ÁªèËÆ≤Ëøá‰∫ÜÔºåÊàë‰ª¨Áé∞Âú®Âè™ËÆ≤‰ªñÁâπÊúâÁöÑÔºö itemExtentÔºöÁî®‰∫éÊéßÂà∂ListViewÁöÑÈïøÂ∫¶ÔºåÂ¶ÇÊûú‰∏ç‰∏∫nullÔºåÂàôÂº∫Âà∂ÊâÄÊúâÂ≠êWidgetÂêàËµ∑Êù•ÁöÑÈïøÂ∫¶Â∞è‰∫éËÆæÂÆöÁöÑÂÄºÔºöÂ¶ÇÊûúListViewÊòØÊ®™ÂêëÁöÑÔºåÂàôÊâÄÊúâÂ≠êWidgetÊ®™ÂêëÈïøÂ∫¶ÁöÑÂíåÂ∞è‰∫éÂÆÉÔºõÂ¶ÇÊûúListViewÊòØÁ∫µÂêëÁöÑÔºåÂàôÊâÄÊúâÂ≠êWidgetÁ∫µÂêëÈïøÂ∫¶ÁöÑÂíåÂ∞è‰∫éÂÆÉÔºõ shrinkWrapÔºöËØ•Â±ûÊÄßË°®Á§∫ÊòØÂê¶Ê†πÊçÆÂ≠êÁªÑ‰ª∂ÁöÑÊÄªÈïøÂ∫¶Êù•ËÆæÁΩÆListViewÁöÑÈïøÂ∫¶ÔºåÈªòËÆ§ÂÄº‰∏∫false „ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåListViewÁöÑ‰ºöÂú®ÊªöÂä®ÊñπÂêëÂ∞ΩÂèØËÉΩÂ§öÁöÑÂç†Áî®Á©∫Èó¥„ÄÇÂΩìListViewÂú®‰∏Ä‰∏™Êó†ËæπÁïå(ÊªöÂä®ÊñπÂêë‰∏ä)ÁöÑÂÆπÂô®‰∏≠Êó∂ÔºåshrinkWrapÂøÖÈ°ª‰∏∫trueÔºõ addAutomaticKeepAlivesÔºöËØ•Â±ûÊÄßË°®Á§∫ÊòØÂê¶Â∞ÜÂàóË°®È°πÔºàÂ≠êÁªÑ‰ª∂ÔºâÂåÖË£πÂú®AutomaticKeepAliveÁªÑ‰ª∂‰∏≠ÔºõÂÖ∏ÂûãÂú∞ÔºåÂú®‰∏Ä‰∏™ÊáíÂä†ËΩΩÂàóË°®‰∏≠ÔºåÂ¶ÇÊûúÂ∞ÜÂàóË°®È°πÂåÖË£πÂú®AutomaticKeepAlive‰∏≠ÔºåÂú®ËØ•ÂàóË°®È°πÊªëÂá∫ËßÜÂè£Êó∂ÂÆÉ‰πü‰∏ç‰ºöË¢´GCÔºàÂûÉÂúæÂõûÊî∂ÔºâÔºåÂÆÉ‰ºö‰ΩøÁî®KeepAliveNotificationÊù•‰øùÂ≠òÂÖ∂Áä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÂàóË°®È°πËá™Â∑±Áª¥Êä§ÂÖ∂KeepAliveÁä∂ÊÄÅÔºåÈÇ£‰πàÊ≠§ÂèÇÊï∞ÂøÖÈ°ªÁΩÆ‰∏∫falseÔºõ addRepaintBoundariesÔºöËØ•Â±ûÊÄßË°®Á§∫ÊòØÂê¶Â∞ÜÂàóË°®È°πÔºàÂ≠êÁªÑ‰ª∂ÔºâÂåÖË£πÂú®RepaintBoundaryÁªÑ‰ª∂‰∏≠„ÄÇÂΩìÂèØÊªöÂä®ÁªÑ‰ª∂ÊªöÂä®Êó∂ÔºåÂ∞ÜÂàóË°®È°πÂåÖË£πÂú®RepaintBoundary‰∏≠ÂèØ‰ª•ÈÅøÂÖçÂàóË°®È°πÈáçÁªòÔºå‰ΩÜÊòØÂΩìÂàóË°®È°πÈáçÁªòÁöÑÂºÄÈîÄÈùûÂ∏∏Â∞èÔºàÂ¶Ç‰∏Ä‰∏™È¢úËâ≤ÂùóÔºåÊàñËÄÖ‰∏Ä‰∏™ËæÉÁü≠ÁöÑÊñáÊú¨ÔºâÊó∂Ôºå‰∏çÊ∑ªÂä†RepaintBoundaryÂèçËÄå‰ºöÊõ¥È´òÊïà„ÄÇÂíåaddAutomaticKeepAlive‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúÂàóË°®È°πËá™Â∑±Áª¥Êä§ÂÖ∂KeepAliveÁä∂ÊÄÅÔºåÈÇ£‰πàÊ≠§ÂèÇÊï∞ÂøÖÈ°ªÁΩÆ‰∏∫falseÔºõ cacheExtentÔºöËÆæÂÆöÁºìÂ≠òÂ§ßÂ∞è„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏Ä‰∏™‰∏Ä‰∏™ËÆæÂÆöchildrenÂæàÈ∫ªÁÉ¶ÔºåÊâÄ‰ª•‰∏∫‰∫ÜÊñπ‰æøÔºåFlutterËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™builderÊûÑÈÄ†ÊñπÊ≥ïÔºö ListView.builder1234567ListView.builder(&#123; // ListViewÂÖ¨ÂÖ±ÂèÇÊï∞Â∑≤ÁúÅÁï• ... @required IndexedWidgetBuilder itemBuilder, int itemCount, ...&#125;) itemCountÔºöÊòØÈúÄË¶ÅÂä†ËΩΩÂ≠êWidgetÁöÑÈïøÂ∫¶Ôºõ itemBuilderÔºöÂàóË°®È°πÁöÑÊûÑÈÄ†Âô®ÔºåÂΩìÂàóË°®ÊªöÂä®Âà∞ÂÖ∑‰ΩìÁöÑindex‰ΩçÁΩÆÊó∂Ôºå‰ºöË∞ÉÁî®ËØ•ÊûÑÂª∫Âô®ÊûÑÂª∫ÂàóË°®È°π„ÄÇ Áúã‰æãÂ≠êÔºö123456789101112ListView.builder( itemCount: _provinces.length, itemBuilder: (context, index) &#123; return GestureDetector( child: ListTile( title: Text("$index"), ), onTap: () &#123;&#125;)); &#125;, ); &#125;,) ListView.separatedÁî®‰∫éÊ∑ªÂä†ÂàÜÂâ≤Á∫ø„ÄÇÁõ∏ËæÉ‰∫éListView.builderÂ§ö‰∫Ü‰∏Ä‰∏™separatorBuilderÂèÇÊï∞ÔºåËØ•ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂàÜÂâ≤ÁªÑ‰ª∂ÁîüÊàêÂô®„ÄÇ ‰∏ãÈù¢Êàë‰ª¨Áúã‰∏Ä‰∏™‰æãÂ≠êÔºöÂ•áÊï∞Ë°åÊ∑ªÂä†‰∏ÄÊù°ËìùËâ≤‰∏ãÂàíÁ∫øÔºåÂÅ∂Êï∞Ë°åÊ∑ªÂä†‰∏ÄÊù°ÁªøËâ≤‰∏ãÂàíÁ∫ø„ÄÇ12345678910111213141516171819class ListView3 extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; //‰∏ãÂàíÁ∫øwidgetÈ¢ÑÂÆö‰πâ‰ª•‰æõÂ§çÁî®„ÄÇ Widget divider1=Divider(color: Colors.blue,); Widget divider2=Divider(color: Colors.green); return ListView.separated( itemCount: 100, //ÂàóË°®È°πÊûÑÈÄ†Âô® itemBuilder: (BuildContext context, int index) &#123; return ListTile(title: Text("$index")); &#125;, //ÂàÜÂâ≤Âô®ÊûÑÈÄ†Âô® separatorBuilder: (BuildContext context, int index) &#123; return index%2==0?divider1:divider2; &#125;, ); &#125;&#125; GridViewGridViewÂèØ‰ª•ÊûÑÈÄ†‰∏Ä‰∏™ÁΩëÊ†ºÂàóË°®ÔºåÂÆö‰πâÂ¶Ç‰∏ã:1234567891011121314GridView(&#123; Axis scrollDirection = Axis.vertical, bool reverse = false, ScrollController controller, bool primary, ScrollPhysics physics, bool shrinkWrap = false, EdgeInsetsGeometry padding, @required SliverGridDelegate gridDelegate, //ÊéßÂà∂Â≠êwidget layoutÁöÑÂßîÊâò bool addAutomaticKeepAlives = true, bool addRepaintBoundaries = true, double cacheExtent, List&lt;Widget&gt; children = const &lt;Widget&gt;[],&#125;) Â§ßÈÉ®ÂàÜÂèÇÊï∞ÂíåListViewÈÉΩÁõ∏ÂêåÔºåÊàë‰ª¨Âè™ÂÖ≥Ê≥®gridDelegateËøô‰∏™ÂèÇÊï∞ÔºögridDelegate‰ΩúÁî®ÊòØÊéßÂà∂GridViewÂ≠êÁªÑ‰ª∂Â¶Ç‰ΩïÊéíÂàóÔºåFlutter‰∏≠Êèê‰æõ‰∫Ü‰∏§‰∏™Á±ªSliverGridDelegateWithFixedCrossAxisCountÂíåSliverGridDelegateWithMaxCrossAxisExtentÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ôºå‰∏ãÈù¢Êàë‰ª¨ÂàÜÂà´Êù•‰ªãÁªç‰∏Ä‰∏ãÂÆÉ‰ª¨„ÄÇ SliverGridDelegateWithFixedCrossAxisCountËØ•Â≠êÁ±ªÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Ê®™ËΩ¥‰∏∫Âõ∫ÂÆöÊï∞ÈáèÂ≠êÂÖÉÁ¥†ÁöÑlayoutÁÆóÊ≥ïÔºåÂÖ∂ÊûÑÈÄ†ÂáΩÊï∞‰∏∫Ôºö123456SliverGridDelegateWithFixedCrossAxisCount(&#123; @required double crossAxisCount, double mainAxisSpacing = 0.0, double crossAxisSpacing = 0.0, double childAspectRatio = 1.0,&#125;) crossAxisCountÔºöÊ®™ËΩ¥Â≠êÂÖÉÁ¥†ÁöÑÊï∞Èáè„ÄÇÊ≠§Â±ûÊÄßÂÄºÁ°ÆÂÆöÂêéÂ≠êÂÖÉÁ¥†Âú®Ê®™ËΩ¥ÁöÑÈïøÂ∫¶Â∞±Á°ÆÂÆö‰∫ÜÔºåÂç≥ViewPortÊ®™ËΩ¥ÈïøÂ∫¶Èô§‰ª•crossAxisCountÁöÑÂïÜ„ÄÇ mainAxisSpacingÔºö‰∏ªËΩ¥ÊñπÂêëÁöÑÈó¥Ë∑ù„ÄÇ crossAxisSpacingÔºöÊ®™ËΩ¥ÊñπÂêëÂ≠êÂÖÉÁ¥†ÁöÑÈó¥Ë∑ù„ÄÇ childAspectRatioÔºöÂ≠êÂÖÉÁ¥†Âú®Ê®™ËΩ¥ÈïøÂ∫¶Âíå‰∏ªËΩ¥ÈïøÂ∫¶ÁöÑÊØî‰æã„ÄÇÁî±‰∫écrossAxisCountÊåáÂÆöÂêéÔºåÂ≠êÂÖÉÁ¥†Ê®™ËΩ¥ÈïøÂ∫¶Â∞±Á°ÆÂÆö‰∫ÜÔºåÁÑ∂ÂêéÈÄöËøáÊ≠§ÂèÇÊï∞ÂÄºÂ∞±ÂèØ‰ª•Á°ÆÂÆöÂ≠êÂÖÉÁ¥†Âú®‰∏ªËΩ¥ÁöÑÈïøÂ∫¶„ÄÇ SliverGridDelegateWithMaxCrossAxisExtentËØ•Â≠êÁ±ªÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Ê®™ËΩ¥Â≠êÂÖÉÁ¥†‰∏∫Âõ∫ÂÆöÊúÄÂ§ßÈïøÂ∫¶ÁöÑlayoutÁÆóÊ≥ïÔºåÂÖ∂ÊûÑÈÄ†ÂáΩÊï∞‰∏∫Ôºö123456SliverGridDelegateWithMaxCrossAxisExtent(&#123; double maxCrossAxisExtent, double mainAxisSpacing = 0.0, double crossAxisSpacing = 0.0, double childAspectRatio = 1.0,&#125;) maxCrossAxisExtent‰∏∫Â≠êÂÖÉÁ¥†Âú®Ê®™ËΩ¥‰∏äÁöÑÊúÄÂ§ßÈïøÂ∫¶Ôºå‰πãÊâÄ‰ª•ÊòØ‚ÄúÊúÄÂ§ß‚ÄùÈïøÂ∫¶ÔºåÊòØÂõ†‰∏∫Ê®™ËΩ¥ÊñπÂêëÊØè‰∏™Â≠êÂÖÉÁ¥†ÁöÑÈïøÂ∫¶‰ªçÁÑ∂ÊòØÁ≠âÂàÜÁöÑ„ÄÇÂÖ∂ÂÆÉÂèÇÊï∞ÂíåSliverGridDelegateWithFixedCrossAxisCountÁõ∏Âêå„ÄÇ GridView.builderÂíåListView‰∏ÄÊ†∑ÔºåÂΩìÂ≠êWidgetÊï∞ÈáèËæÉÂ§öÊó∂Ôºå‰πüÊèê‰æõ‰∫ÜbuilderÊñπÊ≥ï:12345GridView.builder( ... @required SliverGridDelegate gridDelegate, @required IndexedWidgetBuilder itemBuilder,) Ëøô‰∏™Â∞±‰∏çÂú®Ëøô‰∏æ‰æã‰∫ÜÔºågridDelegateÂíåÂâçÈù¢‰∏ÄÊ†∑ÁöÑÔºåitemBuilderÂíåListViewÁöÑ‰∏ÄÊ†∑ÁöÑ„ÄÇ]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(4)‚Äî‚ÄîÂü∫Á°ÄWidget]]></title>
    <url>%2Fposts%2Fa3b37eac.html</url>
    <content type="text"><![CDATA[Âà∞ËøôÁ´†Êàë‰ª¨Â∞±Â∑Æ‰∏çÂ§öÂèØ‰ª•ÂºÄÂßãÂÜôÂ§©Ê∞îÈ¢ÑÊä•‰∫Ü„ÄÇÈ¶ñÂÖàÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ã‰∏Ä‰∫õÂü∫Á°ÄÁÆÄÂçïÁöÑWidget„ÄÇ Âü∫Á°ÄÁªÑ‰ª∂ÊñáÊú¨TextÁî®‰∫éÊòæÁ§∫ÁÆÄÂçïÁöÑÊñáÊú¨ÔºåÂåÖÂê´‰∏Ä‰∫õÊéßÂà∂ÊñáÊú¨ÊòæÁ§∫ÁöÑÂ±ûÊÄß„ÄÇ1234567891011Text( "1234",),Text( "1234", style: TextStyle( color: Colors.purple, fontSize: 32.0, fontWeight: FontWeight.bold, ),), ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊñáÊú¨‰ø°ÊÅØÁõ¥Êé•ÊîæÂà∞‰∏Ä‰∏™ÂèåÂºïÂè∑ÈáåÈù¢Â∞±ÂèØ‰ª•‰∫ÜÔºõ textAlignÔºöÊñáÊú¨ÂØπÈΩêÊñπÂºèÔºõ maxLinesÔºöÊñáÊú¨ÊòæÁ§∫ÁöÑÊúÄÂ§ßË°åÊï∞Ôºõ overflowÔºöÊåáÂÆöÂ§ö‰ΩôÊñáÊú¨ÁöÑÊà™Êñ≠ÊñπÂºèÔºõ textScaleFactorÔºöÊåáÂÆöÊñáÊú¨Áõ∏ÂØπ‰∫éÂΩìÂâçÂ≠ó‰ΩìÂ§ßÂ∞èÁöÑÁº©ÊîæÂõ†Â≠êÔºõ TextStyleÔºöËÆæÁΩÆÊòæÁ§∫ÊñáÊú¨ÁöÑÂ≠ó‰Ωì„ÄÅÈ¢úËâ≤„ÄÅÁ≤óÁªÜÁ≠âÊ†∑ÂºèÔºö heightÔºöÊåáÂÆöË°åÈ´òÔºå‰ΩÜÊòØ‰∏çÊòØÁªùÂØπÂÄºÔºåËÄåÊòØ‰∏Ä‰∏™Âõ†Â≠êÔºåÁõ∏ÂΩì‰∫éfontsize * heightÔºõ fontFamilyÔºöËÆæÁΩÆÂ≠ó‰ΩìÔºõ fontSizeÔºöËÆæÁΩÆÂ≠ó‰ΩìÂ§ßÂ∞è ÊåâÈíÆ‰∏çÂêåÁöÑÁªÑ‰ª∂Â∫ìÊúâ‰∏çÂêåÁöÑÊåâÈíÆÔºåÊàë‰ª¨Áé∞Âú®Âè™ÊãøMaterialÁªÑ‰ª∂Â∫ì‰∏≠ÁöÑÊåâÈíÆ‰∏æ‰æã„ÄÇ RaisedButtonÊºÇÊµÆÊåâÈíÆÔºåÂ∏¶ÊúâÈò¥ÂΩ±ÂíåÁÅ∞Ëâ≤ËÉåÊôØ„ÄÇÊåâ‰∏ãÂêéÈò¥ÂΩ±‰ºöÂèòÂ§ß„ÄÇ1234RaisedButton( child: Text("1234"), onPressed: () &#123;&#125;,); FlatButtonÊâÅÂπ≥ÂåñÊåâÈíÆÔºåËÉåÊôØÈÄèÊòé‰∏î‰∏çÂ∏¶Èò¥ÂΩ±ÔºåÊåâ‰∏ãÂêé‰ºöÊúâËÉåÊôØËâ≤„ÄÇ1234FlatButton( child: Text("1234"), onPressed: () &#123;&#125;,) IconButtonÂèØÁÇπÂáªÁöÑIconÔºåÈªòËÆ§Ê≤°ÊúâËÉåÊôØÔºåÊåâ‰∏ãÂêéÂá∫Áé∞Èò¥ÂΩ±1234IconButton( icon: Icon(Icons.thumb_up), onPressed: () &#123;&#125;,) ÂõæÁâáÊàë‰ª¨ÈÄöËøáImageÊù•ÊòæÁ§∫ÂõæÁâáÔºåÊù•Ê∫êÂèØ‰ª•ÊòØasset„ÄÅÁΩëÁªúÁ≠â‰ΩçÁΩÆ„ÄÇ ‰ªéassetÂä†ËΩΩÂõæÁâá Áé∞Âú®È°πÁõÆÊ†πÁõÆÂΩï(‰πüÂ∞±ÊòØÂíåandroid„ÄÅios„ÄÅlibÁ≠âÁõÆÂΩïÂêåÁ∫ß)Êñ∞Âª∫‰∏Ä‰∏™imagesÁõÆÂΩïÔºåÂπ∂ÊääÂõæÁâámain.pngÊã∑ËøõÂéªÔºõ Âú®pubspec.yaml‰∏≠ÁöÑflutterÈÉ®ÂàÜÊ∑ªÂä†‰∏Ä‰∏ãÂÜÖÂÆπÔºö Âä†ËΩΩËØ•ÂõæÁâá 123Image( image: AssetImage("images/amoled.png"),); Image‰πüÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âø´ÈÄüÊûÑÈÄ†ÂáΩÊï∞Ôºö123Image.asset( "images/amoled.png",) ‰ªéÁΩëÁªúÂä†ËΩΩÂõæÁâá1234Image( image: NetworkImage( "https://s2.ax1x.com/2019/05/27/VZrQ3V.png"),) ÊàñËÄÖ123Image.network( "https://s2.ax1x.com/2019/05/27/VZrQ3V.png",) ÂèÇÊï∞ImageÊúâ‰∏Ä‰∫õÂü∫Êú¨ÂèÇÊï∞123456789const Image(&#123; ... this.width, //ÂõæÁâáÁöÑÂÆΩ this.height, //ÂõæÁâáÈ´òÂ∫¶ this.fit,//Áº©ÊîæÊ®°Âºè this.alignment = Alignment.center, //ÂØπÈΩêÊñπÂºè this.repeat = ImageRepeat.noRepeat, //ÈáçÂ§çÊñπÂºè ...&#125;) widthÂíåheightÔºöÂÆΩÂíåÈ´òÔºõ fitÔºöÁº©ÊîæÊ®°ÂºèÔºö fillÔºöÊãâ‰º∏ÂõæÁâáÁü•ÈÅìÂ°´Êª°Ôºõ coverÔºöÊåâÂéüÂõæÈïøÂÆΩÊØîÊîæÂ§ßÂõæÁâáÊù•Â°´Êª°ÔºåÂ§ö‰ΩôÁöÑÈÉ®ÂàÜËàçÂéªÔºõ containÔºöÂú®‰øùËØÅÂõæÁâáÈïøÂÆΩÊØî‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÂ∞ΩÂèØËÉΩÂéªÂ°´Êª°Ôºõ fitWidthÔºöÂÆΩÂ∫¶‰ºöÁº©ÊîæÂà∞ÊòæÁ§∫Á©∫Èó¥ÁöÑÂÆΩÂ∫¶ÔºåÈ´òÂ∫¶‰ºöÊåâÊØî‰æãÁº©ÊîæÔºåÂ¶ÇÊûúÊúâÂ§ö‰ΩôÁöÑÈÉ®ÂàÜ‰ºöË¢´ËàçÂéªÔºõ fitHeightÔºö‰∏éfitWidthÂêåÁêÜÔºõ noneÔºöÊ≤°ÊúâÈÄÇÂ∫îÁ≠ñÁï•ÔºåÂõæÁâáÂ§öÂ§ßÂ∞±ÊòæÁ§∫Â§öÂ§ßÔºåÂ¶ÇÊûúÂõæÁâáÂéüÂ∞∫ÂØ∏Â∞è‰∫éÊòæÁ§∫Á©∫Èó¥Â∞±Âè™ÊòæÁ§∫ÂéüÂ∞∫ÂØ∏ÔºõÂ¶ÇÊûúÂ§ß‰∫éÂàôËàçÂºÉÂ§ö‰ΩôÈÉ®ÂàÜÂè™ÊòæÁ§∫‰∏≠Èó¥ÈÉ®ÂàÜÔºõ repeatÔºöÂΩìÂõæÁâáÂ∞è‰∫éÊòæÁ§∫Á©∫Èó¥Êó∂Ôºå‰ºöÂ∞ÜÂõæÁâáÈáçÂ§çÊòæÁ§∫„ÄÇ Â∏ÉÂ±ÄÁªÑ‰ª∂Á∫øÊÄßÂ∏ÉÂ±Ä(Row„ÄÅColumn)Á∫øÊÄßÂ∏ÉÂ±ÄÂ∞±Áõ∏ÂΩì‰∫éAndroidÈáåÈù¢ÁöÑLinearLayoutÔºå‰ΩÜÊòØ‰∏çÂêåÁöÑÊòØFlutterÂ∞ÜÁ´ñÁõ¥ÂíåÊ∞¥Âπ≥Â∏ÉÂ±ÄÂçïÁã¨Êãø‰∫ÜÂá∫Êù•„ÄÇ Á∫øÊÄßÂ∏ÉÂ±ÄÂàÜ‰∏∫Á´ñÁõ¥Â∏ÉÂ±ÄColumnÂíåÊ∞¥Âπ≥Â∏ÉÂ±ÄRow„ÄÇ‰ªñ‰∏§Â±ûÊÄßÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÂÜçËØ¥Â±ûÊÄß‰πãÂâçÊàë‰ª¨ÂÖàÁÜüÊÇâ‰∏§‰∏™Ê¶ÇÂøµÔºö‰∏ªËΩ¥Âíå‰∫§ÂèâËΩ¥„ÄÇÂ¶ÇÊûúÊòØColumnÔºå‰∏ªËΩ¥ÊòØÁ´ñÁõ¥ËΩ¥Ôºå‰∫§ÂèâËΩ¥ÊòØÊ∞¥Âπ≥ËΩ¥ÔºõÂ¶ÇÊûúÊòØRowÔºå‰∏ªËΩ¥ÊòØÊ∞¥Âπ≥ËΩ¥Ôºå‰∫§ÂèâËΩ¥ÊòØÁ´ñÁõ¥ËΩ¥„ÄÇ1234567Row(&#123; ... MainAxisSize mainAxisSize = MainAxisSize.max, MainAxisAlignment mainAxisAlignment = MainAxisAlignment.start, CrossAxisAlignment crossAxisAlignment = CrossAxisAlignment.center, List&lt;Widget&gt; children = const &lt;Widget&gt;[],&#125;) mainAxisSizeÔºö‰∏ªËΩ¥Âç†Áî®Á©∫Èó¥„ÄÇÈªòËÆ§ÊòØMainAxisSize.maxÔºåÊòØÊåáÂç†Áî®ÂÖ®ÈÉ®‰∏ªËΩ¥Á©∫Èó¥„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫MainAxisSize.minÔºåÈÇ£Â∞±Âè™Âç†Áî®ÊâÄÊúâÂ≠êÁªÑ‰ª∂ÊâÄÈúÄË¶ÅÁöÑÁ©∫Èó¥Ôºõ mainAxisAlignmentÔºöÂ≠êWidgetÂú®‰∏ªËΩ¥ÁöÑÂØπÂÖ∂ÊñπÂêëÔºõ crossAxisAlignmentÔºöÂ≠êWidgetÂú®‰∫§ÂèâËΩ¥ÁöÑÂØπÂÖ∂ÊñπÂêëÔºõ childrenÔºöÊâÄÊúâÁöÑÂ≠êWidget„ÄÇ ÂºπÊÄßÂ∏ÉÂ±Ä(Flex)ÂÖ∂ÂÆûËøô‰∏™Â∏ÉÂ±ÄÂíåÁ∫øÊÄßÂ∏ÉÂ±ÄÂæàÊúâÊ∏äÊ∫êÔºå‰∏∫‰ªÄ‰πàËøô‰πàËØ¥Âë¢ÔºåÂõ†‰∏∫RowÂíåColumnÈÉΩÁªßÊâøËá™ÂÆÉ„ÄÇÂõ†Ê≠§ÂÖ≥‰∫é‰ªñÂíåÁ∫øÊÄßÂ∏ÉÂ±ÄÈáçÂ§çÁöÑÂú∞ÊñπÊàë‰ª¨Áé∞Âú®Â∞±‰∏çÂÜçËÆ≤‰∫ÜÔºåÊàë‰ª¨Áõ¥ËØ¥‰ªñ‚ÄúÂºπÊÄß‚ÄùÁöÑÈÉ®ÂàÜ„ÄÇ ExpandedÂèØ‰ª•ÊåâÊØî‰æã‚ÄúÊãâ‰º∏‚ÄùRow„ÄÅColumnÂíåFlexÂ≠êÁªÑ‰ª∂ÊâÄÂç†ÁöÑÁ©∫Èó¥„ÄÇ 1234const Expanded(&#123; int flex = 1, @required Widget child,&#125;) flex‰∏∫ÂºπÊÄßÁ≥ªÊï∞ÔºåÂ¶ÇÊûú‰∏∫0ÊàñËÄÖnullÔºåÂàôchild‰∏ç‰ºöÈòî‰º∏Âç†Áî®ÁöÑÊéß‰ª∂„ÄÇÂ¶ÇÊûúÂ§ß‰∫é0ÔºåÂàô‰ºöÊåâÁÖßflexÁöÑÊØî‰æãÊù•ÂàÜÈöî‰∏ªËΩ¥ÂÖ®ÈÉ®Á©∫Èó≤Á©∫Èó¥„ÄÇÂÖ∂ÂÆûËØ¥ÁôΩ‰∫ÜÔºåÂ∞±ÂíåAndroidÈáåÈù¢LinearLayoutÁöÑweight‰∏ÄÊ†∑ÁöÑ„ÄÇ‰ΩÜÊòØÊàë‰ª¨ËøòÊòØÊù•‰∏æ‰∏™‰æãÂ≠êÂêß„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869return Scaffold( appBar: new AppBar( title: Text("$_title"), ), body: Center( child: Flex( children: &lt;Widget&gt;[ Flex( direction: Axis.horizontal, children: &lt;Widget&gt;[ Expanded( flex: 1, child: Container( color: Colors.blue, child: Text("1234"), ), ), Expanded( flex: 2, child: Container( color: Colors.red, child: Text("1234"), ), ), ], ), Flex( direction: Axis.horizontal, children: &lt;Widget&gt;[ Expanded( flex: 3, child: Container( color: Colors.blue, child: Text("1234"), ), ), Expanded( flex: 1, child: Container( color: Colors.red, child: Text("1234"), ), ), ], ), Flex( direction: Axis.horizontal, children: &lt;Widget&gt;[ Expanded( flex: 1, child: Container( color: Colors.blue, child: Text("1234"), ), ), Expanded( flex: 1, child: Container( color: Colors.red, child: Text("1234"), ), ), ], ), ], direction: Axis.vertical, ), ),); ÊµÅÂºèÂ∏ÉÂ±Ä(Wrap„ÄÅFlow)Â¶ÇÊûú‰ΩøÁî®Á∫øÊÄßÂ∏ÉÂ±ÄÁöÑËØùÔºåÂΩìÈúÄË¶ÅÊòæÁ§∫ÁöÑÂÜÖÂÆπË∂ÖÂá∫Â±èÂπïËæπÁïåÁöÑÊó∂ÂÄôÂ∞±‰ºöÊä•Èîô„ÄÇ ‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®ÊµÅÂºèÂ∏ÉÂ±Ä„ÄÇÂΩìÈúÄË¶ÅÊòæÁ§∫ÁöÑÂÜÖÂÆπË∂ÖÂá∫Â±èÂπïËæπÁïåÁöÑÊó∂ÂÄôÔºåÂ∞±Ëá™Âä®ÊäòË°åÊù•ÁªßÁª≠ÊòæÁ§∫„ÄÇ Flutter‰∏≠ÈÄöËøáWrapÂíåFlowÊù•ÂÆûÁé∞ÊµÅÂºèÂ∏ÉÂ±Ä„ÄÇ WrapÊàë‰ª¨Êù•Áúã‰∏ãWrap‰∏ªË¶ÅÁöÑ‰∏Ä‰∫õÂèÇÊï∞Ôºö123456789101112Wrap(&#123; ... this.direction = Axis.horizontal, this.alignment = WrapAlignment.start, this.spacing = 0.0, this.runAlignment = WrapAlignment.start, this.runSpacing = 0.0, this.crossAxisAlignment = WrapCrossAlignment.start, this.textDirection, this.verticalDirection = VerticalDirection.down, List&lt;Widget&gt; children = const &lt;Widget&gt;[],&#125;) ÂÖ∂‰∏≠ÂæàÂ§öÂèÇÊï∞RowÂíåColumn‰∏≠ÈÉΩÊúâÔºåÂ∞±‰∏çÂÜç‰ªãÁªç‰∫ÜÔºå‰∏ªË¶Å‰ªãÁªçÁÇπ‰∏çÂêåÁöÑÔºö spacingÔºö‰∏ªËΩ¥ÊñπÂêëÂ≠êwidgetÁöÑÈó¥Ë∑ù runSpacingÔºöÁ∫µËΩ¥ÊñπÂêëÁöÑÈó¥Ë∑ù runAlignmentÔºöÁ∫µËΩ¥ÊñπÂêëÁöÑÂØπÈΩêÊñπÂºè ‰∏ãÈù¢Êúâ‰∏Ä‰∏™Á§∫‰æãÔºö1234567891011121314151617181920212223Wrap( spacing: 8.0, // ‰∏ªËΩ¥(Ê∞¥Âπ≥)ÊñπÂêëÈó¥Ë∑ù runSpacing: 4.0, // Á∫µËΩ¥ÔºàÂûÇÁõ¥ÔºâÊñπÂêëÈó¥Ë∑ù alignment: WrapAlignment.center, //Ê≤ø‰∏ªËΩ¥ÊñπÂêëÂ±Ö‰∏≠ children: &lt;Widget&gt;[ new Chip( avatar: new CircleAvatar(backgroundColor: Colors.blue, child: Text('A')), label: new Text('Hamilton'), ), new Chip( avatar: new CircleAvatar(backgroundColor: Colors.blue, child: Text('M')), label: new Text('Lafayette'), ), new Chip( avatar: new CircleAvatar(backgroundColor: Colors.blue, child: Text('H')), label: new Text('Mulligan'), ), new Chip( avatar: new CircleAvatar(backgroundColor: Colors.blue, child: Text('J')), label: new Text('Laurens'), ), ],) FlowFlowËæÉÂ§çÊùÇÔºåÈúÄË¶ÅËá™Â∑±ÂÆûÁé∞Â≠êWidgetÁöÑ‰ΩçÁΩÆËΩ¨Êç¢Ôºå‰∏ÄËà¨‰∏çÊé®Ëçê‰ΩøÁî®Flow„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÈúÄË¶ÅËá™ÂÆö‰πâÂ∏ÉÂ±ÄÁ≠ñÁï•ÔºåÊàñËÄÖÂØπÊÄßËÉΩË¶ÅÊ±ÇËæÉÈ´òÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÂæóÁî®Flow‰∫Ü„ÄÇ ‰ΩÜÊòØÁî±‰∫éÂ§™Ëøá‰∫éÂ§çÊùÇÔºåÊàë‰πüÊ≤°ÂíãÁî®ËøáÔºåÊàëÂ∞±‰∏çÂú®ËøôËÆ≤‰∫ÜüòùÔºåÂ§ßÂÆ∂ÊúâÈúÄË¶ÅÁöÑÂèØ‰ª•ÁôæÂ∫¶ÔºåÊàñËÄÖÁúãÊàëÊé®ËçêÁöÑËøôÁØáÔºö4.4 ÊµÅÂºèÂ∏ÉÂ±Ä-„ÄäFlutterÂÆûÊàò„Äã Â±ÇÂè†Â∏ÉÂ±Ä(Stack)Ëøô‰∏™Â∏ÉÂ±ÄÁ±ª‰ºº‰∫éAndroid‰∏≠ÁöÑFrameÔºåÂÖÅËÆ∏Âú®Áà∂Â∏ÉÂ±ÄÁöÑ‰ªªÊÑèÂú∞ÊñπÊîæÁΩÆÂ∏ÉÂ±Ä„ÄÇ1234567Stack(&#123; this.alignment = AlignmentDirectional.topStart, this.textDirection, this.fit = StackFit.loose, this.overflow = Overflow.clip, List&lt;Widget&gt; children = const &lt;Widget&gt;[],&#125;) alignmentÔºöÂÜ≥ÂÆöÂ¶Ç‰ΩïÂéªÂØπÈΩêÔºõ textDirectionÔºöÁ°ÆÂÆöalignmentÁöÑÂèÇËÄÉÁ≥ªÔºõ fitÔºöÊ≤°ÊúâÂÆö‰ΩçÁöÑÂ≠êWidgetÂ¶Ç‰ΩïÂéªÈÄÇÂ∫îStackÁöÑÂ§ßÂ∞èÔºõ overflowÔºöÂÜ≥ÂÆöË∂ÖÂá∫StackÊòæÁ§∫Á©∫Èó¥ÁöÑÂ≠êWidgetÂ¶Ç‰ΩïÂéªÊòæÁ§∫ÔºåÂ¶ÇÊûúOverflow.clipÔºåÂàôË∂ÖÂá∫ÈÉ®ÂàÜ‰ºöÈöêËóèÔºåOverflow.visibleÂàô‰∏ç‰ºö„ÄÇ ÂØπÈΩê‰∏éÁõ∏ÂØπÂÆö‰Ωç(Align)AlignÂèØ‰ª•Ë∞ÉÊï¥Â≠êWidgetÁöÑ‰ΩçÁΩÆÔºåÂπ∂‰∏îÂèØ‰ª•Ê†πÊçÆÂ≠êWidgetÁöÑÂÆΩÈ´òÊù•Á°ÆÂÆöËá™Ë∫´ÁöÑÂÆΩÈ´ò„ÄÇ1234567Align(&#123; Key key, this.alignment = Alignment.center, this.widthFactor, this.heightFactor, Widget child,&#125;) alignmentÔºö‰ª£Ë°®Â≠êWidgetÂú®Áà∂WidgetÁöÑËµ∑Âßã‰ΩçÁΩÆÔºõ widthFactorÂíåheightFactorÁ°ÆÂÆöAlignÊú¨Ë∫´ÁöÑÂÆΩÈ´ò„ÄÇ Êù•Áúã‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö1234567891011Container( height: 120.0, width: 120.0, color: Colors.blue[50], child: Align( alignment: Alignment.topRight, child: FlutterLogo( size: 60, ), ),) ËøêË°åÁªìÊûúÔºö 3. ÂÆπÂô®Á±ªÁªÑ‰ª∂Â°´ÂÖÖ(Padding)Áî®ËøáAndroidÁöÑÂêåÂ≠¶‰∏ÄÂÆöÁÜüÊÇâÔºåPaddingÂ∞±ÊòØË¥üË¥£ÁïôÁôΩÁöÑÂòõ„ÄÇ‰ΩÜÊòØË∑üAndroidÈáåÈù¢‰∏çÂêåÁöÑÊòØÔºåÂú®AndroidÈáåÈù¢Êàë‰ª¨‰∏ÄËà¨ÊòØÂú®‰∏Ä‰∏™ViewÈáåÈù¢Ê∑ªÂä†PaddingÔºå‰ΩÜÊòØÂú®FlutterÈáåÈù¢ÔºåPaddingÁõ¥Êé•ÂèòÊàê‰∫Ü‰∏Ä‰∏™Widget„ÄÅ‰∏Ä‰∏™Â∏ÉÂ±Ä„ÄÇ ‰ΩøÁî®ÊñπÊ≥ïÔºö1234Padding (&#123; EdgeInsetsGeometry padding, Widget child,&#125;) ÂØπ‰∫éEdgeInsetsGeometryÊàë‰ª¨‰∏ÄËà¨‰ΩøÁî®EdgeInsetsÁ±ª„ÄÇ EdgeInsetsEdgeInsetsÁ±ªÊèê‰æõ‰∫ÜÂá†‰∏™‰æøÊç∑ÁöÑÊñπÊ≥ïÔºö fromLTRB(double left, double top, double right, double bottom)ÔºöÂàÜÂà´ÊåáÂÆöÂõõ‰∏™ÊñπÂêëÁöÑÂ°´ÂÖÖÔºõ all(double value) : ÊâÄÊúâÊñπÂêëÂùá‰ΩøÁî®Áõ∏ÂêåÊï∞ÂÄºÁöÑÂ°´ÂÖÖÔºõ only({left, top, right ,bottom })ÔºöÂèØ‰ª•ËÆæÁΩÆÂÖ∑‰ΩìÊüê‰∏™ÊñπÂêëÁöÑÂ°´ÂÖÖ(ÂèØ‰ª•ÂêåÊó∂ÊåáÂÆöÂ§ö‰∏™ÊñπÂêë)Ôºõ symmetric({ vertical, horizontal })ÔºöÁî®‰∫éËÆæÁΩÆÂØπÁß∞ÊñπÂêëÁöÑÂ°´ÂÖÖÔºåverticalÊåátopÂíåbottomÔºåhorizontalÊåáleftÂíårightÔºõ Á§∫‰æãÔºö12345678910111213141516body: Column( children: &lt;Widget&gt;[ Padding( padding: EdgeInsets.only(left: 12.0, bottom: 10.0), child: Text("1234"), ), Padding( padding: EdgeInsets.fromLTRB(0.0, 0.0, 10.0, 10.0), child: Text("1234"), ), Padding( padding: EdgeInsets.symmetric(vertical: 10.0), child: Text("1234"), ), ],), ËøêË°åÁªìÊûúÔºö]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(3)‚Äî‚ÄîWidget]]></title>
    <url>%2Fposts%2Ffc77cdce.html</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÂú®Flutter‰∏≠ÔºåWidgetÊòØ‰∏™ÈùûÂ∏∏Âü∫Êú¨ÁöÑ‰∏úË•øÔºåÊàëÂú®‰∏ä‰∏ÄÁ´†Â∞±ËØ¥ËøáÔºåFlutter‰∏≠Âè™Ë¶ÅÊòØÁïåÈù¢ÈÉΩÊòØWidgetÔºå‰Ω†ÂèØ‰ª•ÊääÂÆÉÂ∞±ÁêÜËß£ÊàêÊòØÊéß‰ª∂Ôºå‰ΩÜÊòØÂèàÂíåAndroidÁöÑViewÊéß‰ª∂‰∏çÂêåÁöÑÊòØÔºåÂú®Flutter‰∏≠ÔºåÂåÖÊã¨Padding„ÄÅAlign„ÄÅÊâãÂäøÊ£ÄÊµãÁöÑGestureDetectorÁ≠âÁ≠âÔºåÈÉΩÁÆóÊòØWidget„ÄÇ ÂÖ∂ÂÆûÂ§ßÂ§öÊï∞Êó∂ÂÄôÔºå‰Ω†Â∞±ÂèØ‰ª•ÊääWidgetÁõ¥Êé•ÁêÜËß£ÊàêUIÊéß‰ª∂Â∞±Ë°å‰∫ÜÔºåÂõ†‰∏∫Padding„ÄÅAlign„ÄÅGestureDetectorÁ≠âÁ≠â‰πüÈÉΩÊòØ‰∏∫UIÊúçÂä°ÁöÑÔºå‰Ω†Â∞±ÂèØ‰ª•ÁêÜËß£ÊàêFlutter‰∏≠Âè™Ë¶Å‰∏éUIÊúâÂÖ≥ÁöÑÂ±ûÊÄßÈÉΩÂèØ‰ª•ÁÆóÊòØÊéß‰ª∂„ÄÇ WidgetÁöÑÁä∂ÊÄÅÂú®Android‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÈÄöËøáÊõ¥Êñ∞Êï∞ÊçÆÊù•ËææÂà∞Âà∑Êñ∞UIÁöÑÁõÆÁöÑ„ÄÇ‰ΩÜÊòØÂ¶ÇÊûú‰ΩøÁî®FlutterÔºåÂ∞±ÂÉèÊàë‰ª¨ÂâçÈù¢ËØ¥ÁöÑËÆ°Êï∞Âô®ÁöÑDemoÔºåÂ¶ÇÊûúÁõ¥Êé•ÈÄöËøáStatelessWidget‰πüÂ∞±ÊòØÊó†Áä∂ÊÄÅWidgetÁöÑËØùÔºåÊòØÊ≤°Ê≥ïËøõË°åÂà∑Êñ∞UIÁöÑÔºåÂè™ËÉΩÂÜô‰∏Ä‰∏™Ê≠ªÁïåÈù¢Ôºå‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúÂú®Flutter‰∏≠ÁïåÈù¢ÂÜôÂá∫Êù•ÁöÑÂ∞±ÊòØ‰∏Ä‰∏™Ê≠ªÁïåÈù¢ÔºåÂè™ÊúâÈÄöËøáÂà∑Êñ∞Áä∂ÊÄÅÊâçËÉΩÊõ¥Êñ∞UI„ÄÇ WidgetÊúâ‰∏§‰∏™Áõ¥Êé•Â≠êÁ±ªÔºöStatelessWidgetÂíåStatefulWidgetÔºö StatelessWidgetÔºöËøô‰∏™ÊòØÊó†Áä∂ÊÄÅWidgetÔºåÂÆûÁé∞build()ÊñπÊ≥ïÂêéÔºåÂ∞±‰∏çÂèØÂÜçÂèòÂåñÔºåÂì™ÊÄï‰ªñÁöÑÁä∂ÊÄÅÊîπÂèò‰∫Ü„ÄÇËøôÂè•ËØùÂèØËÉΩÊúâÁÇπÁüõÁõæÔºå‰ΩÜÊòØÊàëÊù•‰∏æ‰∏™‰æãÂ≠êÔºåÊØîÊñπËØ¥Áé∞Âú®Êúâ‰∏Ä‰∏™StatelessWidgetÔºå‰ªñÁöÑÂÜÖÂÆπÂ∞±ÊòØ‰∏Ä‰∏™TextÔºåËÄåËøô‰∏™TextÁöÑÂÜÖÂÆπÂàôÊòæÁ§∫‰∫ÜcounterËøô‰∏™ÂèòÈáè„ÄÇÂΩìËøô‰∏™È°µÈù¢Âá∫Áé∞ÁöÑÊó∂ÂÄôÔºåÂèñ‰∫ÜÂΩìÊó∂counterÁöÑÂÄºÂπ∂ÊòæÁ§∫‰∫ÜÂá∫Êù•Ôºå‰ΩÜÊòØÊàë‰ª¨ÂêéÁª≠‰∏çÁÆ°counterËøô‰∏™ÂÄºÊÄé‰πàÊîπÂèòÔºåÁïåÈù¢ÈÉΩÊòØ‰∏ç‰ºöÊòæÁ§∫Âá∫Êù•ÁöÑ„ÄÇ StatefulWidgetÔºöËøô‰∏™ÊòØÊúâÁä∂ÊÄÅWidgetÔºåÂΩì‰Ω†ÊúâÁä∂ÊÄÅÈúÄË¶ÅÊîπÂèòÁöÑÊó∂ÂÄôÂ∞±ÂèØ‰ª•ÈÄöËøá‰ªñÊù•ÊîπÂèòÁä∂ÊÄÅ„ÄÇ StateÁöÑÂá†ÁßçÁä∂ÊÄÅÔºö ÂêçÁß∞ Áä∂ÊÄÅ initState create‰πãÂêéË¢´insertÂà∞Ê∏≤ÊüìÊ†ëÊó∂Ë∞ÉÁî®ÁöÑÔºåÂè™‰ºöË∞ÉÁî®‰∏ÄÊ¨° didChangeDependencies state‰æùËµñÁöÑÂØπË±°ÂèëÁîüÂèòÂåñÊó∂Ë∞ÉÁî® didUpdateWidget WidgetÁä∂ÊÄÅÊîπÂèòÊó∂ÂÄôË∞ÉÁî®ÔºåÂèØËÉΩ‰ºöË∞ÉÁî®Â§öÊ¨° build ÊûÑÂª∫WidgetÊó∂Ë∞ÉÁî® deactivate ÂΩìÁßªÈô§Ê∏≤ÊüìÊ†ëÁöÑÊó∂Ë∞ÉÁî® dispose WidgetÂç≥Â∞ÜÈîÄÊØÅÊó∂Ë∞ÉÁî® StatelessWidgetËøô‰∏™Á±ªÁõ∏ÂØπÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂÆûÁé∞build()ÊñπÊ≥ïÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ StatelessWidgetÁî®‰∫é‰∏çÈúÄË¶ÅÁª¥Êä§Áä∂ÊÄÅÁöÑÂú∫ÊôØÔºå‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûú‰ªñÈúÄË¶ÅÊòæÁ§∫ÁöÑÊüê‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂÄºÂèëÁîüÂèòÂåñ‰∫Ü‰ªñ‰πü‰∏çÂèò„ÄÇ 123456789101112131415class Test extends StatelessWidget &#123; Test(&#123;Key key, this.title&#125;) : super(key: key); final String title; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: new AppBar( title: Text("$title"), ), body: Text("1234"), ); &#125;&#125; ‰∏äÈù¢‰ª£Á†ÅÂ∞±ÊºîÁ§∫‰∫Ü‰∏Ä‰∏™StatelessWidgetÁöÑ‰æãÂ≠êÔºåÂäüËÉΩÊòØÊ†πÊçÆ‰º†ÂÖ•ÁöÑtitleÂú®ÁïåÈù¢ÁöÑtitle‰∫Ü‰∏äÊòæÁ§∫Âá∫Êù•„ÄÇÂè™ÂÆûÁé∞‰∫Übuild()ÊñπÊ≥ïÂíåÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂÖ∂‰∏≠ÊûÑÈÄ†ÊñπÊ≥ïÂèÇÊï∞KeyÊòØÂøÖÈ°ªÂæóÊúâÁöÑÔºåËÄå‰∏îÂ¶ÇÊûúËØ•WidgetËøòÊúâÂÖ∂‰ªñÁä∂ÊÄÅÁöÑËØùÔºå‰πüÈúÄË¶ÅÂÜôÂÖ•ÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÊé•ÁùÄË∞ÉÁî®build()ÊñπÊ≥ïÔºåÂ∞Ü‰º†ÂÖ•ÁöÑtitleÂú®ÁïåÈù¢ÁöÑtitle‰∏äÊòæÁ§∫Âá∫Êù•„ÄÇ ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊàë‰ª¨Ë∞ÉÁî®ÂÆÉÔºö12345678910@override Widget build(BuildContext context) &#123; return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: Test(title: 'Flutter Demo Home Page'), ); &#125; ÁªìÊûúÊòØÔºö StatefulWidget‰∏éStatelessWidgetÁõ∏ÂØπÁöÑÂ∞±ÊòØStatefulWidget„ÄÇÂÆÉÁöÑÈáçÁÇπÂú®‰∫éÂèØ‰ª•Ê†πÊçÆÁä∂ÊÄÅÊù•Êõ¥Êñ∞„ÄÇ ‰ªñËæÉ‰∫éStatelessWidgetÔºåÂ∞ë‰∫ÜÊàë‰ª¨Â∏∏Áî®ÁöÑbuild()ÊñπÊ≥ïÔºåÂ§ö‰∫ÜcreateState()ÊñπÊ≥ï„ÄÇ‰∏ãÈù¢ÊàëÂ∞±Êù•ËÆ≤‰∏Ä‰∏ã‰ªñÁöÑÁî®Ê≥ïÔºåÊàëËøòÊòØÊãø‰∏äÈù¢ÁöÑTestÂÅö‰æãÂ≠ê„ÄÇ 123456789101112131415161718192021222324252627282930class Test extends StatefulWidget &#123; Test(&#123;Key key, this.title&#125;) : super(key: key); final String title; @override _TestState createState() =&gt; _TestState();&#125;class _TestState extends State&lt;Test&gt; &#123; String _title; @override void initState() &#123; setState(() &#123; _title = widget.title; &#125;); super.initState(); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: new AppBar( title: Text("$_title"), ), body: Text("1234"), ); &#125;&#125; ÂÖàÁúãTestÁ±ªÔºå‰ªñÁªßÊâøËá™StatefulWidgetÔºåÁî±‰∫éËøô‰∏™È°µÈù¢ÈúÄË¶ÅÊ†πÊçÆ‰º†ÂÖ•ÁöÑÂèÇÊï∞Êù•ÊòæÁ§∫titleÔºåÊâÄ‰ª•Êúâ‰∏Ä‰∏™Áä∂ÊÄÅtitleÔºåÂπ∂Âú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÂÜôÂÖ•‰∫Ü‰ªñ„ÄÇÊé•ÁùÄË∞ÉÁî®‰∫ÜcreateState()ÊñπÊ≥ï„ÄÇËøô‰∏™ÊñπÊ≥ïÊòØÊâÄÊúâStatefulWidgetÂøÖÈ°ªÁöÑÔºå‰∏ªË¶ÅÊòØ‰∏∫Ëøô‰∏™WidgetÂàõÂª∫‰ªñÂØπÂ∫îÁöÑState„ÄÇ ‰∫éÊòØÊàë‰ª¨Â∞±Âú®‰∏ãÈù¢ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ±ªÔºåÁ±ªÂêçÂè´_TestStateÔºåÁªßÊâøËá™State&lt;Test&gt;„ÄÇÁî±‰∫éWidgetÊúâtitleËøô‰∏™Áä∂ÊÄÅÔºåÂπ∂‰∏îÈúÄË¶ÅÂú®ÁïåÈù¢‰∏≠ÊòæÁ§∫Âá∫Êù•ÔºåÊâÄ‰ª•‰∏∫‰∫ÜÈôç‰Ωé‰ªñ‰ª¨ÁöÑËÄ¶ÂêàÂ∫¶ÔºåÊàë‰ª¨Âú®StateÁ±ª‰∏≠‰πüÂàõÂª∫‰∏Ä‰∏™Âè´_titleÁöÑÁä∂ÊÄÅÔºåÂπ∂_title = widget.title;„ÄÇÊé•‰∏ãÊù•ÊòØ‰∏Ä‰∏™initState()ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ï‰πüÊòØStateÂøÖÈ°ªÁöÑÔºåÂú®‰∏äÈù¢WidgetÁöÑÁä∂ÊÄÅ‰∏≠Êàë‰ª¨ËÆ≤Âà∞ËøáÔºåËøô‰∏™ÊòØÂàùÂßãÂåñStateÁöÑÔºåÂêåÊó∂Âú®initSate()ÈáåÈù¢ÔºåÊàë‰ª¨ÂÜô‰∫Ü‰∏Ä‰∏™setState()Ôºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÂëäËØâFlutterËØ¥Ëøô‰∏™ÊñπÊ≥ïÈáåÈù¢ÁöÑÂèÇÊï∞ÊîπÂèò‰∫ÜÊé•ÁùÄWidgetÁöÑÁä∂ÊÄÅ‰πüÂæóÊîπÂèò„ÄÇÊúÄÂêéÂ∞±ÊòØbuild()ÊñπÊ≥ï„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨Ë∞ÉÁî®ÂÆÉÔºö12345678910@override Widget build(BuildContext context) &#123; return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: Test(title: '1234'), ); &#125; ÁªìÊûúÊòØÔºö]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(2)‚Äî‚ÄîFlutterËÆ°Êï∞Âô®Demo]]></title>
    <url>%2Fposts%2F956d1e66.html</url>
    <content type="text"><![CDATA[Êú¨ÊñáÊ†∑‰æãÈÉΩÊòØ‰ΩøÁî®ÁöÑAndroidStudioÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî®XcodeÊàñËÄÖvscodeÔºå‰ª£Á†ÅÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂè™ÊòØIDEÂàõÂª∫È°πÁõÆÁöÑÊñπÂºè‰ª•ÂèäËøêË°åÊåâÈîÆ‰ΩçÁΩÆ‰∏çÂêåËÄåÂ∑≤„ÄÇ ÂàõÂª∫FlutterÈ°πÁõÆAndroidStudio‰∏≠ÈÄâÊã©File-&gt;New-&gt;New Flutter Project-&gt;Flutter Application-&gt;NEXT„ÄÇÊé•ÁùÄÂ°´ÂÜô‰Ω†ÁöÑÈ°πÁõÆÂêçÁß∞Á≠â‰∏ÄÁ≥ªÂàó‰ø°ÊÅØÂêéÂ∞±ÂàõÂª∫ÊàêÂäü‰∫ÜÔºåÊàë‰ª¨Â∞±‰ºöÁúãÂà∞AndroidStudioÂ∑≤Áªè‰∏∫Êàë‰ª¨ÂàõÂª∫Â•Ω‰∫Ü‰∏Ä‰∏™DemoÔºåÊé•ÁùÄËøû‰∏ä‰Ω†ÁöÑÊâãÊú∫ÊàñËÄÖÊâìÂºÄ‰Ω†ÁöÑËôöÊãüÊú∫ÔºåÊåâ‰∏ãAndroidStudioÁöÑËøêË°åÈîÆÔºå‰∏ç‰∏Ä‰ºöÂÑøÔºå‰Ω†Â∞±‰ºöÊÉäÂñúÁöÑÂèëÁé∞‰Ω†ÁöÑÊâãÊú∫‰∏äÂ∞±Êúâ‰∏Ä‰∏™FlutterËÆ°Êï∞Âô®Demo‰∫Ü„ÄÇ ‰ªãÁªç‰∏ãAndroidStudioÁïåÈù¢ËøôÊòØÊàëÁöÑAndroidStudioÁïåÈù¢ÔºåÊé•‰∏ãÊù•ÊàëÂàÜ‰∏â‰∏™ÈÉ®ÂàÜ‰ªãÁªç‰∏ãAndroidStudioÁöÑÂ§ßËá¥ÁïåÈù¢„ÄÇ ÊéßÂà∂Âå∫ ‰∏ÄÊ¨°‰ªãÁªçÊØè‰∏Ä‰∏™ÊåâÈíÆÁöÑÂäüËÉΩ„ÄÇ Á¨¨‰∏Ä‰∏™ÊòØÁî®Êù•ÈÄâÊã©ËøêË°åËÆæÂ§áÁöÑÔºåÊØîÊñπËØ¥ÊàëÁé∞Âú®Â∞±ÈÄâÁöÑÊòØÊàëÁöÑËôöÊãüÊú∫ÔºåÁÑ∂ÂêéÊàëÊåâ‰∏ãËøêË°åÂêéÂ∞±ÂèØ‰ª•Â∞ÜÈ°πÁõÆËøêË°åÂà∞ÊàëÁöÑËôöÊãüÊú∫‰∏äËÄå‰∏ç‰ºöËøêË°åÂà∞ËøûÁùÄÊàëÁöÑÁîµËÑëÁöÑÊâãÊú∫‰∏äÂéªÔºõ Á¨¨‰∫å‰∏™ÊòØÈÄâÊã©ËøêË°åÂì™‰∏™Flutter moduleÔºåÂ¶ÇÊûú‰Ω†Âêå‰∏Ä‰∏™È°πÁõÆÈáåÈù¢ÊúâÂ§ö‰∏™moduleÔºå‰Ω†Â∞±ÂèØ‰ª•Âú®Ê≠§ÈÄâÊã©‰Ω†ÊÉ≥Ë¶ÅËøêË°åÁöÑmoduleÔºõ Á¨¨‰∏â‰∏™ÁÅ∞Ëâ≤ÁöÑÈÄâÈ°πÊ°ÜÊàë‰πüÊ≤°ÂºÑÊáÇÂ•πÊòØÂπ≤ÂòõÁöÑÔºåÊàëËá≥‰ªäÈÉΩÊ≤°ËÉΩÈÄâÊã©ËøáÔºå‰∏ÄÁõ¥ÈÉΩÊòØÁÅ∞ÁöÑÔºõ ÁªøËâ≤ÁöÑ‰∏âËßíÂΩ¢ÔºåÂ§ßÂÆ∂ÁÜüÁü•ÔºåËøêË°åÈîÆÔºõ Á∫¢Ëâ≤ÁöÑÁì¢Ëô´ÔºåÂ§ßÂÆ∂ÁÜüÁü•ÔºådebugÈîÆÔºõ ‰∏çÁü•ÈÅìÂπ≤ÂòõÁöÑÔºõ FlutterAPPÁöÑÊÄßËÉΩÁõëËßÜÂô®Ôºõ Èó™ÁîµÔºåËøô‰∏™ÊòØÈáçÁÇπÔºå‰πüÊòØFlutterÁöÑ‰∏ÄÂ§ßÁâπÊÄßÔºåÁÉ≠ÈáçËΩΩÈîÆÔºå‰ªñËÉΩÂÅöÂà∞‰∏çÈúÄË¶ÅÈáçÊñ∞ÁºñËØë‰ª£Á†ÅÂ∞±ËÉΩÂ∞Ü‰Ω†‰øÆÊîπÁöÑ‰ª£Á†ÅÁöÑÊïàÊûúÂú®‰Ω†ÁöÑAPP‰∏äÊòæÁ§∫Âá∫Êù•Ôºõ ‰∏çÁü•ÈÅìÂπ≤ÂòõÁöÑÔºõ Á∫¢Ëâ≤ÁöÑÊ≠£ÊñπÂΩ¢ÔºåÂÅúÊ≠¢ËøêË°åÊåâÈíÆ„ÄÇ RunËøêË°åÂå∫Â∞±ÊòØFlutterÁöÑ‰ø°ÊÅØÊòæÁ§∫Âå∫ÔºåÁ±ª‰ºº‰∫éAndroidStudioÁöÑLogcatÔºåËÉΩÊòæÁ§∫FlutterAPPËøêË°å‰∏≠ÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØ„ÄÇ Flutter Outline/Flutter InspectorÂå∫Áî®‰∫éÊòæÁ§∫ÂΩìÂâçÁïåÈù¢ÁöÑ‰∏Ä‰∫õÊûÑÂª∫‰ø°ÊÅØ„ÄÇ FlutterÈ°πÁõÆÁªìÊûÑ Êàë‰ª¨Êåë‰∏Ä‰∫õÈáçË¶ÅÁöÑËØ¥‰∏Ä‰∏ãÔºö .ideaÊñá‰ª∂Â§πÔºåAndroidStudioËØÜÂà´È°πÁõÆÁöÑÂøÖÂ§áÊñá‰ª∂Â§πÔºå‰∏çÁî®ÁÆ°Ôºõ AndroidÊñá‰ª∂Â§πÔºåÂ≠òÊîæFlutterÊûÑÂª∫ÁöÑAndroidÈ°πÁõÆÁöÑÊñá‰ª∂Â§πÔºõ iosÊñá‰ª∂Â§πÔºåÂ≠òÊîæFlutterÊûÑÂª∫ÁöÑiOSÈ°πÁõÆÁöÑÊñá‰ª∂Â§πÔºõ libÊñá‰ª∂Â§πÔºåÂ≠òÊîæFlutterÈ°πÁõÆÂíåËµÑÊ∫êÁöÑÊñá‰ª∂Â§πÔºõ pubspec.yamlÊñá‰ª∂ÔºåÂ≠òÊîæFlutterÈ°πÁõÆÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂ¶ÇÈ°πÁõÆÂêçÁß∞„ÄÅÁâàÊú¨„ÄÅ‰æùËµñÁ≠âÁ≠âÔºåÁ±ª‰ºº‰∫éAndroidÈ°πÁõÆÁöÑbuild.gradleÊñá‰ª∂„ÄÇ main.dartÊñá‰ª∂Êàë‰ª¨ÈÄöËøáËÆ≤Ëøô‰∏™Êñá‰ª∂Êù•ÁªôÂ§ßÂÆ∂Â§ßËá¥‰ªãÁªç‰∏ãFlutterÈ°πÁõÆ‰ª£Á†ÅÁªìÊûÑ„ÄÇ ÂÖ®ÈÉ®Ê∫ê‰ª£Á†ÅÂú®Ê≠§1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import 'package:flutter/material.dart';void main() =&gt; runApp(MyApp());class MyApp extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: MyHomePage(title: 'Flutter Demo Home Page'), ); &#125;&#125;class MyHomePage extends StatefulWidget &#123; MyHomePage(&#123;Key key, this.title&#125;) : super(key: key); final String title; @override _MyHomePageState createState() =&gt; _MyHomePageState();&#125;class _MyHomePageState extends State&lt;MyHomePage&gt; &#123; int _counter = 0; void _incrementCounter() &#123; setState(() &#123; _counter++; &#125;); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text( 'You have pushed the button this many times:', ), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), ); &#125;&#125; importÈ¶ñÂÖàÊàë‰ª¨ÁúãÊúÄÂºÄÂßãÁöÑimportÂå∫„ÄÇ ËøôÂùóÁõ∏ÂΩì‰∫éC/C++ÁöÑincludeÔºåÂèçËÄå‰∏çÂÉèjavaÁöÑimport„ÄÇÊàë‰∏∫‰ªÄ‰πàËøô‰πàËØ¥Âë¢Ôºå‰Ω†ÊÉ≥‰∏Ä‰∏ãÔºå‰Ω†ÂÜôjavaÁ®ãÂ∫èÁöÑÊó∂ÂÄôÔºå‰Ω†ÊòØÈúÄË¶ÅÂì™‰∏™Á±ªÂ∞±Áõ¥Êé•Âú®‰ª£Á†Å‰∏≠ËæìÂÖ•Á±ªÂêçÔºåÁÑ∂ÂêéIDE‰ºöËá™Âä®Áªô‰Ω†ÊòæÁ§∫ÊúâËøô‰∏™Á±ªÁöÑÊâÄÊúâÁöÑÂåÖÔºåÁÑ∂ÂêéËÆ©‰Ω†ÈÄâÂåÖÂéªÂØºÂÖ•ÔºõËÄåÂÜôdartÊòØÈúÄË¶Å‰Ω†ÂÖàÂØºÂÖ•ÂåÖÔºåÊâçËÉΩÂú®‰ª£Á†Å‰∏≠ÂÜôËøô‰∏™ÂåÖ‰∏≠ÁöÑÁ±ªÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÂÖàÂØºÂÖ•ÂåÖËÄåÁõ¥Êé•Âà∞‰∏ãÈù¢ÂÜôÁöÑËØùÔºåIDEÊòØ‰∏ç‰ºöÊèêÁ§∫‰Ω†Ëøô‰∏™Á±ªÂèØËÉΩ‰ºöÂú®Âì™‰∏™ÂåÖ‰∏≠ÔºåËÄåÊòØÁõ¥Êé•Êä•ÈîôÔºåËøôÁÇπÂíåC/C++ÊØîËæÉÁ±ª‰ºº„ÄÇ ÈÇ£Êàë‰ª¨‰∏∫‰ªÄ‰πàÂØºÂÖ•ÁöÑÊòØflutter/material.dartËøô‰∏™ÂåÖÂë¢ÔºüÊàëÂú®Á¨¨‰∏ÄËäÇÈáåÈù¢ËØ¥ËøáÔºåFlutter‰ªñÂÜÖÁΩÆ‰∫ÜAndroidÁöÑMaterial DesignÈ£éÊ†ºÂíåiOSÁöÑCupertinoÈ£éÊ†ºÁöÑUIÔºõÊâÄ‰ª•ËøôÂùóÂ∞±ÊòØÂØºÂÖ•Material DesignÈ£éÊ†ºUIÊñá‰ª∂ÔºåËÄåÂ¶ÇÊûú‰Ω†Ë¶Å‰ΩøÁî®CupertinoÈ£éÊ†ºUIÊñá‰ª∂ÁöÑËØùÔºåÊääÂÆÉÊîπÊàêCupertinoÂ∞±Ë°å‰∫Ü„ÄÇ main()1234567891011121314void main() =&gt; runApp(MyApp());class MyApp extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: MyHomePage(title: 'Flutter Demo Home Page'), ); &#125;&#125; Á¨¨‰∏ÄË°åÔºåÊåáÊòéÈ°πÁõÆÁöÑÂÖ•Âè£Â∞±ÊòØMyApp()„ÄÇÂõ∫ÂÆöÊ†ºÂºèÔºåÂèØ‰ª•‰∏çÁî®ÁÆ°„ÄÇ Á¨¨‰∫åË°åÂ∞±ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Á±ªMyAppÁªßÊâøËá™StatelessWidgetÔºåÂπ∂ÈáçÂÜô‰∫ÜÁà∂Á±ªÁöÑbuild()ÊñπÊ≥ï„ÄÇWidgetÂèØ‰ª•ÁúãÊàêFlutter‰∏≠ÁöÑÈ°µÈù¢ÔºåÂè™Ë¶ÅÊòØFlutter‰∏≠ÁöÑÈ°µÈù¢ÔºåÈÉΩÂøÖÈ°ªÁªßÊâøËá™Widget„ÄÇ‰ªñÊúâÁÇπÁ±ª‰ºº‰∫éAndroid‰∏≠ÁöÑViewÔºå‰ΩÜÊòØ‰∏çÂêå‰∫éViewÁöÑÊòØÔºåFlutter‰∏≠ÁöÑpadding„ÄÅalign„ÄÅlayoutÁ≠âÂ±ÖÁÑ∂‰πüÊòØWidget„ÄÇ Â¶ÇÊûúÊòØStatelessWidgetÔºåÂàô‰ª£Ë°®Â•πÊòØ‰∏Ä‰∏™‚ÄúÁä∂ÊÄÅÂ∞ë‚ÄùÁöÑWidgetÔºåÊàëÁöÑÁêÜËß£Â∞±ÊòØÁä∂ÊÄÅÁõ∏ÂΩì‰∫éWidgetÁöÑ‰∏Ä‰∫õÊï∞ÂÄºÔºåÊØîÊñπËØ¥È°µÈù¢Ë¶ÅÊòæÁ§∫ËÆ°Êï∞Âô®ÁöÑËÆ°Êï∞countÔºåÈÇ£‰πàËøô‰∏™countÂ∞±ÊòØ‰∏Ä‰∏™Áä∂ÊÄÅÔºåÂè™Ë¶ÅÊúâÁä∂ÊÄÅÂ∞±‰ΩøÁî®StatefulWidget„ÄÇÂÉèMyAppÂÆÉÊ≤°ÊúâÁä∂ÊÄÅÔºå‰∫éÊòØÂ∞±Áî®StatelessWidget„ÄÇ ÁªßÊâøËá™StatelessWidgetÁöÑÁ±ªÂøÖÈ°ªÂÆûÁé∞build()ÊñπÊ≥ïÔºåÁõ∏ÂΩì‰∫éËøô‰∏™Á±ªÊòØ‰∏Ä‰∏™Ê≠ªÈ°µÈù¢ÔºåÂè™ÈúÄË¶ÅÂ±ïÁ§∫Âõ∫ÂÆöÁöÑÂÜÖÂÆπÔºå‰πüÂ∞±ÊòØ‰∏çÈúÄË¶ÅÁä∂ÊÄÅÔºåÊâÄ‰ª•Áõ¥Êé•ÈÄöËøábuild()Áõ¥Êé•ÂÜôÂÖ•ÁïåÈù¢Â∞±Ë°å„ÄÇ build()ÊñπÊ≥ïÂøÖÈ°ªÂêåÊ†∑ËøîÂõû‰∏Ä‰∏™WidgetÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±‰ΩøÁî®MaterialAppÔºåÂÖ∂‰∏≠Êàë‰ª¨Áªô‰ªñÁöÑtitle„ÄÅtheme„ÄÅhomeËøõË°å‰∫ÜËµãÂÄºÔºåÂêåÂ≠¶‰ª¨Â∫îËØ•ÈÉΩËÉΩÂ§ßËá¥ËØªÊáÇÂï•ÊÑèÊÄùÔºåÈ¶ñÈ°µhomeÂàôÁªô‰∫ÜMyHomePage. MyHomePage123456789101112131415161718192021222324252627282930313233343536373839404142434445class MyHomePage extends StatefulWidget &#123; MyHomePage(&#123;Key key, this.title&#125;) : super(key: key); final String title; @override _MyHomePageState createState() =&gt; _MyHomePageState();&#125;class _MyHomePageState extends State&lt;MyHomePage&gt; &#123; int _counter = 0; void _incrementCounter() &#123; setState(() &#123; _counter++; &#125;); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text( 'You have pushed the button this many times:', ), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), ); &#125;&#125; MyHomePageÊàë‰ª¨Âú®ÂâçÈù¢ËØ¥ËøáÔºåÂ¶ÇÊûú‰∏Ä‰∏™È°µÈù¢ÊúâÊï∞ÊçÆ‰πüÂ∞±ÊòØ‚ÄúÁä∂ÊÄÅ‚ÄùÁöÑËØùÔºåÈÇ£‰πà‰ªñÂ∞±ÂæóÁªßÊâøËá™StatefulWidget„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™Á±ªÁªßÊâøËá™StatefulWidgetÔºåÈÇ£Ëøô‰∏™Á±ª‰ºöÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºåÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÂÜôÂÖ•key‰ª•ÂèäËØ•WidgetÈúÄË¶ÅÁöÑÊï∞ÊçÆ„ÄÇÁÑ∂ÂêéÈáçÂÜôcreateState()ÊñπÊ≥ï„ÄÇ MyHomePageStateÂ¶ÇÊûú‰∏Ä‰∏™Á±ªÁªßÊâøËá™StatefulWIdgetÔºåÈÇ£‰πà‰∏ÄÂÆö‰ºöÊúâ‰∏Ä‰∏™‰ªñÁöÑStateÁ±ªÂπ∂ÁªßÊâøËá™State&lt;ËØ•Á±ª&gt;ÔºåÂ∞±ÂÉèclass _MyHomePageState extends State&lt;MyHomePage&gt;‰∏ÄÊ†∑„ÄÇ ÈÇ£Êàë‰ª¨Êù•ÁúãÁúãStateÁ±ªÈáåÈù¢Êúâ‰∫õÂï•‰∏úË•ø: È¶ñÂÖàÂÖàÂÆö‰πâ‚ÄúÁä∂ÊÄÅ‚ÄùÔºöÁî±‰∫éÊàë‰ª¨Ëøô‰∏™APP‰∏ªË¶ÅÁöÑÂäüËÉΩÊòØÁî®Êù•ËÆ°Êï∞ÔºåÊâÄ‰ª•ÂøÖÈ°ªÂÆö‰πâ‰∏Ä‰∏™intÂûãÂèòÈáèÊù•ËÆ°Êï∞Ôºö1int _counter = 0; Êé•ÁùÄÂ¶ÇÊûúÊàë‰ª¨Ëøô‰∏™_counterÂèòÈáèÂèò‰∫ÜÔºåÈÇ£Â∞±ÂæóÈÄöÁü•flutterËØ¥Áä∂ÊÄÅÂèò‰∫ÜÔºåÈúÄË¶ÅÊõ¥Êñ∞UIÔºö12345void _incrementCounter() &#123; setState(() &#123; _counter++; &#125;);&#125; ÂÖ∂‰∏≠ÔºåsetState()ÊñπÊ≥ïÂ∞±ÊòØÁî®Êù•ÈÄöÁü•FlutterËøô‰∏™Áä∂ÊÄÅÊîπÂèò‰∫ÜÔºåË¶ÅÂéªÊõ¥Êñ∞UIÁöÑ„ÄÇ ÊúÄÂêéÈáçÂÜôbuild()ÊñπÊ≥ïÊù•ÂÜôÂÖ•ÁïåÈù¢Ôºö ScaffoldÊòØ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÂÆÉÊèê‰æõ‰∫ÜÈªòËÆ§ÁöÑÂØºËà™Ê†è„ÄÅÊ†áÈ¢òÂíåÂåÖÂê´‰∏ªÂ±èÂπïwidgetÊ†ëÔºàÂêéÂêå‚ÄúÁªÑ‰ª∂Ê†ë‚ÄùÊàñ‚ÄúÈÉ®‰ª∂Ê†ë‚ÄùÔºâÁöÑbodyÂ±ûÊÄß„ÄÇ bodyÂêéÈù¢ÊòØ‰∏Ä‰∏™CenterÁªÑ‰ª∂ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂÆÉÁöÑÂ≠êWidgetÂÆö‰ΩçÂà∞Áà∂WidgetÁöÑ‰∏≠Èó¥„ÄÇ CenterÂêéÈù¢ÊòØ‰∏Ä‰∏™ColumnÁªÑ‰ª∂ÔºåËøô‰∏™ÁªÑ‰ª∂Á±ª‰ºº‰∫éAndroid‰∏≠ÁöÑLinearLayoutÁöÑorientation: VerticalÔºå‰πüÂ∞±ÊòØÂûÇÁõ¥ÂêëÁöÑÁ∫øÊÄßÂ∏ÉÂ±Ä„ÄÇÂêåÊó∂Flutter‰πüÊèê‰æõ‰∫ÜRowËøô‰∏™Ê∞¥Âπ≥ÂêëÁöÑÁ∫øÊÄßÂ∏ÉÂ±Ä„ÄÇ‰ªñ‰ª¨ÁöÑÂ≠êWidgetÊòØchildrenÂ±ûÊÄßÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÂÜôÂ§ö‰∏™Widget„ÄÇ ColumnÈáåÈù¢ÊòØ‰∏§‰∏™TextÔºåËøô‰∏™Ê≤°Âï•ËÆ≤ÁöÑ Êé•‰∏ãÊù•ÊòØ‰∏Ä‰∏™FloatingActionButtonÔºåËøôÂ∞±ÊòØ‰∏Ä‰∏™ÊµÆÂä®ÊåâÈíÆÔºåAndroidÈáåÈù¢ÊúâËøô‰∏™Êéß‰ª∂ÔºåÊ†∏ÂøÉÊòØ‰ªñÁöÑonPressedÂ±ûÊÄßÔºåËøô‰∏™Â∞±Áõ∏ÂΩì‰∫éonClick()ÔºåÁî®‰∫éÂ§ÑÁêÜÁÇπÂáª‰∫ã‰ª∂„ÄÇ ‰ΩìÈ™åÁÉ≠ÈáçÂêØÈ¶ñÂÖàÂÖàËÆ©È°πÁõÆÂú®ËôöÊãüÊú∫ÊàñËÄÖÊâãÊú∫‰∏äËøêË°åÁùÄÔºåÁÑ∂ÂêéÊàë‰ª¨ÊääÈ°µÈù¢Text‰∏≠ÁöÑ‚ÄùYou have pushed the button this many times:‚ÄùÊîπ‰∏∫‚ÄùYou have clicked the button this many times:‚ÄùÔºåÁÑ∂ÂêéÊåâÁÉ≠ÈáçÂêØÈîÆÔºàmacOSÁâàAndroidStudioÈªòËÆ§ÊòØcommond+sÈîÆÔºâÔºåÊé•ÁùÄ‰Ω†Â∞±ËÉΩÈáåÈù¢Âú®ËôöÊãüÊú∫ÊàñËÄÖÊâãÊú∫‰∏äÁúãÂà∞‰øÆÊîπ‰πãÂêéÁöÑÁªìÊûú„ÄÇ]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FlutterÂÖ•Èó®Âπ∂ÂºÄÂèëÂ§©Ê∞îÈ¢ÑÊä•APP(1)‚Äî‚ÄîFlutterÂÆâË£Ö]]></title>
    <url>%2Fposts%2F4bf666bf.html</url>
    <content type="text"><![CDATA[FlutterÊòØ‰ªÄ‰πàFlutterÊòØÁî±Ë∞∑Ê≠åÊé®Âá∫ÁöÑ‰∏Ä‰∏™ÁßªÂä®UIÊ°ÜÊû∂ÔºåÂèØ‰ª•ËÆ©ÂºÄÂèëËÄÖÂø´ÈÄüÁöÑÂú®AndroidÂíåiOS‰∏äÊûÑÂª∫È´òË¥®ÈáèÁöÑÂéüÁîüÁî®Êà∑ÁïåÈù¢„ÄÇ ÈÄöËøáÂÆÉÊù•ÁºñÂÜôAPPÁöÑÂ•ΩÂ§ÑÂú®‰∫éÔºö ÂÆÉÂÜÖÁΩÆ‰∫ÜAndroidÁöÑMaterial DesignÈ£éÊ†ºÂíåiOSÁöÑCupertinoÈ£éÊ†ºÁöÑUIÔºõ ÂÆÉÈÄöËøáDartËØ≠Ë®ÄÁºñÂÜôÔºåÂè™ÈúÄË¶ÅÁºñÂÜô‰∏Ä‰ªΩ‰ª£Á†ÅÂ∞±ËÉΩÂú®AndroidÂíåiOSËÆæÂ§á‰∏äÂæóÂà∞ÂêåÊ†∑ÁöÑËøêË°åÊïàÊûúÔºõ ‰ªñÊúâÁÉ≠ÈáçËΩΩÂäüËÉΩÔºåÂè™ÈúÄË¶ÅËøêË°åAPPÂêéÔºå‰ª£Á†ÅÊõ¥Êîπ‰∏ÄÁÇπÁÑ∂ÂêéÁÇπÂáªÁÉ≠ÈáçËΩΩÈîÆÂ∞±ËÉΩÂø´ÈÄüÊòæÁ§∫Âá∫‰øÆÊîπÂêéÁöÑÁïåÈù¢„ÄÇ ‰ΩøÁî®ÈïúÂÉèÂÆâË£ÖÁî±‰∫é‰∏Ä‰∫õ‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÔºåFlutterÂú®ÂõΩÂÜÖËÆøÈóÆÊúâÊó∂ÂÄô‰ºöÂèóÂà∞ÈôêÂà∂ÔºåÂõ†Ê≠§FlutterÂÆòÊñπ‰∏∫ÂõΩÂÜÖÂºÄÂèëËÄÖÊê≠Âª∫‰∫Ü‰∏¥Êó∂ÈïúÂÉèÔºåÂ§ßÂÆ∂ÂèØ‰ª•Â∞Ü‰∏ãÈù¢ÁöÑÁéØÂ¢ÉÂèòÈáèÊ∑ªÂä†Âà∞Á≥ªÁªü‰∏≠Ôºö12export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn Áî±‰∫éÊàëÁî®ÁöÑÊòØmacOSÔºåÂõ†Ê≠§ÊàëÂ∞±Âè™ÊºîÁ§∫macOSÁöÑ„ÄÇÂ¶ÇÊûúÊúâLinuxÁöÑÁî®Êà∑ÂàôÂíåmacOS ÁöÑÂÆâË£ÖÊñπÂºèÁ±ª‰ººÔºåÁîöËá≥ÂèØ‰ª•ËØ¥‰∏ÄÊ†∑Ôºõ‰ΩÜÊòØÂØπ‰∫éWindowsÁî®‰∫éÔºåÈúÄË¶ÅÂ§ßÂÆ∂Ê°åÈù¢Âè≥ÈîÆÊ≠§ÁîµËÑë-&gt;Â±ûÊÄß-&gt;ÂºπÂá∫È°µÈù¢Â∑¶‰æßÊ†èÁöÑÈ´òÁ∫ßÁ≥ªÁªüËÆæÁΩÆ-&gt;ÁéØÂ¢ÉÂèòÈáèÔºåÂú®‰∏ãÈù¢ÁöÑÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáèÊ†è‰∏≠ÁÇπÂáªÊñ∞Âª∫ÔºåÂèòÈáèÂêçËæìÂÖ•‰∏äÈù¢Á≠âÂè∑Â∑¶ËæπÁöÑÂ§ßÂÜôÂÜÖÂÆπÔºå‰∏çË¶ÅexportÔºåÂÄºËæìÂÖ•Á≠âÂè∑Âè≥ËæπÁöÑÂÜÖÂÆπÔºåËæìÂÖ•‰∏ÄÁªÑ‰πãÂêéÂÜçÁÇπÂáªÊñ∞Âª∫Êé•ÁùÄËæìÂÖ•‰∏ã‰∏ÄÁªÑ„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨ÂºÄÂßãËØ¥macOS„ÄÇ È¶ñÂÖà‰Ω†ÂæóÁ°ÆÂÆö‰Ω†Áî®ÁöÑÊòØ‰ªÄ‰πàshellÂ¶ÇÊûú‰Ω†Ê≤°Êõ¥ÊîπËøá‰Ω†macOSÁªàÁ´ØËÆæÁΩÆÔºåÈÇ£‰πà‰Ω†ÈªòËÆ§Â∞±ÊòØbashÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Êõ¥ÊîπËøáÔºåÊØîÊñπËØ¥ÊàëÂ∞±Êç¢Êàê‰∫ÜzshÔºåÈÇ£‰πàÊàëËßâÂæó‰Ω†Â∫îËØ•Áü•ÈÅìÂú®Âì™ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè„ÄÇ Â¶ÇÊûú‰Ω†ÊòØbashÈ¶ñÂÖàÊâìÂºÄ‰Ω†macOSÁöÑÁªàÁ´ØÔºåÂú®ÂêØÂä®Âè∞ÈáåÈù¢ÂèØ‰ª•ÊâæÂà∞ÔºåÊé•ÁùÄÂØπbashÁöÑÁéØÂ¢ÉÂèòÈáèËøõË°åËÆæÁΩÆÔºåËæìÂÖ•1vim ~/.bash_profile ÂõûËΩ¶ÔºåËøõÂÖ•.bash_profileÊñá‰ª∂ÁöÑÁºñËæëÈ°µÈù¢ÔºåÁÑ∂ÂêéÊåâ‰∏ãÈîÆÁõòIÈîÆÔºåËøõÂÖ•vimÁöÑÁºñËæëÊ®°ÂºèÔºåÁÑ∂ÂêéÁõ¥Êé•Êää‰∏äÈù¢ÁöÑexportÁéØÂ¢ÉÂèòÈáèËµãÂÄºÁ≤òË¥¥ËøõÂéª„ÄÇÁÑ∂ÂêéÊåâ‰∏ãEscÈîÆÈÄÄÂá∫vimÁöÑÁºñËæëÊ®°ÂºèÔºåÁÑ∂ÂêéÁõ¥Êé•ËæìÂÖ•:wqÂõûËΩ¶‰øùÂ≠òÂπ∂ÈÄÄÂá∫„ÄÇÊé•ÁùÄËæìÂÖ•1source ~/.bash_profile ËÆ©ÂàöÂàöÈÖçÁΩÆÁöÑÁéØÂ¢ÉÂèòÈáèÁîüÊïàÂç≥ÂèØ„ÄÇ Â¶ÇÊûú‰Ω†ÊòØzshÈ¶ñÂÖàÊâìÂºÄ‰Ω†macOSÁöÑÁªàÁ´ØÔºåÂú®ÂêØÂä®Âè∞ÈáåÈù¢ÂèØ‰ª•ÊâæÂà∞ÔºåÊé•ÁùÄÂØπzshÁöÑÁéØÂ¢ÉÂèòÈáèËøõË°åËÆæÁΩÆÔºåËæìÂÖ•1vim ~/.zshrc ÂõûËΩ¶ÔºåËøõÂÖ•.zshrcÊñá‰ª∂ÁöÑÁºñËæëÈ°µÈù¢ÔºåÊâæÂà∞Â¶ÇÂõæÊâÄÁ§∫ÈÉ®ÂàÜÔºàÈáçÁÇπÂú®‰∫éÊúâ# export MANPATH=&quot;/Usrs/......ÁöÑÂú∞ÊñπÔºåÂõ†‰∏∫ÊàëËøòÊúâÂÖ∂ÂÆÉÁöÑÁéØÂ¢ÉÂèòÈáèÔºåÊâÄ‰ª•‰Ω†ÁöÑÂèØËÉΩÂíåÊàëÁöÑ‰∏çÂêåÔºâÔºö Âú®# export‰∏ãÈù¢ÔºåÊåâ‰∏ãÈîÆÁõòIÈîÆÔºåËøõÂÖ•vimÁöÑÁºñËæëÊ®°ÂºèÔºåÁÑ∂ÂêéÁõ¥Êé•Êää‰∏äÈù¢ÁöÑexportÁéØÂ¢ÉÂèòÈáèËµãÂÄºÁ≤òË¥¥ËøõÂéª„ÄÇËßÅÊàëÂõæ‰∏≠ÊúÄ‰∏ãÈù¢Ê†áÁ∫¢ÁöÑÈÇ£Âú∞ÊñπÔºåËá≥‰∫éÊúÄÂêé‰∏ÄË°åexport PATH=~/development/flutter/bin:$PATHÂÖà‰∏çÁÆ°„ÄÇÁÑ∂ÂêéÊåâ‰∏ãEscÈîÆÈÄÄÂá∫vimÁöÑÁºñËæëÊ®°ÂºèÔºåÁÑ∂ÂêéÁõ¥Êé•ËæìÂÖ•:wqÂõûËΩ¶‰øùÂ≠òÂπ∂ÈÄÄÂá∫„ÄÇÊé•ÁùÄËæìÂÖ•1source ~/.zshrc ËÆ©ÂàöÂàöÈÖçÁΩÆÁöÑÁéØÂ¢ÉÂèòÈáèÁîüÊïàÂç≥ÂèØ„ÄÇ ‰∏ãËΩΩFlutter SDKÂÖàÂéªFlutterÁöÑÂÆòÁΩëÂéª‰∏ãËΩΩ‰Ω†ÂØπÂ∫îÁ≥ªÁªüÁöÑFlutter SDK ÊâìÂºÄÂÆòÁΩë‰∏ãËΩΩÈ°µÔºöFlutter SDK release ÈÄâÊã©‰Ω†ÁöÑÁ≥ªÁªüÂØπÂ∫îÁöÑÁõÆÂΩïÔºåÁÑ∂ÂêéÈªòËÆ§ÈÄâÊã©Stable channel‰∏ãËΩΩ„ÄÇ(*Master channelËøô‰∏™ÊòØÁõ¥Êé•‰ªégithubËé∑ÂèñÁöÑgithub‰∏äÁöÑÊúÄÊñ∞ÁâàÔºå‰πüÂ∞±ÊòØËØ¥FlutterÁöÑÂºÄÂèëËÄÖ‰ªñÂÜô‰∫ÜÁÇπ‰ªÄ‰πàÊîπ‰∫ÜÁÇπ‰ªÄ‰πàÈÉΩ‰ºöÈáåÈù¢Âú®Ëøô‰∏™ÁâàÊú¨‰∏äÊòæÁ§∫Âá∫Êù•ÔºåÊâÄ‰ª•Ëøô‰∏™ÁâàÊú¨ÊÑèÂë≥ÁùÄÈùûÂ∏∏‰∏çÁ®≥ÂÆöÔºåÂèØËÉΩbugÂæàÂ§öÔºõDev channelÊòØÂºÄÂèëÁâàÔºåMaster channelÁªèËøá‰∏ÄÂÆöÊµãËØï‰πãÂêéÁöÑÁâàÊú¨‰ºöÂèëÂ∏ÉÂà∞Dev channel‰∏äÔºå‰ΩÜÊòØ‰∏çÊòØÂ§ßÈáèÁöÑÊµãËØïÔºåÊâÄ‰ª•ÂèØËÉΩËøòÊòØ‰∏çÂ§™Á®≥ÂÆöÔºõBeta channelÊòØÊµãËØïÁâàÔºåÊØèÊúàÂèëÂ∏É‰∏ÄÊ¨°Ôºå‰ºöÊää‰∏ä‰∏™ÊúàÊâÄÈáäÊîæÁöÑÊâÄÊúâDev channel‰∏≠ÊúÄÁ®≥ÂÆöÁöÑÁâàÊú¨ÈáäÊîæÂà∞Beta channel‰∏äÔºå‰ΩÜÊòØÁõ∏ÂØπÊù•ËØ¥ËøòÊòØÊúâÁÇπ‰∏çÁ®≥ÂÆöÔºåÈÄÇÂêàÊÉ≥Â∞ùÈ≤úÁöÑÂºÄÂèëËÄÖÔºõState channelÊòØÊ†áÂáÜÁâàÔºåÂΩìFlutterÁª¥Êä§‰∫∫ÂëòËÆ§‰∏∫Êüê‰∏™ÁâàÊú¨Ë∂≥Â§üÁ®≥ÂÆö‰πãÂêéÔºåÂ∞±‰ºöÂèëÈÄÅÂà∞Ëøô‰∏™ÁâàÊú¨‰∏äÂéªÔºå‰∏ÄËà¨ÂºÄÂèëËÄÖÊúÄÂ•ΩËøòÊòØ‰ΩøÁî®Ëøô‰∏™ÁâàÊú¨) Ëß£ÂéãÂÆâË£ÖÂåÖÂà∞‰Ω†ÊÉ≥Ë¶ÅÁöÑÁõÆÂΩï‰æãÂ¶Ç123// Linux/macOScd ~/developmentunzip ~/Downloads/flutter_macos_v0.5.1-beta.zip Ê∑ªÂä†FluuterË∑ØÂæÑÂà∞ÁéØÂ¢ÉÂèòÈáè‰∏≠ÂõûÈ°æÁ¨¨2È°πÔºåÊääÂ¶Ç‰∏ãÂÜÖÂÆπÊ∑ªÂä†Âà∞ÁéØÂ¢ÉÂèòÈáè‰∏≠Âéª1export PATH=/‰Ω†‰∏ä‰∏ÄÊ≠•flutterËß£ÂéãÁöÑÁõÆÂΩï/flutter/bin:$PATH ËøêË°åFlutter doctorÂ¶ÇÊûúÊòØmacOS/LinuxÔºåÁõ¥Êé•Âú®ÁªàÁ´Ø‰∏≠ËæìÂÖ•flutter doctorÂç≥ÂèØ„ÄÇÂ¶ÇÊûúÊòØWindowsÔºåÂàôÂè≥ÈîÆÂºÄÂßãÔºåÈÄâÊã©PowerShellÔºåÁÑ∂ÂêéËæìÂÖ•flutter doctorÂç≥ÂèØ„ÄÇ Ëøô‰∏™ÂëΩ‰ª§ÁöÑÂäüËÉΩÊòØÊ£ÄÊü•‰Ω†ÁöÑFlutterÊòØÂê¶Ê≠£Â∏∏ÂÆâË£Ö„ÄÇ Â¶ÇÊûúÊ≠£Â∏∏ÂÆâË£ÖÁöÑËØù‰ºöÂá∫Áé∞Â¶Ç‰∏ã‰ø°ÊÅØÔºö1234567891011121314151617181920212223242526Doctor summary (to see all details, run flutter doctor -v):[‚úì] Flutter (Channel stable, v1.9.1+hotfix.4, on Mac OS X 10.13.6 17G65, locale zh-Hans-CN) [‚úì] Android toolchain - develop for Android devices (Android SDK version 29.0.1)[‚úó] Xcode - develop for iOS and macOS ‚úó Xcode installation is incomplete; a full installation is necessary for iOS development. Download at: https://developer.apple.com/xcode/download/ Or install Xcode via the App Store. Once installed, run: sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer ‚úó CocoaPods not installed. CocoaPods is used to retrieve the iOS and macOS platform side's plugin code that responds to your plugin usage on the Dart side. Without CocoaPods, plugins will not work on iOS or macOS. For more info, see https://flutter.dev/platform-plugins To install: sudo gem install cocoapods pod setup[‚úì] Android Studio (version 3.5)[!] IntelliJ IDEA Community Edition (version 2019.2.3) ‚úó Flutter plugin not installed; this adds Flutter specific functionality. ‚úó Dart plugin not installed; this adds Dart specific functionality.[‚úì] VS Code (version 1.38.1)[‚úì] Connected device (1 available)! Doctor found issues in 2 categories. ÊàëÁöÑÁîµËÑëËøêË°å‰πãÂêé‰ºöÂá∫Áé∞‰∏§‰∏™ÈîôËØØÔºåÂõ†‰∏∫Flutter doctor‰ºöËá™Âä®Ê£ÄÊü•ÁîµËÑë‰∏≠ÊâÄÊúâËÉΩËøêË°åFlutterÁöÑÁºñËæëÂô®ÊàñËÄÖIDEÔºåÁÑ∂ÂêéÂà§Êñ≠‰ªñ‰ª¨ÈÖçÊ≤°ÈÖçÁΩÆFlutter„ÄÇÊàëÁöÑÁîµËÑëÊòØÂõ†‰∏∫Ê≤°ÊúâÂÆâË£ÖXcode‰ª•ÂèäÊàëÊ≤°ÊúâÂú®IDEA‰∏≠ÈÖçÁΩÆFlutterÔºåÊâÄ‰ª•ÊàëËøô‰∏§È°πÂá∫Èîô„ÄÇ ÂÖ∂ÂÆû‰Ω†Âè™Ë¶Å‰øùËØÅÈô§‰∫ÜIDE‰πãÂ§ñÁöÑÈ°πÁõÆÈÉΩÊòØÊ≠£Â∏∏ÁöÑÂ∞±Ë°å‰∫ÜÔºåÂ¶ÇÊûúÊúâÈîôÁöÑËØùÁõ¥Êé•ÊääÊä•Èîô‰ø°ÊÅØÊîæÂà∞ÁôæÂ∫¶ÈáåÈù¢ËøõË°åÊêúÁ¥¢Â∞±ÂèØ‰ª•‰∫Ü„ÄÇËá≥‰∫éIDEÈ°πÁõÆÔºåÂ¶ÇÊûú‰Ω†ÊòØiOSÂºÄÂèëËÄÖÔºåÂàô‰øùËØÅXcodeÊàñËÄÖÊòØAppCodeÂï•ÁöÑÂâçÈù¢ÊòØ‚úîÔ∏èÂ∞±Ë°å‰∫ÜÁöÑÔºåËá≥‰∫é‰Ω†ÁîµËÑë‰∏äÁöÑÂÖ∂ÂÆÉ‰æãÂ¶ÇIDEAÊàñËÄÖvscodeÂï•ÁöÑÂèØ‰ª•‰∏çÁî®ÁÆ°ÔºõÂ¶ÇÊûú‰Ω†ÊòØAndroidÂºÄÂèëËÄÖÔºåÂàô‰øùËØÅ‰Ω†Â∏∏Áî®ÁöÑIDEÂ¶ÇAndroid StudioÂâçÈù¢ÊòØ‚úîÔ∏èÂ∞±Ë°å‰∫ÜÁöÑÔºåËá≥‰∫é‰Ω†ÁîµËÑë‰∏äÁöÑÂÖ∂ÂÆÉ‰æãÂ¶ÇIDEAÊàñËÄÖvscodeÂï•ÁöÑÂèØ‰ª•‰∏çÁî®ÁÆ°„ÄÇ ÊÄªËÄåË®Ä‰πãÔºåÁ°Æ‰øùÈô§‰∫ÜIDE‰πãÂ§ñÁöÑÂÖ∂ÂÆÉÈ°πÂâçÈù¢ÊòØÂØπÂãæÔºåÁÑ∂ÂêéÁ°ÆÂÆö‰∏Ä‰∏™‰Ω†Â∏∏Áî®ÁöÑÂÜô‰ª£Á†ÅÁöÑÂ∑•ÂÖ∑ÂâçÈù¢ÊúâÂØπÂãæÂ∞±Ë°å‰∫ÜÔºåÂ¶ÇÊûú‰Ω†Èô§‰∫ÜIDE‰πãÂ§ñÁöÑÂÖ∂ÂÆÉÈ°πÊúâÈóÆÈ¢òÔºåÂ∞±ÊääÈîôËØØ‰ø°ÊÅØÁõ¥Êé•ÁôæÂ∫¶ÔºõÂ¶ÇÊûúÊòØ‰Ω†Â∏∏Áî®ÁöÑIDEÂâçÈù¢Ê≤°ÂØπÂãæÔºåÈÇ£Â∞±ÁôæÂ∫¶‰Ω†Â∏∏Áî®ÁöÑIDE+FlutterÊù•ÂèÇËÄÉÂà´‰∫∫ÁöÑÈÖçÁΩÆÊïôÁ®ã„ÄÇ Áî±‰∫éÊàëÊ≤°ÊúâÁî®ËøáxcodeÊâÄ‰ª•Â∞±‰∏çËÆ≤xcodeÂ¶Ç‰ΩïÈÖçÁΩÆFlutter‰∫ÜÔºåÂ∞±ÂàÜÂà´ËÆ≤Â¶Ç‰ΩïÂú®AndroidStudioÂíåvscodeÈÖçÁΩÆFlutter„ÄÇ Android StudioÈÖçÁΩÆFlutter ÊâìÂºÄ‰Ω†Android StudioÁöÑËÆæÁΩÆ/È¶ñÈÄâÈ°π/PreferencesÔºåÁÑ∂ÂêéÈÄâÊã©PluginsÔºåÂú®MarketplaceÈáåÈù¢ÊêúÁ¥¢FlutterÔºö Êé•ÁùÄÁÇπÂáªINSTALLÂÆâË£ÖÂ∞±Ë°å‰∫ÜÔºåÂπ∂‰∏îÂÆâË£ÖFlutterÊèí‰ª∂‰ºöËá™Âä®È°∫Â∏¶ÂÆâË£ÖDartÊèí‰ª∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂÆâË£ÖDartÊèí‰ª∂Ôºå‰Ω†Â∞±‰∏ÄÊ†∑ÁöÑÊêúÁ¥¢DartÁÑ∂ÂêéÂÆâË£ÖÂç≥ÂèØÔºõ ÂÆâË£ÖÂÆåÊàêÂπ∂ÈáçÂêØAndroid Studio‰πãÂêéÔºå‰ªçÁÑ∂ÊâìÂºÄËÆæÁΩÆ/È¶ñÈÄâÈ°π/PreferencesÔºåÈÄâÊã©Languages &amp; Frameworks-&gt;FlutterÔºåÂú®ÊúÄ‰∏äÈù¢ÁöÑSDK‰∏≠ÁöÑFlutter SDK pathÈÄâÊã©‰Ω†Á¨¨‰∏âÊ≠•Flutter SDKËß£ÂéãÁº©ÁöÑË∑ØÂæÑÔºå‰∏çÂá∫ÊÑèÂ§ñÁöÑËØù‰∏ãÈù¢Version‰ºöËá™Âä®ÊòæÁ§∫‰Ω†Flutter SDKÁöÑÁâàÊú¨ÔºåÂπ∂‰∏îLanguages &amp; Frameworks-&gt;DartÈáåÈù¢ÁöÑDart SDK path‰πü‰ºöËá™Âä®Âá∫Áé∞„ÄÇ Êé•ÁùÄÂíå‰πãÂâç‰∏ÄÊ†∑ËøêË°åflutter doctor,ÁúãÁúãAndroid StudioÂâçÈù¢ÊúâÊ≤°Êúâ‚úîÔ∏èÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊòØ‰ºöÊúâÁöÑ„ÄÇ vscode ÈÖçÁΩÆFlutter Âú®vscodeÊãìÂ±ïÈáåÈù¢ÊêúÁ¥¢FlutterÂíåDartÔºåÂÆâË£ÖÔºõ Êé•ÁùÄÂíå‰πãÂâç‰∏ÄÊ†∑ËøêË°åflutter doctor,ÁúãÁúãvscodeÂâçÈù¢ÊúâÊ≤°Êúâ‚úîÔ∏èÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊòØ‰ºöÊúâÁöÑ„ÄÇ]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªü6--Ê≠ªÈîÅ]]></title>
    <url>%2Fposts%2F68dc89d4.html</url>
    <content type="text"><![CDATA[6.1 Ê≠ªÈîÅÁöÑÂºïÂÖ•Âú®‰πãÂâçÊàë‰ª¨ÊàñÂ§öÊàñÂ∞ëÈÉΩÊ∂âÂèäÂà∞‰∫ÜÊ≠ªÈîÅÔºåÊúÄÁõ¥Êé•ÁöÑ‰æãÂ≠êÂ∞±ÊòØÂì≤Â≠¶ÂÆ∂Â∞±È§êÁ≠∑Â≠êÔºåÂ¶ÇÊûúÊØè‰∏Ä‰∏™Âì≤Â≠¶ÂÆ∂ÈÉΩÊãøËµ∑‰∫Ü‰ªñÁöÑÂè≥ÊâãÁöÑÁ≠∑Â≠êÔºåÁé∞Âú®ÈÉΩÂú®Á≠âÂ∑¶ËæπÁöÑÁ≠∑Â≠ê„ÄÇËøôÊ†∑‰∏ÄÁõ¥Áªï‰∏ãÂéªÔºå‰ªéËÄå‰∫ßÁîü‰∫ÜÊ≠ªÈîÅ„ÄÇ 6.1.1 ËµÑÊ∫êÈóÆÈ¢òÂú®Á≥ªÁªü‰∏≠Â≠òÂú®ÁùÄÂæàÂ§ö‰∏çÂêåÁ±ªÂûãÁöÑËµÑÊ∫êÔºåÂÖ∂‰∏≠ÂèØ‰ª•ÂºïËµ∑ÁöÑÊ≠ªÈîÅÁöÑ‰∏ªË¶ÅÊòØÈúÄË¶ÅÈááÁî®‰∫íÊñ•ËÆøÈóÆÊñπÊ≥ïÁöÑ„ÄÅ‰∏çÂèØ‰ª•Ë¢´Êä¢Âç†ÁöÑËµÑÊ∫ê„ÄÅ 6.1.1.1 ÂèØÈáçÁî®ÊÄßËµÑÊ∫êÂíåÊ∂àËÄóÊÄßËµÑÊ∫êÂèØÈáçÁî®ÊÄßËµÑÊ∫êÂèØÈáçÁî®ÊÄßËµÑÊ∫êÊòØ‰∏ÄÁßçÂèØ‰æõÁî®Êà∑ÈáçÂ§ç‰ΩøÁî®Â§öÊ¨°ÁöÑËµÑÊ∫êÔºåÂÆÉÂÖ∑Êúâ‰ª•‰∏ãÊÄßË¥®Ôºö ÊØè‰∏Ä‰∏™ÂèØÈáçÁî®ÊÄßËµÑÊ∫ê‰∏≠ÁöÑÂçï‰ΩçÂè™ËÉΩÂàÜÈÖçÁªô‰∏Ä‰∏™ËøõÁ®ã‰ΩøÁî®Ôºå‰∏çÂÖÅËÆ∏Â§ö‰∏™ËøõÁ®ãÂÖ±‰∫´ ËøõÁ®ãÂú®‰ΩøÁî®ÂèØÈáçÁî®ÊÄßËµÑÊ∫êÊó∂ÔºåÈ°ªÊåâÁÖßËøôÊ†∑ÁöÑÈ°∫Â∫èÔºöËØ∑Ê±ÇËµÑÊ∫ê -&gt; ‰ΩøÁî®ËµÑÊ∫ê -&gt; ÈáäÊîæËµÑÊ∫ê Á≥ªÁªü‰∏≠ÊØè‰∏ÄÁ±ªÂèØÈáçÁî®ÊÄßËµÑÊ∫ê‰∏≠ÁöÑÂçïÂÖÉÊï∞ÁõÆÊòØÁõ∏ÂØπÂõ∫ÂÆöÁöÑÔºåËøõÁ®ãÂú®ËøêË°åÊúüÈó¥Êó¢‰∏çËÉΩÂàõÂª∫‰πü‰∏çËÉΩÂà†Èô§ÂÆÉ ÂèØÊ∂àËÄóÊÄßËµÑÊ∫êÂèØÊ∂àËÄóÊÄßËµÑÊ∫êÂèàÁß∞‰∏∫‰∏¥Êó∂ÊÄßËµÑÊ∫êÔºåÂÆÉÊòØÂú®ËøõÁ®ãËøêË°åÊúüÈó¥ÔºåÁî±ËøõÁ®ãÂä®ÊÄÅÁöÑÂàõÂª∫ÂíåÊ∂àËÄóÁöÑÔºåÂÆÉÂÖ∑Êúâ‰ª•‰∏ãÊÄßË¥®Ôºö ÊØè‰∏ÄÁ±ªÂèØÊ∂àËÄóÊÄßËµÑÊ∫êÁöÑÂçïÂÖÉÊï∞ÁõÆÂú®ËøõÁ®ãËøêË°åÊúüÈó¥ÊòØÂèØ‰ª•‰∏çÊñ≠ÂèòÂåñÁöÑÔºåÊúâÊó∂ÂÆÉÂèØ‰ª•ÊúâÂæàÂ§öÔºåÊúâÊó∂ÂèØËÉΩ‰∏∫0 ËøõÁ®ãÂú®ËøêË°åËøáÁ®ã‰∏≠ÔºåÂèØ‰ª•‰∏çÊñ≠Âú∞ÂàõÈÄ†ÂèØÊ∂àËÄóÊÄßËµÑÊ∫êÁöÑÂçïÂÖÉÔºåÂ∞ÜÂÆÉ‰ª¨ÊîæÂÖ•ËØ•ËµÑÊ∫êÁ±ªÁöÑÁºìÂÜ≤Âå∫‰∏≠Ôºå‰ª•Â¢ûÂä†ËØ•ËµÑÊ∫êÁ±ªÁöÑÂçïÂÖÉÊï∞ÁõÆ ËøõÁ®ãÂú®ËøêË°åËøáÁ®ã‰∏≠ÔºåÂèØ‰ª•ËØ∑Ê±ÇËã•Âπ≤‰∏™ÂèØÊ∂àËÄóÊÄßËµÑÊ∫êÂçïÂÖÉÔºåÁî®‰∫éËøõÁ®ãËá™Â∑±ÁöÑÊ∂àËÄóÔºå‰∏çÂÜçÂ∞ÜÂÆÉ‰ª¨ËøîÂõûÁªôËØ•ËµÑÊ∫êÁ±ª‰∏≠ 6.1.1.2 ÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÂíå‰∏çÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÂèØÊääÁ≥ªÁªü‰∏≠ÁöÑËµÑÊ∫êÂàÜ‰∏∫‰∏§Á±ªÔºå‰∏ÄÁ±ªÊòØÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÔºåÊòØÊåáÊüêËøõÁ®ãÂú®Ëé∑ÂæóËøôÁ±ªËµÑÊ∫êÂêéÔºåËØ•ËµÑÊ∫êÂèØ‰ª•ÂÜçË¢´ÂÖ∂ÂÆÉËøõÁ®ãÊàñÁ≥ªÁªüÊä¢Âç† ‰∏çÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÂè¶‰∏ÄÁ±ªËµÑÊ∫êÊòØ‰∏çÂèØÊä¢Âç†ËµÑÊ∫êÔºå‰∏ÄÊó¶Á≥ªÁªüÊääÊüêËµÑÊ∫êÂàÜÈÖçÁªôËØ•ËøõÁ®ã‰πãÂêéÔºåÂ∞±‰∏çËÉΩÂ∞ÜÂÆÉÂº∫Ë°åÂõûÊî∂ÔºåÂè™ËÉΩÂú®ËøõÁ®ãÁî®ÂÆåÂêéËá™Ë°åÈáäÊîæ 6.1.2 Ê≠ªÈîÅÁöÑËµ∑Âõ†6.1.2.1 Á´û‰∫â‰∏çÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÂºïËµ∑ÁöÑÊ≠ªÈîÅÈÄöÂ∏∏Á≥ªÁªü‰∏≠ÊâÄÊã•ÊúâÁöÑ‰∏çÂèØÊä¢Âç†ÊÄßËµÑÊ∫êÂÖ∂Êï∞Èáè‰∏çË∂≥‰ª•Êª°Ë∂≥Â§ö‰∏™ËøõÁ®ãËøêË°åÁöÑÈúÄË¶ÅÔºå‰ΩøÂæóËøõÁ®ãÂú®ËøêË°åËøáÁ®ã‰∏≠Ôºå‰ºöÂõ†‰∫âÂ§∫ËµÑÊ∫êËÄåÈô∑ÂÖ•ÂÉµÂ±Ä„ÄÇ ‰∏Ä‰∏™ÂæàÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåËøõÁ®ã$P_1$Âíå$P_2$Âú®Âπ∂ÂèëÊâßË°åÔºå‰ªñ‰ª¨ÈÉΩË¶ÅÂÜô‰∏§‰∏™Êñá‰ª∂$F_1$Âíå$F_2$„ÄÇÂÖ∂‰∏≠$P_1$Âíå$P_2$ÁöÑ‰ª£Á†ÅÂàÜÂà´‰∏∫Ôºö123456789 P1 ....Open(f1, w);Open(f2, w); P2 ....Open(f2, w);Open(f1, w); Â¶ÇÊûúËøô‰∏§‰∏™ËøõÁ®ãÂú®Âπ∂ÂèëÊâßË°åÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú$P_1$ÂÖàÊâìÂºÄ$F_1$Âíå$F_2$ÔºåÁÑ∂Âêé$P_2$ÊâçÂéªÊâìÂºÄ$F_1$(Êàñ$F_2$)ÔºåÁî±‰∫éÊñá‰ª∂$F_1$(Êàñ$F_2$)Â∑≤ÁªèË¢´ÊâìÂºÄÔºåÂõ†Ê≠§$P_2$‰ºöË¢´ÈòªÂ°û„ÄÇÂΩì$P_1$‰ΩøÁî®ÂÆå$F_1$(Êàñ$F_2$)ÔºåËøôÊó∂$P_2$ÊâçÂèØ‰ª•ÂéªÊâìÂºÄ$F_1$(Êàñ$F_2$)ÔºåËøôÊ†∑Á®ãÂ∫èÁªßÁª≠ËøêË°å‰∏ãÂéª„ÄÇ ‰ΩÜÊòØÂ¶ÇÊûúÂú®$P_1$ÊâìÂºÄ$F_1$ÁöÑÂêåÊó∂Ôºå$P_2$ÂéªÊâìÂºÄ$F_2$ÔºåÊØè‰∏™ËøõÁ®ãÈÉΩÂç†Êúâ‰∏Ä‰∏™ÊâìÂºÄÁöÑÊñá‰ª∂ÔºåÊ≠§Êó∂Â∞±ÂèØËÉΩÂá∫Áé∞ÈóÆÈ¢ò„ÄÇÂõ†‰∏∫ÂΩì$P_1$ËØïÂõæÂéªÊâìÂºÄ$F_2$,ËÄå$F_2$ËØïÂõæÂéªÊâìÂºÄ$F_1$Êó∂ÔºåËøô‰∏§‰∏™ËøõÁ®ãÈÉΩ‰ºöÂõ†Êñá‰ª∂Â∑≤Ë¢´ÊâìÂºÄËÄåÈòªÂ°ûÔºåÂõ†Ê≠§Ëøô‰∏§‰∏™ËøõÁ®ãÂ∞Ü‰ºöÊó†ÈôêÊúüÂú∞Á≠âÂæÖ‰∏ãÂéªÔºå‰ªéËÄåÂΩ¢ÊàêÊ≠ªÈîÅ„ÄÇ 6.1.2.2 Á´û‰∫âÂèØÊ∂àËÄóËµÑÊ∫êÂºïËµ∑ÁöÑÊ≠ªÈîÅÂ¶ÇÂõæÊâÄÁ§∫Ôºå$m_1$„ÄÅ$m_3$„ÄÅ$m_3$ÊòØÂèØÊ∂àËÄóËµÑÊ∫ê„ÄÇËøõÁ®ã$P_1$‰∏ÄÊñπÈù¢‰∫ßÁîüÊ∂àÊÅØ$m_1$ÔºåÂà©Áî®send(p2,m1)Â∞ÜÂÆÉÂèëÈÄÅÁªô$P_2$ÔºåÂè¶‰∏ÄÊñπÈù¢ÔºåÊúâË¶ÅÊ±Ç‰ªé$P_3$Êé•ÂèóÊ∂àÊÅØ$m_2$ÔºõËÄå$P_2$„ÄÅ$P_3$‰æùÊ¨°Á±ªÊé®„ÄÇ Â¶ÇÊûú‰∏â‰∏™ËøõÁ®ãÊåâ‰ª•‰∏ãÈ°∫Â∫èËøõË°åÔºö123P1: ...send(p2, m1); receive(p3, m3);...P2: ...send(p3, m2); receive(p1, m1);...P3: ...send(p1, m3); receive(p2, m2);... Ëøô‰∏â‰∏™ËøõÁ®ãÈÉΩÂèØ‰ª•ÂÖàÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÁªô‰∏ã‰∏Ä‰∏™ËøõÁ®ãÔºåÁõ∏Â∫îÂú∞‰ªñ‰ª¨‰πüÈÉΩËÉΩÈÉΩÊé•Êî∂Âà∞‰ªé‰∏ä‰∏Ä‰∏™ËøõÁ®ãÂèëÊù•ÁöÑÊ∂àÊÅØÔºåÂõ†Ê≠§‰∏â‰∏™ËøõÁ®ãÈÉΩÂèØ‰ª•È°∫Âà©ÁöÑËøõË°å‰∏ãÂéªÔºå‰∏ç‰ºöÂèëÁîüÊ≠ªÈîÅ„ÄÇ ‰ΩÜÊòØÂ¶ÇÊûú‰∏â‰∏™ËøõÁ®ãÈÉΩÂÖàÊâßË°åreceiveÔºåÂú®ÊâßË°åsendÔºåÊåâ‰∏ãÈù¢ÁöÑÈ°∫Â∫èËøêË°åÔºö123P1: ...receive(p3, m3); send(p2, m1);...P2: ...receive(p1, m1); send(p3, m2);...P3: ...receive(p2, m2); send(p1, m3);... ÈÇ£‰πàËøô‰∏â‰∏™ËøõÁ®ãÂ∞±‰ºöÊ∞∏ËøúÈòªÂ°ûÂú®ÂÆÉ‰ª¨ÁöÑreceiveÊìç‰Ωú‰∏äÔºåÂ∞±‰ºö‰∫ßÁîüÊ≠ªÈîÅ„ÄÇ 6.2 Ê≠ªÈîÅÁöÑÂÆö‰πâ„ÄÅÂøÖË¶ÅÊù°‰ª∂ÂíåÂ§ÑÁêÜÊñπÊ≥ï6.2.1 Ê≠ªÈîÅÁöÑÂÆö‰πâÂ¶ÇÊûú‰∏ÄÁªÑËøõÁ®ã‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËøõÁ®ãÈÉΩÂú®Á≠âÂæÖ‰ªÖÁî±ËØ•ÁªÑËøõÁ®ã‰∏≠ÁöÑÂÖ∂ÂÆÉËøõÁ®ãÊâçËÉΩÂºïÂèëÁöÑ‰∫ã‰ª∂ÔºåÈÇ£‰πàËØ•ÁªÑËøõÁ®ãÊòØÊ≠ªÈîÅÁöÑ„ÄÇ 6.2.2 ‰∫ßÁîüÊ≠ªÈîÅÁöÑÂøÖË¶ÅÊù°‰ª∂‰∫ßÁîüÊ≠ªÈîÅÂøÖÈ°ªÂêåÊó∂ÂÖ∑Â§á‰∏ãÈù¢Âõõ‰∏™ÂøÖË¶ÅÊù°‰ª∂ÔºåÂè™Ë¶ÅÂÖ∂‰∏≠‰ªª‰∏Ä‰∏™Êù°‰ª∂‰∏çÊàêÁ´ãÔºåÊ≠ªÈîÅÂ∞±‰∏ç‰ºöÂèëÁîüÔºö ‰∫íÊñ•Êù°‰ª∂„ÄÇËøõÁ®ãÂØπÊâÄÂàÜÈÖçÁöÑËµÑÊ∫êËøõË°åÊéí‰ªñÊÄß‰ΩøÁî®„ÄÇÂç≥ËØ•ËµÑÊ∫êÂè™ÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ã‰ΩøÁî®ÔºåÂÖ∂‰ªñËøõÁ®ãÂ¶ÇÊûúËØ∑Ê±ÇËØ•ËµÑÊ∫êÂè™ËÉΩÁ≠âÂæÖ„ÄÇ ËØ∑Ê±ÇÂíå‰øùÊåÅÊù°‰ª∂„ÄÇËøõÁ®ãÂ∑≤Áªè‰øùÊåÅ‰∏ÄËá≥Â∞ë‰∏Ä‰∏™ËµÑÊ∫êÔºå‰ΩÜÂèàÊèêÂá∫‰∫ÜÊñ∞ÁöÑËµÑÊ∫êËØ∑Ê±ÇÔºåËÄåÊñ∞ËµÑÊ∫êÂ∑≤Ë¢´ÂÖ∂‰ªñËøõÁ®ãÂç†ÊúâÔºåÂØºËá¥ËøõÁ®ãË¢´ÈòªÂ°û„ÄÇ ‰∏çÂèØÊä¢Âç†Êù°‰ª∂„ÄÇ ËøõÁ®ãÂ∑≤Ëé∑ÂæóÁöÑËµÑÊ∫êÂú®‰∏∫‰ΩøÁî®ÂÆå‰πãÂâç‰∏çËÉΩË¢´Êä¢Âç†ÔºåÂè™ÊúâËøõÁ®ãÂú®‰ΩøÁî®ÂÆå‰πãÂêéÊâçËÉΩÈáäÊîæ„ÄÇ Âæ™ÁéØÁ≠âÂæÖÊù°‰ª∂„ÄÇÂèëÁîüÊ≠ªÈîÅÊó∂ÔºåÂøÖÁÑ∂Â≠òÂú®‰∏Ä‰∏™ËøõÁ®ãËµÑÊ∫êÂæ™ÁéØÈìæÔºåÂç≥ËøõÁ®ãÈõÜÂêà$[P_0, P_1, P_2, ¬∑¬∑¬∑, P_n]$‰∏≠$P_0$Ê≠£Âú®Á≠âÂæÖ‰∏Ä‰∏™$P_1$Âç†Áî®ÁöÑËµÑÊ∫êÔºå$P_1$Ê≠£Âú®Á≠âÂæÖ‰∏Ä‰∏™$P_2$Âç†Áî®ÁöÑËµÑÊ∫êÔºå‚Ä¶‚Ä¶Ôºå$P_n$Ê≠£Âú®Á≠âÂæÖ‰∏Ä‰∏™$P_0$Âç†Áî®ÁöÑËµÑÊ∫ê 6.2.3 Â§ÑÁêÜÊ≠ªÈîÅÁöÑÂäûÊ≥ïÁõÆÂâçÂ§ÑÁêÜÊ≠ªÈîÅÁöÑÊñπÊ≥ïÂèØÂΩíÁªì‰∏∫ÂõõÁßçÔºö È¢ÑÈò≤Ê≠ªÈîÅ„ÄÇÈÄöËøáËÆæÁΩÆÊüê‰∫õÈôêÂà∂ÔºåÂéªÁ†¥Âùè‰∫ßÁîüÊ≠ªÈîÅÂõõ‰∏™ÂøÖË¶ÅÊù°‰ª∂‰∏≠ÁöÑ‰∏Ä‰∏™ÊàñÂá†‰∏™Êù•È¢ÑÈò≤Ê≠ªÈîÅ„ÄÇ ÈÅøÂÖçÊ≠ªÈîÅ„ÄÇÂú®ËµÑÊ∫êÁöÑÂä®ÊÄÅÂàÜÈÖçËøáÁ®ã‰∏≠ÔºåÁî®ÊüêÁßçÊñπÊ≥ïÈòªÊ≠¢Á≥ªÁªüËøõÂÖ•‰∏çÂÆâÂÖ®Áä∂ÊÄÅÔºå‰ªéËÄåÈÅøÂÖçÂèëÁîüÊ≠ªÈîÅ„ÄÇ Ê£ÄÊµãÊ≠ªÈîÅ„ÄÇËØ•ÊñπÊ≥ïÂÖÅËÆ∏ËøõÁ®ãÂú®ËøêË°åËøáÁ®ã‰∏≠ÂèëÁîüÊ≠ªÈîÅÔºå‰ΩÜÂèØÈÄöËøáÊ£ÄÊµãÊú∫ÊûÑÂèäÊó∂Âú∞Ê£ÄÊµãÂá∫Ê≠ªÈîÅÁöÑÂèëÁîüÔºåÁÑ∂ÂêéÈááÂèñÈÄÇÂΩìÊé™ÊñΩÔºåÊääËøõÂüé‰ªéÊ≠ªÈîÅ‰∏≠Ëß£ËÑ±Âá∫Êù•„ÄÇ Ëß£Èô§Ê≠ªÈîÅ„ÄÇÂΩìÊ£ÄÊµãÂà∞Á≥ªÁªü‰∏≠Â∑≤ÂèëÁîüÊ≠ªÈîÅÊó∂ÔºåÂ∞±ÈááÂèñÁõ∏Â∫îÊé™ÊñΩÔºåÂ∞ÜËøõÁ®ã‰ªéÊ≠ªÈîÅÁä∂ÊÄÅ‰∏≠Ëß£ËÑ±Âá∫Êù•„ÄÇ 6.3 È¢ÑÈò≤Ê≠ªÈîÅÈ¢ÑÈò≤Ê≠ªÈîÅÊó∂ÈÄöËøáÁ†¥Âùè‰∫ßÁîüÊ≠ªÈîÅÂõõ‰∏™ÂøÖË¶ÅÊù°‰ª∂‰∏≠ÁöÑ‰∏Ä‰∏™ÊàñÂá†‰∏™Ôºå‰ª•ÈÅøÂÖçÂèëÁîüÊ≠ªÈîÅ„ÄÇ 6.3.1 Á†¥Âùè‚ÄúËØ∑Ê±ÇÂíå‰øùÊåÅ‚ÄùÊù°‰ª∂ÂΩì‰∏Ä‰∏™ËøõÁ®ãÂú®ËØ∑Ê±ÇËµÑÊ∫êÊó∂Ôºå‰ªñ‰∏çËÉΩÊåÅÊúâ‰∏çÂèØÊä¢Âç†ËµÑÊ∫ê„ÄÇÂèØÈÄöËøá‰∏Ä‰∏ã‰∏§Áßç‰∏çÂêåÁöÑÂçèËÆÆÂÆûÁé∞Ôºö 6.3.1.1 Á¨¨‰∏ÄÁßçÂçèËÆÆÊâÄÊúâËøõÁ®ãÂú®ÂºÄÂßãËøêË°å‰πãÂâçÔºåÂøÖÈ°ª‰∏ÄÊ¨°ÊÄßÂú∞Áî≥ËØ∑ÂÖ∂Âú®Êï¥‰∏™ËøêË°åËøáÁ®ã‰∏≠ÊâÄÈúÄÁöÑÂÖ®ÈÉ®ËµÑÊ∫ê„ÄÇÊ≠§Êó∂Ëã•Á≥ªÁªü‰∏≠ÊúâË∂≥Â§üÁöÑËµÑÊ∫êÂàÜÈÖçÁªôÊüêËøõÁ®ãÔºå‰æøÂèØÊääÂÖ∂ÈúÄË¶ÅÁöÑÊâÄÊúâËµÑÊ∫êÂàÜÈÖçÁªôÂÆÉ„ÄÇËøôÊ†∑ÔºåËØ•ËøõÁ®ãÂú®Êï¥‰∏™ËøêË°åÊúüÈó¥Ôºå‰æø‰∏ç‰ºöÂÜçÊèêÂá∫ËµÑÊ∫êË¶ÅÊ±ÇÔºå‰ªéËÄåÁ†¥Âùè‰∫Ü‚ÄúËØ∑Ê±Ç‚ÄùÊù°‰ª∂„ÄÇÁ≥ªÁªüÂú®ÂàÜÈÖçËµÑÊ∫êÊó∂ÔºåÂè™Ë¶ÅÊúâ‰∏ÄÁßçËµÑÊ∫ê‰∏çËÉΩÊª°Ë∂≥ËøõÁ®ãÁöÑË¶ÅÊ±ÇÔºåÂç≥‰ΩøÂÖ∂ÊâÄÈúÄÁöÑÂÖ∂‰ªñËµÑÊ∫êÈÉΩÁ©∫Èó≤‰πü‰∏çÂàÜÈÖçÁªôÂÆÉÔºåËÄåËÆ©ËØ•ËøõÁ®ãÁ≠âÂæÖ„ÄÇÁî±‰∫éËØ•ËøõÁ®ãÂú®Á≠âÂæÖÊúüÈó¥Êú™Âç†Êúâ‰ªª‰ΩïËµÑÊ∫êÔºå‰∫éÊòØÁ†¥Âùè‰∫Ü‚Äú‰øùÊåÅ‚ÄùÊù°‰ª∂Ôºå‰ªéËÄåÂèØ‰ª•È¢ÑÈò≤Ê≠ªÈîÅÁöÑÂèëÁîü„ÄÇ ËøôÁßçÂçèËÆÆÁöÑ‰ºòÁÇπÊòØÁÆÄÂçï„ÄÅÊòìË°å‰∏îÂÆâÂÖ®„ÄÇ‰ΩÜÊòØÁº∫ÁÇπ‰πüÊûÅÂÖ∂ÊòéÊòæÔºö ËµÑÊ∫êË¢´‰∏•ÈáçÊµ™Ë¥πÔºå‰∏•ÈáçÁöÑÊÅ∂Âåñ‰∫ÜËµÑÊ∫êÁöÑÂà©Áî®Áéá„ÄÇ ‰ΩøËøõÁ®ãÁªèÂ∏∏ÁöÑÂèëÁîüÈ••È•øÁé∞Ë±°„ÄÇ 6.3.1.2 Á¨¨‰∫åÁßçÂçèËÆÆËØ•ÂçèËÆÆÊòØÂØπÁ¨¨‰∏ÄÁßçÂçèËÆÆÁöÑÊîπËøõÔºåÂÆÉÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ãÂè™Ëé∑ÂæóËøêË°åÂàùÊúüÊâÄÈúÄÁöÑËµÑÊ∫êÂêéÔºå‰æøÂºÄÂßãËøêË°å„ÄÇËøõÁ®ãËøêË°åÁöÑËøáÁ®ã‰∏≠ÂÜçÈÄêÊ≠•ÈáäÊîæÂ∑≤ÂàÜÈÖçÁªôËá™Â∑±ÁöÑ„ÄÅ‰∏îÂ∑≤Áî®ÊØïÁöÑÂÖ®ÈÉ®ËµÑÊ∫êÔºåÁÑ∂ÂêéÂÜçËØ∑Ê±ÇÊñ∞ÁöÑÊâÄÈúÄËµÑÊ∫ê„ÄÇ 6.3.2 Á†¥Âùè‚Äú‰∏çÂèØÊä¢Âç†‚ÄùÊù°‰ª∂‰∏∫‰∫ÜËÉΩÁ†¥Âùè‚Äú‰∏çÂèØÊä¢Âç†‚ÄùÊù°‰ª∂ÔºåÂçèËÆÆ‰∏≠ËßÑÂÆöÔºåÂΩì‰∏Ä‰∏™Â∑≤Áªè‰øùÊåÅ‰∫ÜÊüê‰∫õ‰∏çÂèØË¢´Êä¢Âç†ËµÑÊ∫êÁöÑËøõÁ®ãÔºåÊèêÂá∫Êñ∞ÁöÑËµÑÊ∫êËØ∑Ê±ÇËÄå‰∏çËÉΩÂæóÂà∞Êª°Ë∂≥Êó∂Ôºå‰ªñÂøÖÈ°ªÈáäÊîæÂ∑≤Áªè‰øùÊåÅÁöÑÊâÄÊúâËµÑÊ∫êÔºåÂæÖ‰ª•ÂêéÈúÄË¶ÅÊó∂ÂÜçÈáçÊñ∞Áî≥ËØ∑„ÄÇËøôÊÑèÂë≥ÁùÄËøõÁ®ãÂ∑≤Âç†ÊúâÁöÑËµÑÊ∫ê‰ºöË¢´ÊöÇÊó∂Âú∞ÈáäÊîæÔºåÊàñËÄÖËØ¥ÊòØË¢´Êä¢Âç†‰∫ÜÔºå‰ªéËÄåÁ†¥Âùè‰∫Ü‚Äú‰∏çÂèØÊä¢Âç†‚ÄùÊù°‰ª∂„ÄÇ 6.3.3 Á†¥Âùè‚ÄúÂæ™ÁéØÁ≠âÂæÖ‚ÄùÊù°‰ª∂‰∏Ä‰∏™ËÉΩ‰øùËØÅ‚ÄúÂæ™ÁéØÁ≠âÂæÖ‚ÄùÊù°‰ª∂‰∏çÊàêÁ´ãÁöÑÊñπÊ≥ïÊòØÔºåÂØπÁ≥ªÁªüÊâÄÊúâËµÑÊ∫êÁ±ªÂûãËøõË°åÁ∫øÊÄßÊéíÂ∫èÔºåÂπ∂Ëµã‰∫à‰∏çÂêåÁöÑÂ∫èÂè∑„ÄÇÊéíÂ∫èÂêéÔºå‰æøÂèØ‰ª•ÈááÁî®ËøôÊ†∑ÁöÑÈ¢ÑÈò≤ÂçèËÆÆÔºöËßÑÂÆöÊØè‰∏™ËøõÁ®ãÂøÖÈ°ªÊåâÁÖßÂ∫èÂè∑ÁöÑÂú∞ÂùÄÈ°∫Â∫èÊù•ËØ∑Ê±ÇËµÑÊ∫ê„ÄÇ‰∏Ä‰∏™ËøõÁ®ãÂú®ÂºÄÂßãÊó∂ÔºåÂèØ‰ª•ËØ∑Ê±ÇËµÑÊ∫ê$R_i$ÁöÑÂçïÂÖÉÔºå‰ª•ÂêéÔºåÂΩì‰∏î‰ªÖÂΩì$F(R_j)&gt;F(R_i)$ÔºåËøõÁ®ãÊâçÂèØ‰ª•ËØ∑Ê±ÇËµÑÊ∫ê$R_j$„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂ§ö‰∏™ÂêåÁ±ªËµÑÊ∫êÂçïÂÖÉÔºåÂàôÂøÖÈ°ª‰∏ÄËµ∑ËØ∑Ê±Ç„ÄÇ ‰ºòÁÇπÔºöËµÑÊ∫êÂà©Áî®ÁéáÂíåÁ≥ªÁªüÂêûÂêêÈáèÈÉΩÊúâÊØîËæÉÊòéÊòæÁöÑÊîπÂñÑ„ÄÇ Áº∫ÁÇπÔºö Á≥ªÁªü‰∏≠ÂêÑÁ±ªËµÑÊ∫êÊâÄËßÑÂÆöÁöÑÂ∫èÂè∑ÂøÖÈ°ªÁ®≥ÂÆöÔºåËøôÂ∞±ÈôêÂà∂‰∫ÜÊñ∞Á±ªÂûãËÆæÂ§áÁöÑÂ¢ûÂä† ÂèØËÉΩ‰ºöÂèëÁîü‰Ωú‰∏ö‰ΩøÁî®ÂêÑÁ±ªËµÑÊ∫êÁöÑÈ°∫Â∫è‰∏éÁ≥ªÁªüËßÑÂÆöÁöÑ‰∏çÂêåÔºåÈÄ†ÊàêËµÑÊ∫êÁöÑÊµ™Ë¥π„ÄÇ ËøôÁßçÊåâÁÖßËßÑÂÆöÊ¨°Â∫èÁî≥ËØ∑ËµÑÊ∫êÁöÑÊñπÊ≥ï‰ºöÈôêÂà∂Áî®Êà∑ÁÆÄÂçïÔºåËá™‰∏ªÁöÑÁºñÁ®ã„ÄÇ 6.4 ÈÅøÂÖçÊ≠ªÈîÅ6.4.1 Á≥ªÁªüÂÆâÂÖ®Áä∂ÊÄÅÂú®Ê≠ªÈîÅÈÅøÂÖçÊñπÊ≥ï‰∏≠ÔºåÊääÁ≥ªÁªüÁöÑÁä∂ÊÄÅÂàÜ‰∏∫ÂÆâÂÖ®Áä∂ÊÄÅÂíå‰∏çÂÆâÂÖ®Áä∂ÊÄÅ„ÄÇÂΩìÁ≥ªÁªüÂ§Ñ‰∫éÂÆâÂÖ®Áä∂ÊÄÅÊó∂ÔºåÂèØÈÅøÂÖçÂèëÁîüÊ≠ªÈîÅ„ÄÇÂèç‰πãÔºåÂΩìÁ≥ªÁªüÂ§Ñ‰∫é‰∏çÂÆâÂÖ®Áä∂ÊÄÅÊó∂ÔºåÂàôÂèØËÉΩËøõÂÖ•Âà∞Ê≠ªÈîÅÁä∂ÊÄÅ„ÄÇ Âú®ËØ•ÊñπÊ≥ï‰∏≠ÔºåÂÖÅËÆ∏ËøõÁ®ãÂä®ÊÄÅÁöÑÁî≥ËØ∑ËµÑÊ∫êÂêóÔºå‰ΩÜÁ≥ªÁªüÂú®ËøõË°åËµÑÊ∫êÂàÜÈÖç‰πãÂâçÔºåÂ∫îÂÖàËÆ°ÁÆóÊ≠§Ê¨°ËµÑÊ∫êÂàÜÈÖçÁöÑÂÆâÂÖ®ÊÄß„ÄÇËã•Ê≠§Ê¨°ÂàÜÈÖç‰∏ç‰ºöÂØºËá¥Á≥ªÁªüËøõÂÖ•‰∏çÂÆâÂÖ®Áä∂ÊÄÅÔºåÊâçÂèØÂ∞ÜËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ãÔºåÂê¶ÂàôÔºåÂè¶ËøõÁ®ãÁ≠âÂæÖ„ÄÇ ÂÆâÂÖ®Áä∂ÊÄÅÊòØÊåáÁ≥ªÁªüËÉΩÊåâÊüêÁßçËøõÁ®ãÊé®ËøõÈ°∫Â∫è‰∏∫ÊØè‰∏™ËøõÁ®ãÂàÜÈÖçÂÖ∂ÊâÄÈúÄËµÑÊ∫êÔºåÁõ¥Ëá≥Êª°Ë∂≥ÊØè‰∏™ËøõÁ®ãÂØπËµÑÊ∫êÁöÑÊúÄÂ§ßÈúÄÊ±Ç„ÄÇÂ¶ÇÊûúÊó†Ê≥ïÊâæÂà∞ËøôÊ†∑‰∏Ä‰∏™Â∫èÂàóÔºåÂàôÁß∞Á≥ªÁªüÂ§Ñ‰∫é‰∏çÂÆâÂÖ®Áä∂ÊÄÅ„ÄÇ 6.4.2 Âà©Áî®Èì∂Ë°åÂÆ∂ÁÆóÊ≥ïÈÅøÂÖçÊ≠ªÈîÅ‰∏∫ÂÆûÁé∞Èì∂Ë°åÂÆ∂ÁÆóÊ≥ïÔºåÊØè‰∏Ä‰∏™Êñ∞ËøõÁ®ãÂú®ËøõÂÖ•Á≥ªÁªüÊó∂Ôºå‰ªñÂøÖÈ°ªÁî≥ÊòéÂú®ËøêË°åËøáÁ®ã‰∏≠ÔºåÂèØËÉΩÈúÄË¶ÅÊØèÁßçËµÑÊ∫êÁ±ªÂûãÁöÑÊúÄÂ§ßÂçïÂÖÉÊï∞ÁõÆÔºåÂÖ∂Êï∞ÁõÆ‰∏çÂ∫îË∂ÖËøáÁ≥ªÁªüÊâÄÊã•ÊúâÁöÑËµÑÊ∫êÊÄªÈáè„ÄÇÂΩìËøõÁ®ãËØ∑Ê±Ç‰∏ÄÁªÑËµÑÊ∫êÊó∂ÔºåÁ≥ªÁªüÂøÖÈ°ªÈ¶ñÂÖàÁ°ÆÂÆöÊòØÂê¶ÊúâË∂≥Â§üÁöÑËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ã„ÄÇËã•ÊúâÔºåÂÜçËøõ‰∏ÄÊ≠•ËÆ°ÁÆóÂú®Â∞ÜËøô‰∫õËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ãÂêéÔºåÊòØÂê¶‰ºö‰ΩøÁ≥ªÁªüÂ§Ñ‰∫é‰∏çÂÆâÂÖ®Áä∂ÊÄÅ„ÄÇÂ¶ÇÊûú‰∏ç‰ºöÔºåÊâçÂàÜÈÖçËµÑÊ∫ê„ÄÇ 6.4.2.1 Èì∂Ë°åÂÆ∂ÁÆóÊ≥ï‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑ ÂèØÂà©Áî®ËµÑÊ∫êÂêëÈáèAvailable„ÄÇ‰ª£Ë°®Á≥ªÁªü‰∏≠ÁõÆÂâçÂ∑≤ÊúâÁöÑÂèØÂàÜÈÖçÁöÑËØ•ÁßçËµÑÊ∫êÁöÑÊúÄÂ§ßÊï∞„ÄÇ ÊúÄÂ§ßÈúÄÊ±ÇÁü©ÈòµMax„ÄÇ‰ª£Ë°®ËØ•ËøõÁ®ãÂØπËØ•ËµÑÊ∫êÁöÑÊúÄÂ§ßÈúÄÊ±ÇÊï∞„ÄÇ ÂàÜÈÖçÁü©ÈòµAllocation„ÄÇ‰ª£Ë°®ÁõÆÂâçÂ∑≤ÁªèÂàÜÈÖçÁªôËØ•ËøõÁ®ãÁöÑËØ•ËµÑÊ∫êÁöÑÊï∞ÁõÆ„ÄÇ ÈúÄÊ±ÇÁü©ÈòµNeed„ÄÇ‰ª£Ë°®ËØ•ËøõÁ®ãËøòÈúÄË¶ÅËØ•ËµÑÊ∫êÁöÑÊï∞ÁõÆ„ÄÇ 6.4.2.2 Èì∂Ë°åÂÆ∂ÁÆóÊ≥ïËÆæ$Request_i$ÊòØËøõÁ®ã$P_i$ÁöÑËØ∑Ê±ÇÂêëÈáèÔºåÂ¶ÇÊûú$Request_i[j]=K$ÔºåË°®Á§∫ËøõÁ®ã$P_i$ÈúÄË¶Å$K$‰∏™$R_j$Á±ªÂûãÁöÑËµÑÊ∫ê„ÄÇÂΩì$P_i$ÂèëÂá∫ËµÑÊ∫êËØ∑Ê±ÇÂêéÔºåÁ≥ªÁªüÊåâ‰∏ãËø∞Ê≠•È™§ËøõË°åÊ£ÄÊü•Ôºö Â¶ÇÊûú$Request_i[j] \le Need[i, j]$Ôºå‰æøËΩ¨ÂêëÊ≠•È™§2ÔºõÂê¶Âàô‰ªªÂä°Âá∫ÈîôÔºåÂõ†‰∏∫ÂÆÉÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êÊï∞Â∑≤Ë∂ÖËøáÂÆÉÊâÄÂÆ£Â∏ÉÁöÑÊúÄÂ§ßÂÄº„ÄÇ Â¶ÇÊûú$Request_i[j] \le Available[j]$Ôºå‰æøËΩ¨ÂêëÊ≠•È™§3ÔºõÂê¶ÂàôÔºåË°®Á§∫Â∞öÊó†Ë∂≥Â§üËµÑÊ∫êÔºå$P_i$ÈúÄÁ≠âÂæÖ„ÄÇ Á≥ªÁªüËØïÊé¢ÁùÄÊääËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ã$P_i$ÔºåÂπ∂‰øÆÊîπ‰∏ãÈù¢Êï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÊï∞ÂÄºÔºö $Available[j] = Available[j] - Request_i[j]$ $Allocation[i,j] = Allocation[i,j] + Request_i[j]$ $Need[i,j] = Need[i,j] - Request_i[j]$ Á≥ªÁªüÊâßË°åÂÆâÂÖ®ÊÄßÁÆóÊ≥ïÔºåÊ£ÄÊü•Ê≠§Ê¨°ËµÑÊ∫êÂàÜÈÖçÂêéÁ≥ªÁªüÊòØÂê¶Â§Ñ‰∫éÂÆâÂÖ®Áä∂ÊÄÅ„ÄÇËã•ÂÆâÂÖ®ÔºåÊâçÊ≠£ÂºèÂ∞ÜËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ã$P_i$ÔºåÂ∑≤ÂÆåÊàêÊú¨Ê¨°ÂàÜÈÖçÔºõÂê¶ÂàôÔºåÂ∞ÜÊú¨Ê¨°ÁöÑËØïÊé¢ÂàÜÈÖç‰ΩúÂ∫üÔºåÊÅ¢Â§çÂéüÊù•ÁöÑËµÑÊ∫êÂàÜÈÖçÁä∂ÊÄÅÔºåËÆ©ËøõÁ®ã$P_i$Á≠âÂæÖ„ÄÇ 6.4.2.3 ÂÆâÂÖ®ÊÄßÁÆóÊ≥ï ËÆæÁΩÆ‰∏§‰∏™ÂêëÈáèÔºö‚ë†Â∑•‰ΩúÂêëÈáèWorkÔºå‰ªñË°®Á§∫Á≥ªÁªüÂèØÊèê‰æõÁªôËøõÁ®ãÁªßÁª≠ËøêË°åÊâÄÈúÄÁöÑÂêÑÁ±ªËµÑÊ∫êÊï∞ÁõÆÔºåÂÆÉÂê´Êúâm‰∏™ÂÖÉÁ¥†ÔºåÂú®ÊâßË°åÂÆâÂÖ®ÁÆóÊ≥ïÂºÄÂßãÊó∂Ôºå$Word = Available$Ôºõ‚ë°FInishÔºö‰ªñË°®Á§∫Á≥ªÁªüÊòØÂê¶ÊúâË∂≥Â§üÁöÑËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ãÔºå‰Ωø‰πãËøêË°åÂÆåÊàê„ÄÇÂºÄÂßãÊó∂ÂÖàÂÅö$Finish[i] = false$ÔºõÂΩìÊúâË∂≥Â§üËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ãÊó∂ÔºåÂÜç‰ª§$Finish[i] = true$„ÄÇ ‰ªéËøõÁ®ãÈõÜÂêà‰∏≠ÊâæÂà∞‰∏Ä‰∏™ËÉΩÊª°Ë∂≥‰∏ãËø∞Êù°‰ª∂ÁöÑËøõÁ®ãÔºö‚ë†$Finish[i]=false$Ôºõ‚ë°$Need[i,j] \le Work[j]$ÔºõËã•ÊâæÂà∞ÂàôÊâßË°åÊ≠•È™§3ÔºåÂê¶ÂàôÊâßË°åÊ≠•È™§4. Ëã•ËøõÁ®ã$P_i$Ëé∑ÂæóËµÑÊ∫êÂêéÔºåÂèØÈ°∫Âà©ÊâßË°åÔºåÁõ¥Ëá≥ÂÆåÊàêÔºåÂπ∂ÈáäÊîæÂá∫ÂàÜÈÖçÁªô‰ªñÁöÑËµÑÊ∫êÔºåÊïÖÂ∫îÊâßË°åÔºö $Word[j] = Work[j] + Allocation[i,j];$ $Finish[i]=true;$ go to step 2; Â¶ÇÊûúÊâÄÊúâËøõÁ®ãÁöÑ$Finish[i]=true$ÈÉΩÊª°Ë∂≥ÔºåÂàôË°®Á§∫Á≥ªÁªüÂ§Ñ‰∫éÂÆâÂÖ®Áä∂ÊÄÅÔºõÂê¶ÂàôÔºåÁ≥ªÁªüÂ§Ñ‰∫é‰∏çÂÆâÂÖ®Áä∂ÊÄÅ„ÄÇ 6.4.2.4 Èì∂Ë°åÂÆ∂ÁÆóÊ≥ï‰æãÂ≠êÈ¢òÁõÆÂÅáÂÆöÁ≥ªÁªü‰∏≠Êúâ‰∫î‰∏™ËøõÁ®ã${P_0, P_1, P_2, P_3, P_4}$Âíå‰∏âÁ±ªËµÑÊ∫ê${A, B, C}$ÔºåÂêÑÁßçËµÑÊ∫êÁöÑÊï∞ÈáèÂàÜÂà´‰∏∫10„ÄÅ5„ÄÅ7ÔºåÂú®$T_0$Êó∂ÂàªÁöÑËµÑÊ∫êÂàÜÈÖçÊÉÖÂÜµÂ¶ÇÂõæÊâÄÁ§∫Ôºö Âú®$T_0$Êó∂ÂàªÁöÑÂÆâÂÖ®ÊÄßÂà©Áî®ÂÆâÂÖ®ÊÄßÁÆóÊ≥ïÂØπ$T_0$Êó∂ÂàªÁöÑËµÑÊ∫êÂàÜÈÖçÊÉÖÂÜµËøõË°åÂàÜÊûêÂèØÁü•ÔºåÂú®$T_0$Êó∂ÂàªÂ≠òÂú®ÁùÄ‰∏Ä‰∏™ÂÆâÂÖ®Â∫èÂàó${P_1,P_3,P_4,P_2,P_0}$ÔºåÊïÖÁ≥ªÁªüÊòØÂÆâÂÖ®ÁöÑ„ÄÇ $P_1$ËØ∑Ê±ÇËµÑÊ∫ê$P_1$ÂèëÂá∫ËØ∑Ê±ÇÂêëÈáè$Request_1(1,0,2)$ÔºåÁ≥ªÁªüÊåâÈì∂Ë°åÂÆ∂ÁÆóÊ≥ïËøõË°åÊ£ÄÊü•Ôºö‚ë†$Request_1(1,0,2) \le Need_1(1,2,2)$Ôºõ‚ë°$Request_1(1,0,2) \le Available_1(3,3,2)$Ôºõ‚ë¢Á≥ªÁªüÂÖàÂÅáÂÆöÂèØ‰∏∫$P_1$ÂàÜÈÖçËµÑÊ∫êÔºåÂπ∂‰øÆÊîπ$Avaliable$Ôºå$Allocation_1$Âíå$Need_1$ÂêëÈáèÔºåÁî±Ê≠§ÂΩ¢ÊàêÁöÑËµÑÊ∫êÂèòÂåñÊÉÖÂÜµÂ¶Ç1Âõæ‰∏≠ÁöÑÂúÜÊã¨Âè∑ÊâÄÁ§∫Ôºõ‚ë£ÂÜçÂà©Áî®ÂÆâÂÖ®ÊÄßÁÆóÊ≥ïÊ£ÄÊü•Ê≠§Êó∂Á≥ªÁªüÊòØÂê¶ÂÆâÂÖ®ÔºåÂ¶ÇÂõæÊâÄÁ§∫ ÊúâÊâÄËøõË°åÁöÑÂÆâÂÖ®ÊÄßÊ£ÄÊü•ÂæóÁü•ÔºåÂèØ‰ª•ÊâæÂà∞‰∏Ä‰∏™ÂÆâÂÖ®Â∫èÂàó${P_1,P_3,P_4,P_2,P_0}$„ÄÇÂõ†Ê≠§ÔºåÁ≥ªÁªüÊòØÂÆâÂÖ®ÁöÑÔºåÂèØ‰ª•Á´ãÂç≥Â∞Ü$P_1$ÊâÄÁî≥ËØ∑ÁöÑËµÑÊ∫êÂàÜÈÖçÁªôÂÆÉ„ÄÇ $P_4$ËØ∑Ê±ÇËµÑÊ∫ê$P_4$ÂèëÂá∫ËØ∑Ê±ÇÂêëÈáè$Request_4(3,3,0)$ÔºåÁ≥ªÁªüÊåâÈì∂Ë°åÂÆ∂ÁÆóÊ≥ïËøõË°åÊ£ÄÊü•Ôºö‚ë†$Request_4(3,3,0) \le Need_4(4,3,1)$Ôºõ‚ë°$Request_4(3,3,0) \ge Available(2,3,0)$ÔºåËÆ©$P_4$Á≠âÂæÖ„ÄÇ $P_0$ËØ∑Ê±ÇËµÑÊ∫ê$P_0$ÂèëÂá∫ËØ∑Ê±ÇÂêëÈáè$Request_0(0,2,0)$ÔºåÁ≥ªÁªüÊåâÈì∂Ë°åÂÆ∂ÁÆóÊ≥ïËøõË°åÊ£ÄÊü•Ôºö‚ë†$Request_0(0,2,0) \le Need_0(7,4,3)$Ôºõ‚ë°$Request_0(0,2,0) \le Available(2,3,0)$Ôºõ‚ë¢Á≥ªÁªüÊöÇÊó∂ÂÖàÂÅáÂÆöÂèØ‰∏∫$P_0$ÂàÜÈÖçËµÑÊ∫êÔºåÂπ∂‰øÆÊîπÊúâÂÖ≥Êï∞ÊçÆÔºåÂ¶ÇÂõæÊâÄÁ§∫„ÄÇ ËøõÂÖ•ÂÆâÂÖ®ÊÄßÊ£ÄÊü•ÂèØÁî®ËµÑÊ∫ê$Available(2,1,0)$Â∑≤‰∏çËÉΩÊª°Ë∂≥‰ªª‰ΩïËøõÁ®ãÁöÑÈúÄË¶ÅÔºåÊïÖÁ≥ªÁªüËøõÂÖ•‰∏çÂÆâÂÖ®Áä∂ÊÄÅÔºåÊ≠§Êó∂Á≥ªÁªü‰∏çÂàÜÈÖçËµÑÊ∫ê„ÄÇ]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªü5--Â§ÑÁêÜÊú∫Ë∞ÉÂ∫¶]]></title>
    <url>%2Fposts%2F8b4e2673.html</url>
    <content type="text"><![CDATA[Â§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãÊàë‰ΩøÁî®ÂπïÂ∏ÉËΩØ‰ª∂ÁîªÁöÑÊÄùÁª¥ÂØºÂõæÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÊÉ≥‰ΩøÁî®ÂπïÂ∏ÉÂèØ‰ª•ÈÄöËøáÊàëÁöÑÈÇÄËØ∑ÈìæÊé•Ê≥®ÂÜåÔºåÂèØÂÖçË¥πËé∑Âæó‰∏Ä‰∏™ÊúàÈ´òÁ∫ß‰ºöÂëòhttps://mubu.com/inv/477598 Âú®Â§öÈÅìÁ®ãÂ∫è‰∏≠ÔºåË∞ÉÂ∫¶ÁöÑÂÆûË¥®ÊòØ‰∏ÄÁßçËµÑÊ∫êÂàÜÈÖçÔºåÂ§ÑÁêÜÊú∫Ë∞ÉÂ∫¶ÊòØÂØπÂ§ÑÁêÜÊú∫ËµÑÊ∫êËøõË°åÂàÜÈÖç„ÄÇ 5.1 Â§ÑÁêÜÊú∫Ë∞ÉÂ∫¶ÁöÑÂ±ÇÊ¨°ÂíåË∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑÁõÆÊ†áÂú®Â§öÈÅìÊâπÂ§ÑÁêÜÁ≥ªÁªü‰∏≠Ôºå‰∏Ä‰∏™‰Ωú‰∏ö‰ªéÊèê‰∫§Âà∞Ëé∑ÂæóÂ§ÑÁêÜÊú∫ÊâßË°åÔºåÁõ¥Ëá≥‰Ωú‰∏öËøêË°åÂÆåÊàêÔºåÂèØËÉΩÈúÄË¶ÅÁªèÂéÜÂ§öÊ¨°Â§ÑÁêÜÊú∫Ë∞ÉÂ∫¶„ÄÇ 5.1.1 Â§ÑÁêÜÊú∫Ë∞ÉÂ∫¶ÁöÑÂ±ÇÊ¨° È´òÁ∫ßË∞ÉÂ∫¶ È´òÁ∫ßË∞ÉÂ∫¶ÂèàÁß∞‰∏∫ÈïøÁ®ãË∞ÉÂ∫¶Êàñ‰Ωú‰∏öË∞ÉÂ∫¶Ôºå‰ªñÁöÑË∞ÉÂ∫¶ÂØπË±°ÊòØ‰Ωú‰∏ö„ÄÇ‰∏ªË¶ÅÂäüËÉΩÊòØÊ†πÊçÆÊüêÁßçÁÆóÊ≥ïÔºåÂÜ≥ÂÆöÂ∞ÜÂ§ñÂ≠ò‰∏äÂ§Ñ‰∫éÂêéÂ§áÈòüÂàó‰∏≠ÁöÑÂì™Âá†‰∏™‰Ωú‰∏öË∞ÉÂÖ•ÂÜÖÂ≠ò„ÄÅ‰∏∫‰ªñ‰ª¨ÂàõÂª∫ËøõÁ®ãÔºåÂàÜÈÖçÂøÖË¶ÅÁöÑËµÑÊ∫êÔºåÂπ∂Â∞Ü‰ªñ‰ª¨ÊîæÂÖ•Â∞±Áª™ÈòüÂàó„ÄÇ ‰ΩéÁ∫ßË∞ÉÂ∫¶ ‰ΩéÁ∫ßË∞ÉÂ∫¶ÂèàÁß∞‰∏∫Áü≠Á®ãË∞ÉÂ∫¶Êàñ‰Ωú‰∏öË∞ÉÂ∫¶Ôºå‰ªñÁöÑË∞ÉÂ∫¶ÂØπË±°ÊòØËøõÁ®ã„ÄÇ‰∏ªË¶ÅÂäüËÉΩÊòØÊ†πÊçÆÊüêÁßçÁÆóÊ≥ïÔºåÂÜ≥ÂÆöÂ∞±Áª™ÈòüÂàó‰∏≠Âì™‰∏™ËøõÁ®ãÂ∫îËé∑ÂæóÂ§ÑÁêÜÊú∫ÔºåÂπ∂Áî±ÂàÜÊ¥æÁ®ãÂ∫èÂ∞ÜÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôË¢´ÈÄâ‰∏≠ÁöÑËøõÁ®ã„ÄÇ ‰∏≠Á∫ßË∞ÉÂ∫¶ ‰∏≠Á∫ßË∞ÉÂ∫¶ÂèàÁß∞‰∏∫ÂÜÖÂ≠òË∞ÉÂ∫¶„ÄÇ‰∏ªË¶ÅÂäüËÉΩÊòØÂ∞ÜÈÇ£‰∫õÊöÇÊó∂‰∏çËÉΩËøêË°åÁöÑËøõÁ®ãÔºåË∞ÉËá≥Â§ñÂ≠òÁ≠âÂæÖÔºåÂΩì‰ªñ‰ª¨ÂÖ∑Â§áËøêË°åÊù°‰ª∂‰∏îÂÜÖÂ≠òÂèàÁ®çÊúâÁ©∫Èó≤Êó∂ÂÜçË∞ÉÂÖ•ÂÜÖÂ≠ò„ÄÇ 5.1.2 Â§ÑÁêÜÊú∫Ë∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑÁõÆÊ†á5.1.2.1 Â§ÑÁêÜÊú∫Ë∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑÂÖ±ÂêåÁõÆÊ†á ËµÑÊ∫êÂà©Áî®Áéá Á≥ªÁªü‰∏≠ÁöÑÂ§ÑÁêÜÊú∫ÂíåÂÖ∂ÂÆÉÊâÄÊúâËµÑÊ∫êÂ∫îÂ∞ΩÂèØËÉΩ‰øùÊåÅÂøôÁ¢åÁä∂ÊÄÅÔºåÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑÂ§ÑÁêÜÊú∫Âà©Áî®ÁéáÂèØÁî®‰ª•‰∏ãÊñπÂºèËÆ°ÁÆóÔºöCPUÁöÑÂà©Áî®Áéá=\frac{CPUÊúâÊïàÂ∑•‰ΩúÊó∂Èó¥}{CPUÊúâÊïàÂ∑•‰ΩúÊó∂Èó¥+CPUÁ©∫Èó≤Á≠âÂæÖÊó∂Èó¥} ÂÖ¨Âπ≥ÊÄß Á≥ªÁªü‰∏≠ÁöÑÊâÄÊúâÁöÑËøõÁ®ãÈÉΩÂ∫îËØ•Ëé∑ÂæóÂêàÁêÜÁöÑCPUÊó∂Èó¥Ôºå‰∏ç‰ºöÂèëÁîüËøõÁ®ãÈ••È•øÁé∞Ë±°„ÄÇÔºåÂØπÂêåÁ±ªÂûãÁöÑËøõÁ®ãËé∑ÂæóÁõ∏ÂêåÁöÑÊúçÂä°Ôºõ‰∏çÂêåÁ±ªÂûãÁöÑËøõÁ®ãÔºåÁî±‰∫éÁ¥ßÊÄ•Á®ãÂ∫¶‰∏çÂêåÊàñËÄÖÈáçË¶ÅÊÄß‰∏çÂêåÔºåÂ∫îÊèê‰æõ‰∏çÂêåÁöÑÊúçÂä°„ÄÇ Âπ≥Ë°°ÊÄß Á≥ªÁªü‰∏≠ÂèØËÉΩÂÖ∑ÊúâÂ§öÁßçÁ±ªÂûãÁöÑËøõÁ®ãÔºåÊúâÁöÑÊòØËÆ°ÁÆóÂûã‰Ωú‰∏öÔºåÊúâÁöÑÊòØI/OÂûã‰Ωú‰∏ö„ÄÇ‰∏∫‰∫Ü‰ΩøCPUÂíåËµÑÊ∫êÂ∞ΩÂèØËÉΩÁöÑÂ§Ñ‰∫éÂøôÁ¢åÁä∂ÊÄÅÔºåË∞ÉÂ∫¶ÁÆóÊ≥ïÂ∫îÂ∞ΩÂèØËÉΩÁöÑ‰øùÊåÅÁ≥ªÁªüËµÑÊ∫ê‰ΩøÁî®ÁöÑÂπ≥Ë°°ÊÄß„ÄÇ Á≠ñÁï•Âº∫Âà∂ÊâßË°å ÂØπÊâÄÂÆöÂà∂ÁöÑÁ≠ñÁï•ÔºåÂè™Ë¶ÅÈúÄË¶ÅÔºåÂ∞±ÂøÖÈ°ªÂáÜÁ°ÆÁöÑÊâßË°å„ÄÇ 5.1.2.2 ÊâπÂ§ÑÁêÜÁ≥ªÁªüÁöÑÁõÆÊ†á Âπ≥ÂùáÂë®ËΩ¨Êó∂Èó¥ÊÆµ Âë®ËΩ¨Êó∂Èó¥ÔºåÊòØÊåá‰ªé‰Ωú‰∏öË¢´Êèê‰∫§ÁªôÁ≥ªÁªüÔºåÁõ¥Âà∞‰Ωú‰∏öÊâßË°åÂÆåÊØïÊâÄËä±Ë¥πÁöÑÊó∂Èó¥„ÄÇ ÂØπ‰∫éÊØè‰∏™Áî®Êà∑Êù•Ë®ÄÔºåÈÉΩÂ∏åÊúõËá™Â∑±ÁöÑÂë®ËΩ¨Êó∂Èó¥ÊúÄÁü≠Ôºõ‰ΩÜÊòØÂØπ‰∫éÁ≥ªÁªüÊù•Ë®ÄÔºå‰ªñË¶ÅÊ±ÇÁöÑÊòØÂπ≥ÂùáÂë®ËΩ¨Êó∂Èó¥ÊúÄÁü≠ÔºåËøô‰∏ç‰ªÖÂèØ‰ª•ÊèêÈ´òÁ≥ªÁªüËµÑÊ∫êÁöÑÂà©Áî®ÁéáÔºåËÄå‰∏îËøòÂèØ‰ΩøÂ§ßÂ§öÊï∞Áî®Êà∑ÈÉΩÊÑüÂà∞Êª°ÊÑè„ÄÇ ÂèØÊääÂë®ËΩ¨Êó∂Èó¥ÊèèËø∞‰∏∫ÔºöT=\frac{1}{n}[\sum_{i=1}^{n}{T_i}] ‰∏∫‰∫ÜËøõ‰∏ÄÊ≠•ÂèçÂ∫îË∞ÉÂ∫¶ÁöÑÊÄßËÉΩÔºåÊõ¥Ê∏ÖÊ•öÁöÑÊèèËø∞ÂêÑËøõÁ®ãÂú®ÂÖ∂Âë®ËΩ¨Êó∂Èó¥‰∏≠ÔºåÁ≠âÂæÖÂíåÊâßË°åÊó∂Èó¥ÁöÑÂÖ∑‰ΩìÂàÜÈÖçÊÉÖÂÜµÔºåÂæÄÂæÄ‰ΩøÁî®Â∏¶ÊùÉÂë®ËΩ¨Êó∂Èó¥ÔºåÂç≥‰Ωú‰∏öÂë®ËΩ¨Êó∂Èó¥T‰∏éÁ≥ªÁªü‰∏∫‰ªñÊèê‰æõÁöÑÊó∂Èó¥Ts‰πãÊØîÔºåÂç≥$ W=\frac{T}{T_s} $ÔºåÂπ≥ÂùáÂ∏¶ÊùÉÂë®ËΩ¨Êó∂Èó¥ÂèØË°®Á§∫‰∏∫ÔºöW = \frac{1}{n}\sum_{i=1}^{n}\frac{T_i}{T_s} Á≥ªÁªüÂêûÂêêÈáèÈ´ò Â§ÑÁêÜÊú∫Âà©Áî®ÁéáÈ´ò 5.1.2.3 ÂàÜÊó∂Á≥ªÁªüÁöÑÁõÆÊ†á Áõ∏Â∫î‰∫ãÊó∂Èó¥Âø´ ÂìçÂ∫îÊó∂Èó¥ÊòØÊåá‰ªéÁî®Êà∑ÈÄöËøáÈîÆÁõòÊèê‰∫§‰∏Ä‰∏™ËØ∑Ê±ÇÂºÄÂßãÔºåÁõ¥Âà∞Â±èÂπï‰∏äÊòæÁ§∫Âá∫Â§ÑÁêÜÁªìÊûú‰∏∫‰πãÁöÑ‰∏ÄÊÆµÊó∂Èó¥Èó¥ÈöîÔºåÂÆÉÂåÖÊã¨‰∏âÈÉ®ÂàÜÊó∂Èó¥Ôºö‰∏ÄÊòØËØ∑Ê±Ç‰ø°ÊÅØ‰ªéÈîÆÁõòËæìÂÖ•ÂºÄÂßãÔºåÁõ¥Ëá≥Â∞ÜÂÖ∂‰º†ÈÄÅÂà∞Â§ÑÁêÜÊú∫ÁöÑÊó∂Èó¥Ôºõ‰∫åÊòØÂ§ÑÁêÜÊú∫ÂØπËØ∑Ê±Ç‰ø°ÊÅØËøõË°åÂ§ÑÁêÜÁöÑÊó∂Èó¥Ôºõ‰∏âÊòØÂ∞ÜÊâÄÂΩ¢ÊàêÁöÑÁöÑÂìçÂ∫î‰ø°ÊÅØÂõûÈÄÅÂà∞ÁªàÁ´ØÊòæÁ§∫Âô®ÁöÑÊó∂Èó¥„ÄÇ ÂùáË°°ÊÄß Áî®Êà∑ÂØπÂìçÂ∫îÊó∂Èó¥ÁöÑË¶ÅÊ±ÇÂπ∂ÈùûÂÆåÂÖ®Áõ∏Âêå„ÄÇÈÄöÂ∏∏ÔºåÁî®Êà∑ÂØπ‰∫éÂ§çÊùÇÁöÑÁöÑ‰Ωú‰∏öÔºåÂìçÂ∫îÊó∂Èó¥ÂÖÅËÆ∏ËæÉÈïøÔºõÂØπ‰∫éÁÆÄÂçïÁöÑ‰Ωú‰∏öÔºåÂìçÂ∫îÊó∂Èó¥ÂàôË¶ÅÁü≠„ÄÇ 5.1.2.4 ÂÆûÊó∂Á≥ªÁªüÁöÑÁõÆÊ†á Êà™Ê≠¢Êó∂Èó¥ÁöÑ‰øùËØÅ Êà™Ê≠¢Êó∂Èó¥ÊòØÊåáÊüê‰ªªÂä°ÂøÖÈ°ªÂºÄÂßãÊâßË°åÁöÑÊúÄËøüÊó∂Èó¥ÔºåÊàñËÄÖÂøÖÈ°ªÂÆåÊàêÁöÑÊúÄËøüÊó∂Èó¥„ÄÇ ÂèØÈ¢ÑÊµãÊÄß 5.2 ‰Ωú‰∏ö‰∏é‰Ωú‰∏öË∞ÉÂ∫¶Êàë‰ª¨ÂâçÈù¢ËÆ≤Âà∞ËøáÔºåÂú®Â§öÈÅìÊâπÂ§ÑÁêÜÁ≥ªÁªü‰∏≠Ôºå‰Ωú‰∏öÁî±Áî®Êà∑Êèê‰∫§ÁªôÁ≥ªÁªüÊìç‰ΩúÂëòÔºåÂÜçÁî±Á≥ªÁªüÊìç‰ΩúÂëòÊää‰Ωú‰∏öËæìÂÖ•ÁªôÁõ∏Â∫îÁöÑËæìÂÖ•ËÆæÂ§áÔºåÂπ∂‰øùÂ≠òÂú®‰∏Ä‰∏™ÂêéÂ§áÈòüÂàó‰∏≠ÔºåÁÑ∂ÂêéÂ∞±Áî±‰Ωú‰∏öË∞ÉÂ∫¶Á®ãÂ∫èÂ∞ÜÂÖ∂‰ªéÂ§ñÂ≠òË∞ÉÂÖ•ÂÜÖÂ≠òÂÜçÊù•ËøõË°åÂ§ÑÁêÜ„ÄÇ 5.2.1 ‰Ωú‰∏ö5.2.1.1 ‰Ωú‰∏öÂíå‰Ωú‰∏öÊ≠• ‰Ωú‰∏ö ‰Ωú‰∏ö‰∏ÄËà¨ÂåÖÊã¨Á®ãÂ∫èËøòÊï∞ÊçÆÔºåËøòÂ∫îÈÖçÊúâ‰∏Ä‰ªΩ‰Ωú‰∏öËØ¥Êòé‰π¶ÔºåÁ≥ªÁªüÊ†πÊçÆËØ•ËØ¥Êòé‰π¶Êù•ÂØπÁ®ãÂ∫èÁöÑËøêË°åËøõË°åÊéßÂà∂„ÄÇ ‰Ωú‰∏öÊ≠• Âú®‰Ωú‰∏öËøêË°åÊúüÈó¥ÔºåÊØè‰∏™‰Ωú‰∏öÈÉΩÂøÖÈ°ªÁªèËøáËã•Âπ≤‰∏™Áõ∏ÂØπÁã¨Á´ãÔºåÂèàÁõ∏‰∫íÂÖ≥ËÅîÁöÑÈ°∫Â∫èÂä†Â∑•Ê≠•È™§ÊâçËÉΩÂæóÂà∞ÁªìÊûú„ÄÇÊàë‰ª¨ÊääÂÖ∂‰∏≠ÁöÑÊØè‰∏Ä‰∏™Âä†Â∑•Ê≠•È™§Áß∞‰∏∫‰∏Ä‰∏™‰Ωú‰∏öÊ≠•„ÄÇ 5.2.1.2 ‰Ωú‰∏öÊéßÂà∂ÂùóJCB‰∏∫‰∫ÜÁÆ°ÁêÜÂíåË∞ÉÂ∫¶‰Ωú‰∏öÔºåÂú®Â§öÈÅìÊâπÂ§ÑÁêÜÁ≥ªÁªü‰∏≠Ôºå‰∏∫ÊØè‰∏™‰Ωú‰∏öËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™‰Ωú‰∏öÊéßÂà∂ÂùóJCBÔºåÂ•πÊòØ‰Ωú‰∏öÂú®Á≥ªÁªü‰∏≠Â≠òÂú®ÁöÑÊ†áÂøóÔºåÂÖ∂‰∏≠‰øùÂ≠ò‰∫ÜÁ≥ªÁªüÂØπ‰Ωú‰∏öËøõË°åÁÆ°ÁêÜÂíåË∞ÉÂ∫¶ÊâÄÈúÄÁöÑÂÖ®ÈÉ®‰ø°ÊÅØ„ÄÇÈÄöÂ∏∏ÂÜÖÂÆπÊúâ‰Ωú‰∏öÊ†áËØÜ„ÄÅÁî®Êà∑ÂêçÁß∞„ÄÅÁî®Êà∑Ë¥¶Âè∑„ÄÅ‰Ωú‰∏öÁ±ªÂûã„ÄÅ‰Ωú‰∏öÁä∂ÊÄÅ„ÄÅË∞ÉÂ∫¶‰ø°ÊÅØ„ÄÅËµÑÊ∫êÈúÄÊ±Ç„ÄÅËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµÁ≠â„ÄÇ 5.2.1.3 ‰Ωú‰∏öËøêË°åÁöÑ‰∏â‰∏™Èò∂ÊÆµÂíå‰∏âÁßçÁä∂ÊÄÅ Êî∂ÂÆπÈò∂ÊÆµ Êìç‰ΩúÂëòÊääÁî®Êà∑Êèê‰∫§ÁöÑ‰Ωú‰∏öÈÄöËøáÊüêÁßçËæìÂÖ•ÊñπÂºèÊàñSPOOLingÁ≥ªÁªüËæìÂÖ•Âà∞Á°¨Áõò‰∏äÔºåÂÜç‰∏∫Êîπ‰Ωú‰∏öÂª∫Á´ãPCBÔºåÂπ∂ÊääÂÆÉÊîæÂÖ•‰Ωú‰∏öÂêéÂ§áÈòüÂàó‰∏≠„ÄÇ‰Ωú‰∏öÊ≠§Êó∂ÁöÑÁä∂ÊÄÅ‰∏∫ÂêéÂ§áÁä∂ÊÄÅ ËøêË°åÈò∂ÊÆµ ÂΩì‰Ωú‰∏öË¢´‰Ωú‰∏öË∞ÉÂ∫¶ÈÄâ‰∏≠ÂêéÔºåÂèò‰∏∫ÂÆÉÂàÜÈÖçÂøÖË¶ÅÁöÑËµÑÊ∫êÂíåÂª∫Á´ãËøõÁ®ãÔºåÂπ∂Â∞ÜÂÆÉÊîæÂÖ•Â∞±Áª™ÈòüÂàó„ÄÇ‰∏Ä‰∏™‰Ωú‰∏ö‰ªéÁ¨¨‰∏ÄÊ¨°ËøõÂÖ•Â∞±Áª™Áä∂ÊÄÅÂºÄÂßãÔºåÁü•ÈÅì‰ªñËøêË°åÁªìÊùüÂâçÔºåÈÉΩÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅ ÂÆåÊàêÈò∂ÊÆµ ÂΩì‰Ωú‰∏öËøêË°åÂÆåÊàêÔºåÊàñËÄÖÂèëÁîüÂºÇÂ∏∏ÊÉÖÂÜµÊèêÂâçÁªìÊùüÊó∂Ôºå‰Ωú‰∏ö‰æøËøõÂÖ•ÂÆåÊàêÈò∂ÊÆµÔºåÁõ∏Â∫îÁöÑ‰Ωú‰∏öÁä∂ÊÄÅ‰∏∫‚ÄúÂÆåÊàêÁä∂ÊÄÅ‚Äù„ÄÇ 5.2.2 ‰Ωú‰∏öË∞ÉÂ∫¶ÁöÑ‰∏ªË¶Å‰ªªÂä°‰Ωú‰∏öË∞ÉÂ∫¶ÁöÑ‰∏ªË¶Å‰ªªÂä°Â∞±ÊòØÊ†πÊçÆJCB‰∏≠ÁöÑÂÜÖÂÆπÔºåÊ£ÄÊü•Á≥ªÁªü‰∏≠ÁöÑËµÑÊ∫êËÉΩÂê¶Êª°Ë∂≥‰Ωú‰∏öÂØπËµÑÊ∫êÁöÑÈúÄÊ±ÇÔºå‰ª•ÂèäÊåâÁÖß‰∏ÄÂÆöÁöÑË∞ÉÂ∫¶ÁÆóÊ≥ïÔºå‰ªéÂ§ñÂ≠òÁöÑÂêéÂ§áÈòüÂàó‰∏≠ÈÄâÂèñÊüê‰∫õ‰Ωú‰∏öË∞ÉÂÖ•ÂÜÖÂ≠ò„ÄÇÂπ∂‰∏∫ÂÆÉ‰ª¨ÂàõÂª∫ËøõÁ®ã„ÄÅÂàÜÈÖçÂøÖË¶ÅÁöÑËµÑÊ∫ê„ÄÇÁÑ∂ÂêéÂÜçÂ∞ÜÊñ∞ÂàõÂª∫ÁöÑËøõÁ®ãÊéíÂú®Â∞±Áª™ÈòüÂàó‰∏äÁ≠âÂæÖË∞ÉÂ∫¶„ÄÇÂõ†Ê≠§Ôºå‰πüÊää‰Ωú‰∏öË∞ÉÂ∫¶Áß∞‰∏∫Êé•Á∫≥Ë∞ÉÂ∫¶„ÄÇÂú®ÊØèÊ¨°ÊâßË°å‰Ωú‰∏öË∞ÉÂ∫¶Êó∂ÔºåÈÉΩÈúÄË¶ÅÂÅöÂá∫‰ª•‰∏ã‰∏§‰∏™ÂÜ≥ÂÆöÔºö Êé•Á∫≥Â§öÂ∞ë‰∏™‰Ωú‰∏ö Âú®ÊØè‰∏ÄÊ¨°‰Ωú‰∏öË∞ÉÂ∫¶Êó∂ÔºåÂ∫îÂΩì‰ªéÂêéÂ§áÈòüÂàó‰∏≠ÈÄâÂèñÂ§öÂ∞ë‰Ωú‰∏öË∞ÉÂÖ•ÂÜÖÂ≠òÔºåÂèñÂÜ≥‰∫éÂ§öÈÅìÁ®ãÂ∫èÂ∫¶ÔºåÂç≥ÂÖÅËÆ∏Â§öÂ∞ë‰∏™‰Ωú‰∏öÂêåÊó∂Âú®ÂÜÖÂ≠ò‰∏≠ËøêË°å„ÄÇ Êé•Á∫≥Âì™‰∫õ‰Ωú‰∏ö ÈÄâÊã©Âì™‰∫õ‰Ωú‰∏öÂèñÂÜ≥‰∫éÔºå‰Ωú‰∏öË∞ÉÂ∫¶ÈááÁî®Âì™ÁßçÁÆóÊ≥ï„ÄÇ 5.3 ‰Ωú‰∏öË∞ÉÂ∫¶ÁÆóÊ≥ï5.3.1 ÂÖàÊù•ÂÖàÊúçÂä°ÔºàFCFSÔºâÁÆóÊ≥ïÁÆóÊ≥ïÂØπ‰∫éËøô‰∏™ÁÆóÊ≥ïÔºåÂÖ´‰∏™Â≠ó‚Äî‚ÄîÁÆÄÂçïÁ≤óÊö¥ÔºåÊ≤°Âï•ÂèØËÆ≤„ÄÇ‰Ω†Êù•ÁöÑÊó©ÊàëÂ∞±ÂÖàÊúçÂä°‰Ω†ÔºåÂÖ∂‰ªñ‰∫∫‰∏çÁÆ°ÂÜçÁâõÈÄº‰Ω†Êù•Êôö‰∫Ü‰Ω†Â∞±ÊòØÂºüÂºüÔºå‰Ω†ÂæóÁ≠âÊàëÂÖàÊääÂâçÈù¢Ëøô‰ΩçÊúçÂä°Â•Ω‰∫ÜÂÜçÊù•ÊúçÂä°‰Ω†„ÄÇ 5.3.2 Áü≠‰Ωú‰∏ö‰ºòÂÖàÔºàSJFÔºâË∞ÉÂ∫¶ÁÆóÊ≥ïÂØπ‰∫éËøô‰∏™ÁÆóÊ≥ïÔºå‰ªñ‰πüÊòØÂü∫‰∫éÂÖàÊù•ÂÖàÊúçÂä°ÔºåÂè™ÊòØÂ§ö‰∫Ü‰∏™ËÄÉËôëËåÉÂõ¥ÔºåÂ∞±ÊòØÂéüÂàô‰∏äËøòÊòØÂÖàÂà∞ÂÖàÊúçÂä°Ôºå‰ΩÜÊòØÂΩìÊúçÂä°ÂÆå‰∏Ä‰∏™‰πãÂêéÂπ∂‰∏îËøòÊúâÂæàÂ§ö‰∏™ÂÜçÁ≠âÁùÄË¢´ÊúçÂä°Êó∂ÔºåÂ∞±‰ªé‰∏≠Êâæ‰∏Ä‰∏™ÈúÄË¶ÅÊúçÂä°Êó∂Èó¥ÊúÄÁü≠ÁöÑÂÖàÊù•ÊúçÂä°ÔºåÊúçÂä°ÂÆå‰ªñ‰∫ÜÔºåÂú®‰ªéÂâ©‰∏ãÁöÑÊâæ‰∏Ä‰∏™ÊúÄÁü≠ÁöÑÊù•ÊúçÂä°„ÄÇËøô‰∏™ÁÆóÊ≥ïÊúâÂá†‰∏™Áº∫ÁÇπÔºö ÂøÖÈ°ªÈ¢ÑÁü•‰Ωú‰∏öÁöÑËøêË°åÊó∂Èó¥ ÂØπÈïø‰Ωú‰∏öÂæà‰∏çÂà© ‰∫∫Êú∫Êó†Ê≥ï‰∫§‰∫í Ê≤°ÊúâËÄÉËôë‰Ωú‰∏öÊâßË°åÁöÑÁ¥ßËø´ÊÑüÔºåÂØπÊÄ•ÈúÄÊúçÂä°ÁöÑ‰Ωú‰∏ö‰∏çÁÆ° 5.3.3 ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ïÔºàPSAÔºâÂú®‰ºòÂÖàÁ∫ßÁÆóÊ≥ï‰∏≠ÔºåÂü∫‰∫é‰Ωú‰∏öÁöÑÁ¥ßËø´Á®ãÂ∫¶ÔºåÂ§ñÈÉ®‰ºöËµã‰∫àËøõÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÔºåÁÑ∂Âêé‰ºòÂÖàÁ∫ßÁÆóÊ≥ïÂ∞±Ê†πÊçÆÁÆóÊ≥ïÁöÑ‰ºòÂÖàÁ∫ßÔºåËøõË°åË∞ÉÂ∫¶„ÄÇÁÆóÊ≥ïÂÆûË¥®‰∏äÁ±ª‰ºº‰∫éÁü≠‰Ωú‰∏ö‰ºòÂÖàÔºå‰Ω†ÁîöËá≥ÂèØ‰ª•ÊääÁü≠‰Ωú‰∏ö‰ºòÂÖàÁ∫ßÁÆóÊ≥ï‰πüÁúãÂÅöÊòØ‰ºòÂÖàÁ∫ßÁÆóÊ≥ïÔºåÂè™‰∏çËøá‰ªñÁöÑ‰ºòÂÖàÁ∫ßÊòØ‰Ωú‰∏öÈïøÁü≠ÔºåËÄå‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑ‰ºòÂÖàÁ∫ßÊòØËøõÁ®ãÁöÑÁ¥ßËø´Á®ãÂ∫¶„ÄÇ 5.3.4 È´òÂìçÂ∫îÊØî‰ºòÂÖàË∞ÉÂ∫¶ÁÆóÊ≥ïÔºàHRRNÔºâFCFSÁÆóÊ≥ïÊòØËÄÉËôë‰∫Ü‰Ωú‰∏öÁöÑÁ≠âÂæÖÊó∂Èó¥ÔºåÂç¥ÂøΩÁï•ÁöÑ‰Ωú‰∏öÁöÑËøêË°åÊó∂Èó¥ÔºõËÄåSJFÁÆóÊ≥ïÊòØÂè™ËÄÉËôë‰∫Ü‰Ωú‰∏öÁöÑËøêË°åÊó∂Èó¥ÔºåÂç¥ÂøΩÁï•‰∫Ü‰Ωú‰∏öÁöÑÁ≠âÂæÖÊó∂Èó¥„ÄÇÈ´òÂìçÂ∫îÊØîÁÆóÊ≥ïÊòØÂèàËÄÉËôëËøêË°åÊó∂Èó¥ÂèàËÄÉËôëÁ≠âÂæÖÊó∂Èó¥ÔºåÂõ†Ê≠§Êó¢ËÉΩÁÖßÈ°æÁü≠‰Ωú‰∏öÔºåÂèà‰∏çËá¥‰ΩøÈïø‰Ωú‰∏öÁöÑÁ≠âÂæÖÊó∂Èó¥ËøáÈïø„ÄÇ ‰ªñ‰∏∫ÊØè‰∏™‰Ωú‰∏öÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Âä®ÊÄÅ‰ºòÂÖàÁ∫ßÔºåÂç≥‰ºòÂÖàÁ∫ßÊòØÂèØ‰ª•ÊîπÂèòÁöÑÔºåÂÆÉÈöèÁùÄÁ≠âÂæÖÊó∂Èó¥ÁöÑÂª∂ÈïøËÄåÂ¢ûÂä†ÔºåËøô‰ΩøÂæóÈïø‰Ωú‰∏öÁöÑ‰ºòÂÖàÁ∫ßÂú®Á≠âÂæÖÊúüÈó¥‰∏çÊñ≠Âú∞Â¢ûÂä†ÔºåÁ≠âÂà∞Ë∂≥Â§üÁöÑÊó∂Èó¥ÂêéÔºåÂøÖÁÑ∂ÊúâÊú∫‰ºöËé∑ÂæóÂ§ÑÁêÜÊú∫„ÄÇËøô‰∏™ÂèòÂåñËßÑÂæãÂèØÊèèËø∞‰∏∫Ôºö ‰ºòÂÖàÁ∫ß=\frac{Á≠âÂæÖÊó∂Èó¥+Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥}{Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥}Áî±‰∫éÁ≠âÂæÖÊó∂Èó¥‰∏éÊúçÂä°Êó∂Èó¥‰πãÂíåÂ∞±ÊòØÁ≥ªÁªüÂØπËØ•‰Ωú‰∏öÁöÑÂìçÂ∫îÊó∂Èó¥ÔºåÊïÖËØ•‰ºòÂÖàÁ∫ßÂèàÁõ∏ÂΩì‰∫éÂìçÂ∫îÊØî$R_p$„ÄÇÊâÄ‰ª•Ôºå‰ºòÂÖàÁ∫ßÂèàÂèØË°®Á§∫‰∏∫ÔºöR_p=\frac{Á≠âÂæÖÊó∂Èó¥+Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥}{Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥}=\frac{ÂìçÂ∫îÊó∂Èó¥}{Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥} ‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂá∫ Â¶ÇÊûú‰Ωú‰∏öÁöÑÁ≠âÂæÖÊó∂Èó¥Áõ∏ÂêåÔºåÂàôË¶ÅÊ±ÇÊúçÂä°ÁöÑÊó∂Èó¥Ë∂äÁü≠Ôºå‰ºòÂÖàÁ∫ßË∂äÈ´ò ÂΩìË¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥Áõ∏ÂêåÊó∂Ôºå‰Ωú‰∏öÁöÑ‰ºòÂÖàÁ∫ßÂÜ≥ÂÆö‰∫éÂÖ∂Á≠âÂæÖÊó∂Èó¥ ÂØπ‰∫éÈïø‰Ωú‰∏öÁöÑ‰ºòÂÖàÁ∫ßÔºåÂèØ‰ª•ÈöèÁ≠âÂæÖÊó∂Èó¥ÁöÑÂ¢ûÂä†ËÄåÊèêÈ´ò 5.4 ËøõÁ®ãË∞ÉÂ∫¶5.4.1 ËøõÁ®ãË∞ÉÂ∫¶ÁöÑ‰ªªÂä°„ÄÅÊú∫Âà∂ÂíåÊñπÂºè5.4.1.1 ËøõÁ®ãË∞ÉÂ∫¶ÁöÑ‰ªªÂä° ‰øùÂ≠òÂ§ÑÁêÜÊú∫ÁöÑÁé∞Âú∫‰ø°ÊÅØ Âú®ËøõË°åË∞ÉÂ∫¶Êó∂È¶ñÂÖàÈúÄË¶Å‰øùÂ≠òÂΩìÂâçËøõÁ®ãÂ§ÑÁêÜÊú∫ÁöÑÁé∞Âú∫‰ø°ÊÅØ„ÄÇ ÊåâÊüêÁßçÁÆóÊ≥ïÈÄâÂèñËøõÁ®ã Ë∞ÉÂ∫¶Á®ãÂ∫èÊåâÊüêÁßçÁÆóÊ≥ï‰ªéÂ∞±Áª™ÈòüÂàó‰∏≠ÈÄâÂèñ‰∏Ä‰∏™ËøõÁ®ãÔºåÂ∞ÜÂÖ∂Áä∂ÊÄÅÊîπ‰∏∫ËøêË°åÁä∂ÊÄÅÔºåÂπ∂ÂáÜÂ§áÊääÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªô‰ªñ„ÄÇ ÊääÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôËøõÁ®ã Áî±ÂàÜÊ¥æÁ®ãÂ∫èÊääÂ§ÑÁêÜÂô®ÂàÜÈÖçÁªôËØ•ËøõÁ®ãÔºåÊ≠§Êó∂ÈúÄË¶ÅÂ∞ÜÈÄâ‰∏≠ËøõÁ®ãÁöÑËøõÁ®ãÊéßÂà∂ÂùóÂÜÖÊúâÂÖ≥Â§ÑÁêÜÊú∫Áé∞Âú∫ÁöÑ‰ø°ÊÅØË£ÖÂÖ•Â§ÑÁêÜÂô®Áõ∏Â∫îÁöÑÂêÑ‰∏™ÂØÑÂ≠òÂô®‰∏≠ÔºåÊääÂ§ÑÁêÜÂô®ÁöÑÊéßÂà∂ÊùÉ‰∫§‰∫àËØ•ËøõÁ®ãÔºåËÆ©ÂÆÉ‰ªé‰∏äÊ¨°ÁöÑÊñ≠ÁÇπÂ§ÑÊÅ¢Â§çËøêË°å„ÄÇ 5.4.1.2 ËøõÁ®ãË∞ÉÂ∫¶Êú∫Âà∂‰∏∫‰∫ÜÂÆûÁé∞ËøõÁ®ãË∞ÉÂ∫¶ÔºåÂú®ËøõÁ®ãË∞ÉÂ∫¶Êú∫Âà∂‰∏≠ÔºåÂ∫îÂÖ∑ÊúâÂ¶Ç‰∏ã‰∏â‰∏™Âü∫Êú¨ÈÉ®ÂàÜÔºö ÊéíÈòüÂô®‰∏∫‰∫ÜÊèêÈ´òËøõÁ®ãË∞ÉÂ∫¶ÁöÑÊïàÁéáÔºåÂ∫î‰∫ãÂÖàÂ∞ÜÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâÂ∞±Áª™ËøõÁ®ãÊåâÁÖß‰∏ÄÂÆöÁöÑÁ≠ñÁï•ÊéíÊàê‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÈòüÂàóÔºå‰ª•‰æøË∞ÉÂ∫¶Á®ãÂ∫èËÉΩÊúÄÂø´ÁöÑÊâæÂà∞ÂÆÉ„ÄÇ ÂàÜÊ¥æÂô®ÂàÜÊ¥æÂô®‰æùÊçÆËøõÁ®ãË∞ÉÂ∫¶Á®ãÂ∫èÊâÄÈÄâÂÆöÁöÑËøõÁ®ãÔºåÂ∞ÜÂÖ∂‰ªéÂ∞±Áª™ÈòüÂàó‰∏≠ÂèñÂá∫ÔºåÁÑ∂ÂêéËøõË°å‰ªéÂàÜÊ¥æÂô®Âà∞Êñ∞ÈÄâÂá∫ËøõÁ®ãÈó¥ÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂ∞ÜÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôÊñ∞ÈÄâÂá∫ÁöÑËøõÁ®ã„ÄÇ ‰∏ä‰∏ãÊñáÂàáÊç¢Âô®Âú®ÂØπÂ§ÑÁêÜÊú∫ËøõË°åÂàáÊç¢Êó∂Ôºå‰ºöÂèëÁîü‰∏§ÂØπ‰∏ä‰∏ãÊñáÁöÑÂàáÊç¢Êìç‰Ωú ÂØπ‰∏ä‰∏ãÊñáÂàáÊç¢Êó∂ÔºåOSÂ∞Ü‰øùÂ≠òÂΩìÂâçËøõÁ®ãÁöÑ‰∏ä‰∏ãÊñáÔºåÂç≥ÊääÂΩìÂâçËøõÁ®ãÁöÑÂ§ÑÁêÜÊú∫ÂØÑÂ≠òÂô®ÁöÑÂÜÖÂÆπ‰øùÂ≠òÂà∞ËØ•ËøõÁ®ãÁöÑËøõÁ®ãÊéßÂà∂Âùó‰∏≠ÁöÑÁõ∏Â∫îÂçïÂÖÉÔºåÂÜçË£ÖÂÖ•ÂàÜÊ¥æÁ®ãÂ∫èÁöÑ‰∏ä‰∏ãÊñáÔºå‰ª•‰æøÂàÜÊ¥æÁ®ãÂ∫èËøêË°å ÂØπ‰∏ä‰∏ãÊñáÂàáÊç¢ÊòØÁßªÈô§ÂàÜÊ¥æÁ®ãÂ∫èÁöÑ‰∏ä‰∏ãÊñáÔºåËÄåÊääÊñ∞ÈÄâËøõÁ®ãÁöÑCPUÁé∞Âú∫‰ø°ÊÅØË£ÖÂÖ•Âà∞Â§ÑÁêÜÊú∫ÁöÑÂêÑ‰∏™Áõ∏Â∫îÂØÑÂ≠òÂô®‰∏≠Ôºå‰ª•‰æøÊñ∞ÈÄâËøõÁ®ãËøêË°å 5.4.1.3 ËøõÁ®ãË∞ÉÂ∫¶ÊñπÂºè ÈùûÊä¢Âç†ÊñπÂºè Âú®ËøôÁßçÊñπÂºè‰∏ãÔºå‰∏ÄÊó¶Â§ÑÁêÜÊú∫ÂàÜÊ¥æÁªô‰∏Ä‰∏™ËøõÁ®ãÂêéÔºåÂ∞±‰∏ÄÊ¨°ÊÄß‰∏ÄÁõ¥Â§ÑÁêÜ‰∏ãÂéªÔºåÁõ¥Âà∞ËØ•ËøõÁ®ãË¢´Â§ÑÁêÜÂÆå„ÄÇ Êä¢Âç†ÊñπÂºè ËøôÁßçË∞ÉÂ∫¶ÊñπÂºèÂÖÅËÆ∏Ë∞ÉÂ∫¶Á®ãÂ∫èÊ†πÊçÆÊüêÁßçÂéüÂàôÔºåÂéªÊöÇÂÅúÊüê‰∏™Ê≠£Âú®ÊâßË°åÁöÑÁ®ãÂ∫èÔºåÂ∞ÜÂ∑≤ÂàÜÈÖçÁªôËØ•ËøõÁ®ãÁöÑÂ§ÑÁêÜÊú∫ÈáçÊñ∞ÂàÜÈÖçÁªôÂè¶‰∏ÄËøõÁ®ã„ÄÇ ÂÆÉÈÅµÂæ™ÁöÑ‰∏ªË¶ÅÂéüÂàôÊúâÔºö ‰ºòÂÖàÊùÉÂéüÂàôÔºå‰ºòÂÖàÁ∫ßÈ´òÁöÑÊñ∞Âà∞ËøõÁ®ãÊä¢Âç†Ê≠£Âú®ËøêË°åÁöÑ‰ºòÂÖàÁ∫ß‰ΩéÁöÑËøõÁ®ã Áü≠ËøõÁ®ã‰ºòÂÖàÂéüÂàôÔºåÈúÄË¶ÅËøêË°åÊó∂Èó¥Êõ¥Áü≠ÁöÑÊñ∞Âà∞ËøõÁ®ãÊä¢Âç†Ê≠£Âú®ËøêË°åÁöÑÈúÄË¶ÅËøêË°åÊó∂Èó¥Êõ¥ÈïøÁöÑËøõÁ®ã Êó∂Èó¥ÁâáÂéüÂàôÔºåÂêÑËøõÁ®ãÊåâÊó∂Èó¥ÁâáËΩÆËΩ¨ËøêË°åÔºåÂΩìÊ≠£Âú®ÊâßË°åÁöÑËøõÁ®ãÁöÑ‰∏Ä‰∏™Êó∂Èó¥ÁâáÁî®ÂÆåÂêéÔºå‰æøÂÅúÊ≠¢ËØ•ËøõÁ®ãÁöÑÊâßË°åËÄåÈáçÊñ∞ËøõË°åË∞ÉÂ∫¶ 5.4.2 ËΩÆËΩ¨Ë∞ÉÂ∫¶ÁÆóÊ≥ïÂú®ÂàÜÊó∂Á≥ªÁªü‰∏≠ÔºåÊúÄÂ∏∏Áî®‰πüÊòØÊúÄÁÆÄÂçïÁöÑÂ∞±ÊòØÂü∫‰∫éÊó∂Èó¥ÁâáÁöÑËΩÆËΩ¨Ë∞ÉÂ∫¶ÁÆóÊ≥ï„ÄÇËØ•ÁÆóÊ≥ïÈááÂèñ‰∫ÜÈùûÂ∏∏ÂÖ¨Âπ≥ÁöÑÂ§ÑÁêÜÊú∫ÂàÜÈÖçÊñπÂºèÔºåÂç≥ËÆ©Â∞±Áª™ÈòüÂàó‰∏äÊØè‰∏™ËøõÁ®ãÊØèÊ¨°‰ªÖËøêË°å‰∏Ä‰∏™Êó∂Èó¥Áâá„ÄÇn‰∏™ËøõÁ®ãÊØè‰∏™ÈÉΩËøêË°å$\frac{1}{n}$ÁöÑÂ§ÑÁêÜÊú∫Êó∂Èó¥„ÄÇ 5.4.2.1 Âü∫Êú¨ÂéüÁêÜÂú®RRÁÆóÊ≥ï‰∏≠ÔºåÁ≥ªÁªüÊ†πÊçÆFCFSÁ≠ñÁï•ÔºåÂ∞ÜÊâÄÊúâÁöÑÂ∞±Áª™ËøõÁ®ãÊéíÊàê‰∏Ä‰∏™Â∞±Áª™ÈòüÂàóÔºåÂπ∂ÂèØËÆæÁΩÆÊØèÈöî‰∏ÄÂÆöÊó∂Èó¥Èó¥ÈöîÂç≥‰∫ßÁîü‰∏ÄÊ¨°‰∏≠Êñ≠ÔºåÊøÄÊ¥ªÁ≥ªÁªü‰∏≠ÁöÑËøõÁ®ãË∞ÉÂ∫¶Á®ãÂ∫èÔºåÂÆåÊàê‰∏ÄÊ¨°Ë∞ÉÂ∫¶ÔºåÂ∞ÜCPUÂàÜÈÖçÁªôÈòüÈ¶ñËøõÁ®ãÔºå‰ª§ÂÖ∂ÊâßË°å„ÄÇ 5.4.2.2 ËøõÁ®ãÂàáÊç¢Êó∂Êú∫ Â¶ÇÊûú‰∏Ä‰∏™Êó∂Èó¥ÁâáÂ∞öÊú™Áî®ÂÆå‰ΩÜÊòØÊ≠£Âú®ËøêË°åÁöÑËøõÁ®ãÂ∑≤ÁªèÂÆåÊàêÔºåÊ≠§Êó∂ÂèØ‰ª•ÂàáÊç¢ Âú®‰∏Ä‰∏™Êó∂Èó¥ÁâáÁî®ÂÆåÔºåÊ≠£Âú®ÊâßË°åÁöÑËøõÁ®ãËøòÊú™ÊâßË°åÂÆåÊàêÔºåËøôÊó∂‰πüÂèØ‰ª•ÂàáÊç¢ 5.4.2.3 Êó∂Èó¥ÁâáÂ§ßÂ∞èÁöÑÁ°ÆÂÆöÂú®RRÁÆóÊ≥ï‰∏≠ÔºåÊó∂Èó¥ÁâáÁöÑÂ§ßÂ∞èÂØπÁ≥ªÁªüÊÄßËÉΩÊúâÂæàÂ§ßÁöÑÂΩ±Âìç„ÄÇÂ¶ÇÊûúÈÄâÊã©ÂæàÂ∞èÁöÑÊó∂Èó¥ÁâáÔºåÊúâÂà©‰∫éÁü≠‰Ωú‰∏öÔºåÂõ†‰∏∫‰ªñËÉΩÂú®ËØ•Êó∂Èó¥ÁâáÂÜÖÂÆåÊàêÔºå‰ΩÜÊó∂Èó¥ÁâáÂ∞èÔºåÊÑèÂë≥ÁùÄ‰ºöÈ¢ëÁπÅË∞ÉÂ∫¶ÔºåËøôÊó†Áñë‰ºöÂ¢ûÂä†Á≥ªÁªüÂºÄÈîÄ„ÄÇ Â¶ÇÊûúÊó∂Èó¥ÁâáÈÄâÊã©Â§™ÈïøÔºåËøôÊ†∑ÁöÑËØùRRÂèØËÉΩ‰ºöÈÄÄÂåñÊàêFCFSÔºåÊó†Ê≥ïÊª°Ë∂≥Áü≠‰Ωú‰∏öÂíå‰∫§‰∫íÂºèÁî®Êà∑ÁöÑÈúÄÊ±Ç„ÄÇ 5.4.3 ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ïÂú®RRÁÆóÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÂÅáËÆæ‰∫ÜÊâÄÊúâËøõÁ®ãÁöÑÁ¥ßËø´ÊÄßÊòØÁõ∏ÂêåÁöÑÔºå‰ΩÜÊòØÂÆûÈôÖÊÉÖÂÜµÂπ∂ÈùûÂ¶ÇÊ≠§„ÄÇÊàë‰ª¨‰∏∫‰∫ÜÊª°Ë∂≥ÂÆûÈôÖÊÉÖÂÜµÔºåÂú®ËøõÁ®ãË∞ÉÂ∫¶ÁÆóÊ≥ï‰∏≠ÂºïÂÖ•‰∫Ü‰ºòÂÖàÁ∫ßÔºåËÄåÂΩ¢ÊàêÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ï„ÄÇ 5.4.3.1 ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑÁ±ªÂûã ÈùûÊä¢Âç†Âºè‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ï Êä¢Âç†Âºè‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ï ËøôÂùóÂíåÂâçÈù¢Ë∞ÉÂ∫¶ÁÆóÊ≥ïÊñπÂºè‰∏ÄÊ†∑ÔºåÂú®Ê≠§Â∞±‰∏çÂ§öËØ¥„ÄÇ 5.4.3.2 ‰ºòÂÖàÁ∫ßÁ±ªÂûã5.4.3.2.1 ÈùôÊÄÅ‰ºòÂÖàÁ∫ßÈùôÊÄÅ‰ºòÂÖàÁ∫ßÊòØÂú®ÂàõÂª∫ËøõÁ®ãÊó∂Á°ÆÂÆöÁöÑÔºåÂú®ËøõÁ®ãÁöÑÊï¥‰∏™ËøêË°åÊúüÈó¥‰øùÊåÅ‰∏çÂèò„ÄÇ‰ºòÂÖàÁ∫ßÊòØÂà©Áî®Êüê‰∏ÄËåÉÂõ¥ÂÜÖÁöÑ‰∏Ä‰∏™Êï¥Êï∞Êù•Ë°®Á§∫ÁöÑ„ÄÇÁ°ÆÂÆöËøõÁ®ã‰ºòÂÖàÁ∫ßÂ§ßÂ∞èÁöÑ‰æùÊçÆÊúâÂ¶Ç‰∏ã‰∏â‰∏™Ôºö ËøõÁ®ãÁ±ªÂûãÔºåÈÄöÂ∏∏Á≥ªÁªüËøõÁ®ãÁöÑ‰ºòÂÖàÁ∫ß‰∏ÄËà¨È´ò‰∫éÁî®Êà∑ËøõÁ®ã„ÄÇ ËøõÁ®ãÂØπËµÑÊ∫êÁöÑÈúÄÊ±ÇÔºåÂØπËµÑÊ∫êË¶ÅÊ±ÇËæÉÂ∞ëÁöÑËøõÁ®ãÂ∫îËµã‰∫àËæÉÈ´òÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ Áî®Êà∑Ë¶ÅÊ±ÇÔºåÊ†πÊçÆËøõÁ®ãÁöÑÁ¥ßËø´Á®ãÂ∫¶ÂèäÁî®Êà∑ÊâÄ‰ªòË¥πÁî®ÁöÑÂ§öÂ∞ëÁ°ÆÂÆö‰ºòÂÖàÁ∫ß„ÄÇ ÈùôÊÄÅ‰ºòÂÖàÁ∫ßÊ≥ïÁÆÄÂçïÊòìË°åÔºåÁ≥ªÁªüÂºÄÈîÄÂ∞èÔºå‰ΩÜÊòØ‰∏çÂ§üÁ≤æÁ°ÆÔºåÂèØËÉΩ‰ºöÂá∫Áé∞‰ºòÂÖàÁ∫ß‰ΩéÁöÑËøõÁ®ãÈïøÊúüÊ≤°ÊúâË¢´Ë∞ÉÂ∫¶ÁöÑÊÉÖÂÜµ„ÄÇ 5.4.3.2.2 Âä®ÊÄÅ‰ºòÂÖàÁ∫ßÂä®ÊÄÅ‰ºòÂÖàÁ∫ßÊòØÊåáËøõÁ®ãÂàõÂª∫‰πãÂàùÔºåÂÖàËµã‰∫à‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÔºåÁÑ∂ÂêéÊ†πÊçÆËøõÁ®ãÁöÑÊé®ËøõÊàñÁ≠âÂæÖÊó∂Èó¥ÁöÑÂ¢ûÂä†ËÄåÊîπÂèòÔºå‰ª•‰æøËé∑ÂæóÊõ¥Â•ΩÁöÑË∞ÉÂ∫¶ÊÄßËÉΩ„ÄÇ 5.4.4 Â§öÈòüÂàóË∞ÉÂ∫¶ÁÆóÊ≥ï‰πãÂâçÊâÄËø∞ÁöÑÂêÑÁßçË∞ÉÂ∫¶ÁÆóÊ≥ïÔºåÂú®Â∫îÁî®‰∫éËøõÁ®ãË∞ÉÂ∫¶Êó∂ÔºåÁî±‰∫éÁ≥ªÁªü‰∏≠‰ªÖËÆæÁΩÆ‰∏Ä‰∏™ËøõÁ®ãÁöÑÂ∞±Áª™ÈòüÂàóÔºåÂç≥‰ΩéÁ∫ßË∞ÉÂ∫¶ÁöÑÁÆóÊ≥ïÊòØÂçï‰∏ÄÁöÑÔºåÂõ∫ÂÆöÁöÑÔºåÊó†Ê≥ïÊª°Ë∂≥Á≥ªÁªü‰∏≠‰∏çÂêåÁî®Êà∑ÂØπËøõÁ®ãË∞ÉÂ∫¶Á≠ñÁï•ÁöÑ‰∏çÂêåË¶ÅÊ±ÇÔºåÂú®Â§öÂ§ÑÁêÜÊú∫Á≥ªÁªü‰∏≠ÔºåËøôÁßçÂçï‰∏ÄË∞ÉÂ∫¶Á≠ñÁï•ÂÆûÁé∞Êú∫Âà∂Áº∫ÁÇπÊõ¥Âä†ÊòéÊòæ„ÄÇÂõ†Ê≠§Â§öÁ∫ßÈòüÂàóÁÆóÊ≥ïËÉΩÂ§üÂú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂº•Ë°•Ëøô‰∏ÄÁº∫ÁÇπ„ÄÇ Â§öÁ∫ßÈòüÂàóÁÆóÊ≥ïÂ∞ÜËøõÁ®ãÂ∞±Áª™ÈòüÂàóÊãÜÂàÜÊàêËã•Âπ≤‰∏™Ôºå‰∏çÂêåÁöÑÂ∞±Áª™ÈòüÂàóÈááÁî®‰∏çÂêåÁöÑË∞ÉÂ∫¶ÁÆóÁÆóÊ≥ïÔºåÊâÄ‰ª•ÂèØ‰ª•ÂæàÂ•ΩÁöÑÊª°Ë∂≥‰∏çÂêåÁî®Êà∑ÂØπËøõÁ®ãË∞ÉÂ∫¶Á≠ñÁï•ÁöÑ‰∏çÂêåÈúÄÊ±ÇÔºåÂêåÊó∂‰πüÂèØ‰ª•Êª°Ë∂≥Â§öÂ§ÑÁêÜÊú∫Á≥ªÁªüÁöÑÈúÄÊ±Ç„ÄÇ 5.4.5 Â§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶ÁÆóÊ≥ïÂâçÈù¢ÁöÑÁÆóÊ≥ïÈÉΩÊúâ‰∏ÄÂÆöÁöÑÂ±ÄÈôêÊÄßÔºåÂ¶ÇÊûúÊú™ÊåáÊòéËøõÁ®ãÈïøÂ∫¶ÔºåÂàôÁü≠ËøõÁ®ã‰ºòÂÖàÂíåÂü∫‰∫éËøõÁ®ãÈïøÂ∫¶ÁöÑÊä¢Âç†ÂºèË∞ÉÂ∫¶ÁÆóÊ≥ïÈÉΩÂ∞ÜÊó†Ê≥ï‰ΩøÁî®„ÄÇËÄå‰∏ãËø∞ÁöÑÂ§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶ÁÆóÊ≥ïÂàô‰∏çÂøÖ‰∫ãÂÖàÁü•ÈÅìÂêÑÁßçËøõÁ®ãÊâÄÈúÄÁöÑÊâßË°åÊó∂Èó¥ÔºåËøòÂèØ‰ª•ÂæàÂ•ΩÂú∞Êª°Ë∂≥ÂêÑÁßçÁ±ªÂûãËøõÁ®ãÁöÑÈúÄË¶ÅÔºåÂõ†ËÄå‰ªñÊòØÁõÆÂâçÂÖ¨ËÆ§ÁöÑ‰∏ÄÁßçËæÉÂ•ΩÁöÑËøõÁ®ãË∞ÉÂ∫¶ÁÆóÊ≥ï„ÄÇ 5.4.5.1 Ë∞ÉÂ∫¶Êú∫Âà∂ ËÆæÁΩÆÂ§ö‰∏™Â∞±Áª™ÈòüÂàó„ÄÇÂú®Á≥ªÁªü‰∏≠ËÆæÁΩÆÂ§ö‰∏™Â∞±Áª™ÈòüÂàóÔºåÂπ∂Êú™ÊØè‰∏™ÈòüÂàóËµã‰∫à‰∏çÂêåÁöÑ‰ºòÂÖàÁ∫ß„ÄÇÁ¨¨‰∏Ä‰∏™ÈòüÂàóÁöÑ‰ºòÂÖàÁ∫ßÊúÄÈ´òÔºåÁ¨¨‰∫åÊ¨°‰πãÔºåÂÖ∂‰ΩôÈòüÂàóÁöÑ‰ºòÂÖàÁ∫ßÈÄê‰∏™Èôç‰Ωé„ÄÇËØ•ÁÆóÊ≥ï‰∏∫‰∏çÂêåÈòüÂàó‰∏≠ÁöÑËøõÁ®ãÊâÄËµã‰∫àÁöÑÊâßË°åÊó∂Èó¥ÁâáÁöÑÂ§ßÂ∞è‰πü‰∏çÂêåÔºåÂú®‰ºòÂÖàÁ∫ßË∂äÈ´òÁöÑÈòüÂàó‰∏≠Êó∂Èó¥ÁâáË∂äÂ∞è„ÄÇ ÊØè‰∏™ÈòüÂàóÈÉΩÈááÁî®FCFSÁÆóÊ≥ï„ÄÇÂΩìÊñ∞ËøõÁ®ãËøõÂÖ•ÂÜÖÂ≠òÂêéÔºåÈ¶ñÂÖàÂ∞ÜÂÆÉÊîæÂÖ•Á¨¨‰∏ÄÈòüÂàóÁöÑÊú´Â∞æÔºåÊåâFCFSÂéüÂàôÁ≠âÂæÖË∞ÉÂ∫¶„ÄÇÂΩìËΩÆÂà∞ËØ•ËøõÁ®ãÊó∂ÔºåÂ¶Ç‰ªñËÉΩÂú®Êó∂Èó¥ÁâáÂÜÖÂÆåÊàêÔºå‰æøÂèØÊí§Á¶ªÁ≥ªÁªüÔºåÂê¶ÂàôÔºå‰ªñÂú®‰∏Ä‰∏™Êó∂Èó¥ÁâáÁªìÊùüËøòÊú™ÂÆåÊàêÊó∂ÔºåËΩ¨ÂÖ•Á¨¨‰∫åÈòüÂàóÊú´Â∞æÁ≠âÂæÖÔºå‰æùÊ¨°Á±ªÊé®„ÄÇ ÊåâÈòüÂàó‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÔºåÈ¶ñÂÖàË∞ÉÂ∫¶ÊúÄÈ´ò‰ºòÂÖàÁ∫ßÈòüÂàó‰∏≠ÁöÑËØ∏ËøõÁ®ãËøêË°åÔºå‰ªÖÂΩìÁ¨¨‰∏ÄÈòüÂàóÁ©∫Èó≤Êó∂ÊâçË∞ÉÂ∫¶Á¨¨‰∫åÈòüÂàó„ÄÇ 5.4.5.2 Ë∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑÊÄßËÉΩÂú®Â§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶ÁÆóÊ≥ï‰∏≠ÔºåÂ¶ÇÊûúËßÑÂÆöÁ¨¨‰∏Ä‰∏™ÈòüÂàóÁöÑÊó∂Èó¥ÁâáÁï•Â§ß‰∫éÂ§öÊï∞‰∫∫Êú∫‰∫§‰∫íÁ≥ªÁªüÊâÄÈúÄÂ§ÑÁêÜÊó∂Èó¥Êó∂Ôºå‰æøËÉΩËæÉÂ•ΩÁöÑÊª°Ë∂≥ÂêÑÁßçÁ±ªÂûãÁî®Êà∑ÁöÑÈúÄË¶Å„ÄÇ 5.4.6 Âü∫‰∫éÂÖ¨Âπ≥ÂéüÂàôÁöÑË∞ÉÂ∫¶ÁÆóÊ≥ï5.4.6.1 ‰øùËØÅË∞ÉÂ∫¶ÁÆóÊ≥ï‰øùËØÅË∞ÉÂ∫¶ÁÆóÊ≥ïÊòØÂè¶‰∏ÄÁßçÁ±ªÂûãÁöÑË∞ÉÂ∫¶ÁÆóÊ≥ïÔºåÂÆÉÊÉ≥Áî®Êà∑ÊâÄ‰ΩúÂá∫ÁöÑ‰øùËØÅÂπ∂‰∏çÊòØ‰ºòÂÖàËøêË°åÔºåËÄåÊòØÊòéÁ°ÆÁöÑÊÄßËÉΩ‰øùËØÅÔºåËØ•ÁÆóÊ≥ïÂèØ‰ª•ÂÅöÂà∞Ë∞ÉÂ∫¶ÁöÑÂÖ¨Âπ≥ÊÄß„ÄÇ‰∏ÄÁßçÊØîËæÉÂÆπÊòìÁöÑÊÄßËÉΩ‰øùËØÅÊòØÂ§ÑÁêÜÊú∫ÁöÑÂÖ¨Âπ≥ÊÄßÔºåÂ¶ÇÊûúÂú®Á≥ªÁªü‰∏≠Êúân‰∏™Á±ªÂûãÁõ∏ÂêåÁöÑËøõÁ®ãÂêåÊó∂ËøêË°åÔºå‰∏∫‰∫ÜÂÖ¨Âπ≥ÊúüÈó¥ÔºåÊØè‰∏™ËøõÁ®ãÈÉΩËé∑ÂæóÁõ∏ÂêåÁöÑÂ§ÑÁêÜÊú∫Êó∂Èó¥$\frac{1}{n}$„ÄÇ Âú®ÂÆûÊñΩ‰øùËØÅË∞ÉÂ∫¶ÁÆóÊ≥ïÊó∂ÔºåÁ≥ªÁªüÂøÖÈ°ªÂÖ∑Â§áËøôÊ†∑‰∏Ä‰∫õÂäüËÉΩÔºö Ë∑üË∏™ËÆ°ÁÆóÊØè‰∏™ËøõÁ®ãËá™ÂàõÂª∫‰ª•Êù•Â∑≤ÁªèÊâßË°åÁöÑÂ§ÑÁêÜÊó∂Èó¥„ÄÇ ËÆ°ÁÆóÊØè‰∏™ËøõÁ®ãÂ∫îËé∑ÂæóÁöÑÂ§ÑÁêÜÊú∫Êó∂Èó¥ÔºåÂç≥Ëá™ÂàõÂª∫‰ª•Êù•ÁöÑÊó∂Èó¥Èô§‰ª•n„ÄÇ ËÆ°ÁÆóËøõÁ®ãËé∑ÂæóÂ§ÑÁêÜÊú∫Êó∂Èó¥ÁöÑÊØîÁéáÔºåÂç≥ËøõÁ®ãÂÆûÈôÖÊâßË°åÁöÑÂ§ÑÁêÜÊó∂Èó¥ÂíåÂ∫îËé∑ÂæóÁöÑÂ§ÑÁêÜÊú∫Êó∂Èó¥‰πãÊØî„ÄÇ ÊØîËæÉÂêÑËøõÁ®ãËé∑ÂæóÂ§ÑÁêÜÊú∫Êó∂Èó¥ÁöÑÊØîÁéá„ÄÇÂ¶ÇËøõÁ®ãAÁöÑÊØîÁéáÊúÄ‰ΩéÔºå‰∏∫0.5ÔºåËÄåËøõÁ®ãBÁöÑÊØîÁéá‰∏∫0.8ÔºåËøõÁ®ãCÁöÑÊØîÁéá‰∏∫1.2Á≠â„ÄÇ Ë∞ÉÂ∫¶Á®ãÂ∫èÂ∫îÈÄâÊã©ÊØîÁéáÊúÄÂ∞èÁöÑËøõÁ®ãÂ∞ÜÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôÂÆÉÔºåÂπ∂ËÆ©ËØ•ËøõÁ®ã‰∏ÄÁõ¥ËøêË°åÔºåÁõ¥Âà∞Ë∂ÖËøáÊúÄÊé•ËøëÂÆÉÁöÑËøõÁ®ãÊØîÁéá‰∏∫Ê≠¢„ÄÇ 5.4.6.2 ÂÖ¨Âπ≥ÂàÜ‰∫´Ë∞ÉÂ∫¶ÁÆóÊ≥ïÂàÜÈÖçÁªôÊØè‰∏™ËøõÁ®ãÁõ∏ÂêåÁöÑÂ§ÑÁêÜÊú∫Êó∂Èó¥ÔºåÊòæÁÑ∂ÔºåËøôÂØπËØ∏ËøõÁ®ãËÄåË®ÄÔºåÊòØ‰ΩìÁé∞‰∫Ü‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑÂÖ¨Âπ≥Ôºå‰ΩÜÂ¶ÇÊûúÂêÑ‰∏™Áî®Êà∑ÊâÄÊã•ÊúâÁöÑËøõÁ®ãÊï∞‰∏çÂêåÔºåÂ∞±‰ºöÂèëÁîüÂØπÁî®Êà∑ÁöÑ‰∏çÂÖ¨Âπ≥ÈóÆÈ¢ò„ÄÇ Âú®ËØ•ÁÆóÊ≥ï‰∏≠ÔºåË∞ÉÂ∫¶ÁöÑÂÖ¨Âπ≥ÊÄßÊòØ‰ΩìÈíàÂØπ‰∫éÁî®Êà∑ËÄåË®Ä„ÄÇ‰ΩøÊâÄÊúâÁöÑÁî®Êà∑Ëé∑ÂæóÁõ∏ÂêåÁöÑÂ§ÑÁêÜÊú∫Êó∂Èó¥ÔºåÊàñË¶ÅÊ±ÇÁöÑÊó∂Èó¥ÊØî‰æã„ÄÇ 5.5 ÂÆûÊó∂Ë∞ÉÂ∫¶5.5.1 ÂÆûÁé∞ÂÆûÊó∂Ë∞ÉÂ∫¶ÁöÑÂü∫Êú¨Êù°‰ª∂ Êèê‰æõÂøÖË¶ÅÁöÑ‰ø°ÊÅØ Â∞±Áª™Êó∂Èó¥ÔºåÊòØÊåáÊüê‰ªªÂä°Áß∞‰∏∫Â∞±Áª™Áä∂ÊÄÅÁöÑÊó∂Èó¥ÔºåÂú®Âë®Êúü‰ªªÂä°ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ•πÊòØÂÆûÁé∞È¢ÑÁü•ÁöÑ‰∏Ä‰∏≤Êó∂Èó¥Â∫èÂàó„ÄÇ ÂºÄÂßãÊà™Ê≠¢Êó∂Èó¥ÂíåÂÆåÊàêÊà™Ê≠¢Êó∂Èó¥ÔºåÂØπ‰∫éÂÖ∏ÂûãÁöÑÂÆûÊó∂Â∫îÁî®ÔºåÂè™ÈúÄÁü•ÈÅìÂºÄÂßãÊà™Ê≠¢Êó∂Èó¥ÊàñËÄÖÂÆåÊàêÊà™Ê≠¢Êó∂Èó¥ Â§ÑÁêÜÊó∂Èó¥Ôºå‰∏Ä‰∏™‰ªªÂä°‰ªéÂºÄÂßãÊâßË°åÔºåÁõ¥Ëá≥ÂÆåÊàêÊó∂ÊâÄÈúÄÁöÑÊó∂Èó¥ ËµÑÊ∫êË¶ÅÊ±ÇÔºå‰ªªÂä°ÊâßË°åÊó∂ÊâÄÈúÄË¶ÅÁöÑ‰∏ÄÁªÑËµÑÊ∫ê ‰ºòÂÖàÁ∫ßÔºåÂ¶ÇÊûúÊüê‰ªªÂä°ÁöÑÂºÄÂßãÊà™Ê≠¢Êó∂Èó¥ÈîôËøáÔºåÂäøÂøÖÂºïËµ∑ÊïÖÈöúÔºåÂàôÂ∫î‰∏∫ËØ•‰ªªÂä°Ëµã‰∫à‚ÄúÁªùÂØπ‚Äù‰ºòÂÖàÁ∫ßÔºõÂ¶ÇÊûúÂÖ∂ÂºÄÂßãÊà™Ê≠¢Êó∂Èó¥ÁöÑÈîôËøáÔºåÂØπ‰ªªÂä°ÁöÑÁªßÁª≠ËøêË°åÊó†ÈáçÂ§ßÂΩ±ÂìçÔºåÂàôÂèØ‰∏∫ÂÖ∂Ëµã‰∫à‚ÄúÁõ∏ÂØπ‰ºòÂÖàÁ∫ß‚ÄùÔºå‰æõË∞ÉÂ∫¶Á®ãÂ∫èÂèÇËÄÉ Á≥ªÁªüÂ§ÑÁêÜËÉΩÂäõÂº∫ Âú®ÂÆûÊó∂Á≥ªÁªü‰∏≠ÔºåËã•Â§ÑÁêÜÊú∫ÁöÑÂ§ÑÁêÜËÉΩÂäõ‰∏çÂ§üÂº∫ÔºåÂàôÊúâÂèØËÉΩÂõ†Â§ÑÁêÜÊú∫Âøô‰∏çËøáÔºåËÄåËá¥‰ΩøÊüê‰∫õÂÆûÊó∂‰ªªÂä°‰∏çËÉΩÂæóÂà∞ÂèäÊó∂Â§ÑÁêÜÔºå‰ªéËÄåÂØºËá¥ÂèëÁîüÈöæ‰ª•È¢ÑÊñôÁöÑÂêéÊûú„ÄÇ ÂÅáÂÆöÁ≥ªÁªü‰∏≠Êúâm‰∏™Âë®ÊúüÊÄßÁöÑÁ°¨ÂÆûÊó∂‰ªªÂä°HRTÔºå‰ªñ‰ª¨ÁöÑÂ§ÑÁêÜÊó∂Èó¥ÂèØË°®Á§∫‰∏∫$Ci$ÔºåÂë®ÊúüÊó∂Èó¥Ë°®Á§∫‰∏∫$P_i$ÔºåÂàôÂú®ÂçïÂ§ÑÁêÜÊú∫ÊÉÖÂÜµ‰∏ãÔºåÂøÖÈ°ªÊª°Ë∂≥‰∏ãÈù¢ÁöÑÈôêÂà∂Êù°‰ª∂Á≥ªÁªüÊâçÊòØÂèØË∞ÉÂ∫¶ÁöÑÔºö$$ \sum{i=1}^{m}\frac{Ci}{P_i}\le1 ÊèêÈ´òÁ≥ªÁªüÂ§ÑÁêÜËÉΩÂäõÁöÑÈÄîÂæÑÊúâ‰∫åÔºö‰∏ÄÊòØÈááÁî®ÂçïÂ§ÑÁêÜÊú∫Á≥ªÁªüÔºå‰ΩÜÈ°ªÂ¢ûÂº∫ÂÖ∂Â§ÑÁêÜËÉΩÂäõÔºå‰ª•ÊòæËëóÂú∞ÂáèÂ∞ëÂØπÊØè‰∏Ä‰∏™‰ªªÂä°ÁöÑÂ§ÑÁêÜÊó∂Èó¥Ôºõ‰∫åÊòØÈááÁî®Â§öÂ§ÑÁêÜÊú∫Á≥ªÁªü„ÄÇÂÅáÂÆöÁ≥ªÁªü‰∏≠ÁöÑÂ§ÑÁêÜÊú∫Êï∞‰∏∫NÔºåÂàôÂ∫îÂ∞Ü‰∏äËø∞ÁöÑÈôêÂà∂Êù°‰ª∂Êîπ‰∏∫Ôºö \sum{i=1}^{m}\frac{C_i}{P_i}\le N $$ ÈááÁî®Êä¢Âç†ÂºèË∞ÉÂ∫¶Êú∫Âà∂ Âú®Âê´ÊúâHRT‰ªªÂä°ÁöÑÂÆûÊó∂Á≥ªÁªü‰∏≠ÔºåÂπøÊ≥õÈááÁî®Êä¢Âç†Êú∫Âà∂„ÄÇËøôÊ†∑‰æøÂèØÊª°Ë∂≥HRT‰ªªÂä°ÂØπÊà™Ê≠¢Êó∂Èó¥ÁöÑË¶ÅÊ±Ç„ÄÇ‰ΩÜËøôÁßçË∞ÉÂ∫¶Êú∫Âà∂ÊØîËæÉÂ§çÊùÇ„ÄÇ ÂØπ‰∫é‰∏Ä‰∫õÂ∞èÁöÑÂÆûÊó∂Á≥ªÁªüÔºåÂ¶ÇÊûúËÉΩÂ§üÈ¢ÑÁü•‰ªªÂä°Ê≥ïÂºÄÂßãÊà™Ê≠¢Êó∂Èó¥ÔºåÂàôÂØπ‰∫éÂÆûÊó∂‰ªªÂä°ÁöÑË∞ÉÂ∫¶ÂèØ‰ª•ÈááÁî®ÈùûÊä¢Âç†ÂºèË∞ÉÂ∫¶„ÄÇ ÂÖ∑ÊúâÂø´ÈÄüÂàáÊç¢Êú∫Âà∂ ‰∏∫‰øùËØÅÁ°¨ÂÆûÊó∂‰ªªÂä°ËÉΩÂèäÊó∂ËøêË°åÔºåÂú®Á≥ªÁªü‰∏≠ËøòÂ∫îÂÖ∑ÊúâÂø´ÈÄüÂàáÊç¢Êú∫Âà∂Ôºå‰Ωø‰πãËÉΩËøõË°å‰ªªÂä°ÁöÑÂø´ÈÄüÂàáÊç¢„ÄÇËØ•Êú∫Âà∂Â∫îÂÖ∑ÊúâÂ¶Ç‰∏ã‰∏§ÊñπÈù¢ÁöÑËÉΩÂäõÔºö ÂØπ‰∏≠Êñ≠ÁöÑÂø´ÈÄüÂìçÂ∫îËÉΩÂäõ„ÄÇÂØπÁ¥ßËø´ÁöÑÂ§ñÈÉ®‰∫ã‰ª∂ËØ∑Ê±Ç‰∏≠Êñ≠ËÉΩÂèäÊó∂ÂìçÂ∫îÔºåË¶ÅÊ±ÇÁ≥ªÁªüÂÖ∑ÊúâÂø´ÈÄüÁ°¨‰ª∂‰∏≠Êñ≠Êú∫ÊûÑÔºåËøòÂ∫î‰ΩøÁ¶ÅÊ≠¢‰∏≠Êñ≠ÁöÑÊó∂Èó¥Èó¥ÈöîÂ∞ΩÈáèÁü≠Ôºå‰ª•ÂÖçËÄΩËØØÊó∂Êú∫(ÂÖ∂ÂÆÉÁ¥ßËø´‰ªªÂä°)„ÄÇ Âø´ÈÄüÁöÑ‰ªªÂä°ÂàÜÊ¥æËÉΩÂäõ„ÄÇ‰∏∫‰∫ÜÊèêÈ´òÂàÜÊ¥æÁ®ãÂ∫èËøõË°å‰ªªÂä°ÂàáÊç¢Êó∂ÁöÑÈÄüÂ∫¶ÔºåÂ∫î‰ΩøÁ≥ªÁªü‰∏≠ÁöÑÊØè‰∏™ËøêË°åÂäüËÉΩÂçï‰ΩçÈÄÇÂΩìÁöÑÂ∞èÔºå‰ª•ÂáèÂ∞ë‰ªªÂä°ÂàáÊç¢ÁöÑÊó∂Èó¥ÂºÄÈîÄ„ÄÇ 5.5.2 ÂÆûÊó∂Ë∞ÉÂ∫¶ÁÆóÊ≥ïÁöÑÂàÜÁ±ª5.5.2.1 ÈùûÊä¢Âç†ÂºèË∞ÉÂ∫¶ÁÆóÊ≥ï ÈùûÊä¢Âç†ÂºèËΩÆËΩ¨Ë∞ÉÂ∫¶ÁÆóÊ≥ï Áî±‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ÊéßÂà∂Ëã•Âπ≤‰∏™Áõ∏ÂêåÁöÑÂØπË±°Ôºå‰∏∫ÊØè‰∏™Ë¢´ÊéßÂØπË±°Âª∫Á´ã‰∏Ä‰∏™ÂÆûÊó∂‰ªªÂä°„ÄÇÂπ∂Â∞Ü‰ªñ‰ª¨ÊéíÊàê‰∏Ä‰∏™ËΩÆËΩ¨ÈòüÂàó„ÄÇË∞ÉÂ∫¶Á®ãÂ∫èÊØèÊ¨°ÈÄâÊã©ÈòüÂàó‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™‰ªªÂä°ÊäïÂÖ•ËøêË°åÔºåÂΩìËØ•‰ªªÂä°ÂÆåÊàêÂêéÔºå‰æøÊääÂÆÉÊåÇÂú®ËΩÆËΩ¨ÈòüÂàóÁöÑÊú´Â∞æÁ≠âÂæÖÔºåË∞ÉÂ∫¶Á®ãÂ∫èÂÜçÈÄâÊã©‰∏ã‰∏Ä‰∏™ÈòüÈ¶ñ‰ªªÂä°ËøêË°å„ÄÇ ÈùûÊä¢Âç†Âºè‰ºòÂÖàË∞ÉÂ∫¶ÁÆóÊ≥ï Â¶ÇÊûúÂú®Á≥ªÁªü‰∏≠ËøòÂê´ÊúâÂ∞ëÊï∞ÂÖ∑Êúâ‰∏ÄÂÆöË¶ÅÊ±ÇÁöÑÂÆûÊó∂‰ªªÂä°ÔºåÂàôÂèØÈááÁî®ÈùûÊä¢Âç†Âºè‰ºòÂÖàË∞ÉÂ∫¶ÁÆóÊ≥ïÔºåÁ≥ªÁªü‰∏∫Ëøô‰∫õ‰ªªÂä°Ëµã‰∫à‰∫ÜËæÉÈ´òÁöÑ‰ºòÂÖàÁ∫ß„ÄÇÂΩìËøô‰∫õÂÆûÊó∂‰ªªÂä°Âà∞ËææÊó∂ÔºåÊääÂÆÉ‰ª¨ÂÆâÊéíÂú®Â∞±Áª™ÈòüÂàóÁöÑÈòüÈ¶ñÔºåÁ≠âÂæÖÂΩìÂâç‰ªªÂä°Ëá™ÊàëÁªàÊ≠¢ÊàñËøêË°åÂÆåÊàêÂêéÔºå‰æøÂèØÂéªË∞ÉÂ∫¶ÊâßË°åÈòüÈ¶ñÁöÑÈ´ò‰ºòÂÖàÁ∫ßËøõÁ®ã„ÄÇ 5.5.2.2 Êä¢Âç†ÂºèË∞ÉÂ∫¶ÁÆóÊ≥ï Âü∫‰∫éÊó∂Èíü‰∏≠Êñ≠ÁöÑÊä¢Âç†Âºè‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ï„ÄÇ Âú®ÊüêÂÆûÊó∂‰ªªÂä°Âà∞ËææÂêéÔºåÂ¶ÇÊûú‰ªñÁöÑ‰ºòÂÖàÁ∫ßÈ´ò‰∫éÂΩìÂâç‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÔºåËøôÊòØÂπ∂‰∏çÁ´ãÂç≥Êä¢Âç†ÂΩìÂâç‰ªªÂä°ÁöÑÂ§ÑÁêÜÊú∫ÔºåËÄåÊòØÁ≠âÂà∞Êó∂Èíü‰∏≠Êñ≠ÂèëÁîüÊó∂ÔºåË∞ÉÂ∫¶Á®ãÂ∫èÊâçÂâ•Â§∫Â§ßÂπ¥‰ªªÂä°ÁöÑÊâßË°åÔºåÊääÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôÊñ∞Âà∞ÁöÑÈ´ò‰ºòÂÖàÁ∫ßÁöÑ‰ªªÂä°„ÄÇ Á´ãÂç≥Êä¢Âç†ÁöÑ‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ï„ÄÇ Âú®ËøôÁßçË∞ÉÂ∫¶Á≠ñÁï•‰∏≠ÔºåË¶ÅÊ±ÇÊìç‰ΩúÁ≥ªÁªüÂÖ∑ÊúâÂø´ÈÄüÂìçÂ∫îÂ§ñÈÉ®‰∫ã‰ª∂‰∏≠Êñ≠ÁöÑËÉΩÂäõÔºå‰∏ÄÊó¶Âá∫Áé∞Â§ñÈÉ®‰∏≠Êñ≠ÔºåÂè™Ë¶ÅÂΩìÂâç‰ªªÂä°Êú™Â§Ñ‰∫é‰∏¥ÁïåÂå∫Ôºå‰æøËÉΩÁ´ãÂç≥Ââ•Â§∫ÂΩìÂâç‰ªªÂä°ÁöÑÊâßË°åÔºåÊääÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôËØ∑Ê±Ç‰∏≠Êñ≠ÁöÑÁ¥ßËø´‰ªªÂä°„ÄÇ 5.5.3 ÊúÄÊó©Êà™Ê≠¢Êó∂Èó¥‰ºòÂÖàËØ•ÁÆóÊ≥ïÊòØÊ†πÊçÆ‰ªªÂä°Êà™Ê≠¢Êó∂Èó¥Á°ÆÂÆö‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÔºå‰ªªÂä°ÁöÑÊà™Ê≠¢Êó∂Èó¥Ë∂äÊó©ÔºåÂÖ∂‰ºòÂÖàÁ∫ßË∂äÈ´òÔºåÂÖ∑ÊúâÊúÄÊó©Êà™Ê≠¢Êó∂Èó¥ÁöÑ‰ªªÂä°ÊéíÂú®ÈòüÈ¶ñ„ÄÇ 5.5.3.1 ÈùûÊä¢Âç†ÂºèË∞ÉÂ∫¶ÊñπÂºèÁî®‰∫éÈùûÂë®ÊúüÂÆûÊó∂‰ªªÂä° 5.5.3.2 Êä¢Âç†ÂºèË∞ÉÂ∫¶ÊñπÂºèÁî®‰∫éÈùûÂë®ÊúüÂÆûÊó∂‰ªªÂä° 5.5.4 ÊúÄ‰ΩéÊùæÂºõÂ∫¶‰ºòÂÖàLLFÁÆóÊ≥ïËØ•ÁÆóÊ≥ïÂú®Á°ÆÂÆö‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÊó∂ÔºåÊ†πÊçÆÁöÑÊòØ‰ªªÂä°ÁöÑÁ¥ßÊÄ•(ÊàñÊùæÂºõ)Á®ãÂ∫¶„ÄÇ‰ªªÂä°Á¥ßÊÄ•Á®ãÂ∫¶ÊÑàÈ´òÔºåËµã‰∫àËØ•‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÂ∞±ÊÑàÈ´òÔºå‰ª•‰Ωø‰πã‰ºòÂÖàÊâßË°å„ÄÇ ËØ•ÊñπÂºè‰∏ªË¶ÅÁî®ÂèØÊä¢Âç†ÂºèË∞ÉÂ∫¶„ÄÇ ÂÅáÂ¶ÇÂú®‰∏Ä‰∏™ÂÆûÊó∂Á≥ªÁªü‰∏≠Êúâ‰∏§‰∏™Âë®ÊúüÊÄßÂÆûÊó∂‰ªªÂä°AÂíåBÔºå‰ªªÂä°AË¶ÅÊ±ÇÊØè20 msÊâßË°å‰∏ÄÊ¨°ÔºåÊâßË°åÊó∂Èó¥‰∏∫10 msÔºå‰ªªÂä°BË¶ÅÊ±ÇÊØè50 msÊâßË°å‰∏ÄÊ¨°ÔºåÊâßË°åÊó∂Èó¥‰∏∫25 ms„ÄÇÁî±Ê≠§ÂèØÁü•Ôºå‰ªªÂä°AÂíåBÊØèÊ¨°ÂøÖÈ°ªÂÆåÊàêÁöÑÊó∂Èó¥ÂàÜÂà´‰∏∫ÔºöA1„ÄÅA2„ÄÅA3„ÄÅ‚Ä¶ÂíåB1„ÄÅB2„ÄÅB3„ÄÅ‚Ä¶ÔºåÂ¶Ç‰∏ãÂõæ Âà©Áî®ELLFÁÆóÊ≥ïËøõË°åË∞ÉÂ∫¶ÁöÑÊÉÖÂÜµÔºö]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁΩëÁªúËØ∑Ê±Ç1--HttpClient‰∏éHttpURLConnection]]></title>
    <url>%2Fposts%2Feb898689.html</url>
    <content type="text"><![CDATA[Âú®Êó©ÊúüÁöÑÊó∂ÂÄôÔºåAndroid‰∏äËøòÊ≤°ÊúâÂÉèVolley„ÄÅOkHttp„ÄÅRetrofitËøô‰∫õ‰ºòÁßÄÁöÑÂºÄÊ∫êÂ∫ìÔºåÂ¶ÇÊûúÊÉ≥Ë¶Å‰ΩøÁî®ÁΩëÁªúËØ∑Ê±ÇÁöÑËØùÔºåÂ∞±Âè™ËÉΩËá™Â∑±Â∞ÅË£ÖHttpClientÂíåHttpURLConnection„ÄÇÁé∞Âú®Êàë‰ª¨Â∞±Êù•Áúã‰∏ãApacheÁöÑËøô‰∏§‰∏™Á±ª„ÄÇ 1. HttpClient2.1 ÂØºÂÖ•HttpClientÁî±‰∫é‰ªéAndroid 6.0 ÂºÄÂßãÔºåË∞∑Ê≠åÂ∞±Â∞ÜHttpClient‰ªéAndroid‰∏≠Âà†Èô§‰∫ÜÔºåÊâÄ‰ª•Ëã•Áé∞Âú®ÊÉ≥‰ΩøÁî®‰ªñÔºåËøòÂæóÂØºÂÖ•‰æùËµñÔºöÂú®È°πÁõÆÁöÑbuild.gradleÁöÑAndroid‰ª£Á†ÅÂùó‰∏ãÂä†ÂÖ•‰æùËµñÔºåÁ§∫‰æãÔºö1234android &#123; useLibrary 'org.apache.http.legacy' ...&#125; 2.2 HttpClientÁöÑGetÈ¶ñÂÖàÈÄöËøáDefaultHttpClientÊù•ÂÆû‰æãÂåñ‰∏Ä‰∏™HttpClientÔºåÂπ∂ÈÖçÁΩÆÂ•ΩÂèÇÊï∞Ôºö123456789101112131415 //ÂàõÂª∫HttpClientprivate HttpClient createHttpClient() &#123; HttpParams mDefaultHttpParams = new BasicHttpParams(); //ËÆæÁΩÆËøûÊé•Ë∂ÖÊó∂ HttpConnectionParams.setConnectionTimeout(mDefaultHttpParams, 15000); //ËÆæÁΩÆËØ∑Ê±ÇË∂ÖÊó∂ HttpConnectionParams.setSoTimeout(mDefaultHttpParams, 15000); HttpConnectionParams.setTcpNoDelay(mDefaultHttpParams, true); HttpProtocolParams.setVersion(mDefaultHttpParams, HttpVersion.HTTP_1_1); HttpProtocolParams.setContentCharset(mDefaultHttpParams, HTTP.UTF_8); //ÊåÅÁª≠Êè°Êâã HttpProtocolParams.setUseExpectContinue(mDefaultHttpParams, true); HttpClient mHttpClient = new DefaultHttpClient(mDefaultHttpParams); return mHttpClient;&#125; Êé•ÁùÄÂàõÂª∫HttpGetÂíåHttpClientÔºåËØ∑Ê±ÇÁΩëÁªúÂπ∂ÂæóÂà∞HttpResponseÔºåÂπ∂ÂØπHttpResponseËøõË°åÂ§ÑÁêÜÔºö123456789101112131415161718private void useHttpClientGet(String url) &#123; HttpGet mHttpGet = new HttpGet(url); mHttpGet.addHeader("Connection", "Keep-Alive"); try &#123; HttpClient mHttpClient = createHttpClient(); HttpResponse mHttpResponse = mHttpClient.execute(mHttpGet); HttpEntity mHttpEntity = mHttpResponse.getEntity(); int code = mHttpResponse.getStatusLine().getStatusCode(); if (null != mHttpEntity) &#123; InputStream mInputStream = mHttpEntity.getContent(); String respose = converStreamToString(mInputStream); Log.i("wangshu", "ËØ∑Ê±ÇÁä∂ÊÄÅÁ†Å:" + code + "\nËØ∑Ê±ÇÁªìÊûú:\n" + respose); mInputStream.close(); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125;&#125; converStreamToString()ÊñπÊ≥ïÂ∞ÜËØ∑Ê±ÇÁªìÊûúËΩ¨Êç¢ÊàêStringÁ±ªÂûãÔºö12345678910private String converStreamToString(InputStream is) throws IOException &#123; BufferedReader reader = new BufferedReader(new InputStreamReader(is)); StringBuffer sb = new StringBuffer(); String line = null; while ((line = reader.readLine()) != null) &#123; sb.append(line + "\n"); &#125; String respose = sb.toString(); return respose;&#125; ÊúÄÂêéÂºÄÂêØÁ∫øÁ®ãËÆøÈóÆ:123456new Thread(new Runnable() &#123; @Override public void run() &#123; useHttpClientGet("http://www.baidu.com"); &#125;&#125;).start(); 1.3 HttpClientÁöÑPOSTÂíåGETÂ∑Æ‰∏çÂ§öÔºåÂè™ÈúÄË¶Å‰øÆÊîπ‰º†ÈÄíÁöÑÂèÇÊï∞Ôºö1234567891011121314151617181920212223private void useHttpClientPost(String url) &#123; HttpPost mHttpPost = new HttpPost(url); mHttpPost.addHeader("Connection", "Keep-Alive"); try &#123; HttpClient mHttpClient = createHttpClient(); List&lt;NameValuePair&gt; postParams = new ArrayList&lt;&gt;(); //Ë¶Å‰º†ÈÄíÁöÑÂèÇÊï∞ postParams.add(new BasicNameValuePair("username", "moon")); postParams.add(new BasicNameValuePair("password", "123")); mHttpPost.setEntity(new UrlEncodedFormEntity(postParams)); HttpResponse mHttpResponse = mHttpClient.execute(mHttpPost); HttpEntity mHttpEntity = mHttpResponse.getEntity(); int code = mHttpResponse.getStatusLine().getStatusCode(); if (null != mHttpEntity) &#123; InputStream mInputStream = mHttpEntity.getContent(); String respose = converStreamToString(mInputStream); Log.i("wangshu", "ËØ∑Ê±ÇÁä∂ÊÄÅÁ†Å:" + code + "\nËØ∑Ê±ÇÁªìÊûú:\n" + respose); mInputStream.close(); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125;&#125; 2. HttpURLConnectionHttpURLConnectionËæÉHttpClientÊù•ËØ¥Êõ¥ËΩªÈáèÔºåËÄå‰∏î‰ªñAPI‰πüÊØîHttpClientÁÆÄÂçï„ÄÇÁâπÂà´ÊòØAndroid 6.0Â∞ÜHttpClientÁßªÈô§‰πãÂêéÔºåÁé∞Âú®Âè™ËÉΩ‰ΩøÁî®HttpURLConnection„ÄÇ 2.1 HttpURLConnectionÁöÑPOSTËØ∑Ê±ÇÈ¶ñÂÖàÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™UrlConnManagerÁ±ªÔºåÁÑ∂ÂêéÈáåÈù¢Êèê‰æõgetHttpURLConnection()ÊñπÊ≥ïÁî®‰∫éÈÖçÁΩÆÈªòËÆ§ÁöÑÂèÇÊï∞Âπ∂ËøîÂõûHttpURLConnectionÔºö12345678910111213141516171819202122public static HttpURLConnection getHttpURLConnection(String url)&#123; HttpURLConnection mHttpURLConnection=null; try &#123; URL mUrl=new URL(url); mHttpURLConnection=(HttpURLConnection)mUrl.openConnection(); //ËÆæÁΩÆÈìæÊé•Ë∂ÖÊó∂Êó∂Èó¥ mHttpURLConnection.setConnectTimeout(15000); //ËÆæÁΩÆËØªÂèñË∂ÖÊó∂Êó∂Èó¥ mHttpURLConnection.setReadTimeout(15000); //ËÆæÁΩÆËØ∑Ê±ÇÂèÇÊï∞ mHttpURLConnection.setRequestMethod("POST"); //Ê∑ªÂä†Header mHttpURLConnection.setRequestProperty("Connection","Keep-Alive"); //Êé•Êî∂ËæìÂÖ•ÊµÅ mHttpURLConnection.setDoInput(true); //‰º†ÈÄíÂèÇÊï∞Êó∂ÈúÄË¶ÅÂºÄÂêØ mHttpURLConnection.setDoOutput(true); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; return mHttpURLConnection ;&#125; Âõ†‰∏∫Êàë‰ª¨Ë¶ÅÂèëÈÄÅPOSTËØ∑Ê±ÇÔºåÊâÄ‰ª•Âú®UrlConnManagerÁ±ª‰∏≠ÂÜçÂÜô‰∏Ä‰∏™postParams()ÊñπÊ≥ïÁî®Êù•ÁªÑÁªá‰∏Ä‰∏ãËØ∑Ê±ÇÂèÇÊï∞Âπ∂Â∞ÜËØ∑Ê±ÇÂèÇÊï∞ÂÜôÂÖ•Âà∞ËæìÂá∫ÊµÅ‰∏≠Ôºö123456789101112131415public static void postParams(OutputStream output,List&lt;NameValuePair&gt;paramsList) throws IOException&#123; StringBuilder mStringBuilder=new StringBuilder(); for (NameValuePair pair:paramsList)&#123; if(!TextUtils.isEmpty(mStringBuilder))&#123; mStringBuilder.append("&amp;"); &#125; mStringBuilder.append(URLEncoder.encode(pair.getName(),"UTF-8")); mStringBuilder.append("="); mStringBuilder.append(URLEncoder.encode(pair.getValue(),"UTF-8")); &#125; BufferedWriter writer=new BufferedWriter(new OutputStreamWriter(output,"UTF-8")); writer.write(mStringBuilder.toString()); writer.flush(); writer.close();&#125; Êé•‰∏ãÊù•Êàë‰ª¨Ê∑ªÂä†ËØ∑Ê±ÇÂèÇÊï∞ÔºåË∞ÉÁî®postParams()ÊñπÊ≥ïÂ∞ÜËØ∑Ê±ÇÁöÑÂèÇÊï∞ÁªÑÁªáÂ•Ω‰º†ÁªôHttpURLConnectionÁöÑËæìÂá∫ÊµÅÔºåËØ∑Ê±ÇËøûÊé•Âπ∂Â§ÑÁêÜËøîÂõûÁöÑÁªìÊûúÔºö12345678910111213141516171819private void useHttpUrlConnectionPost(String url) &#123; InputStream mInputStream = null; HttpURLConnection mHttpURLConnection = UrlConnManager.getHttpURLConnection(url); try &#123; List&lt;NameValuePair&gt; postParams = new ArrayList&lt;&gt;(); //Ë¶Å‰º†ÈÄíÁöÑÂèÇÊï∞ postParams.add(new BasicNameValuePair("username", "moon")); postParams.add(new BasicNameValuePair("password", "123")); UrlConnManager.postParams(mHttpURLConnection.getOutputStream(), postParams); mHttpURLConnection.connect(); mInputStream = mHttpURLConnection.getInputStream(); int code = mHttpURLConnection.getResponseCode(); String respose = converStreamToString(mInputStream); Log.i("wangshu", "ËØ∑Ê±ÇÁä∂ÊÄÅÁ†Å:" + code + "\nËØ∑Ê±ÇÁªìÊûú:\n" + respose); mInputStream.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125;&#125; ÊúÄÂêéÂºÄÂêØÁ∫øÁ®ãËØ∑Ê±ÇÁΩëÁªúÔºö12345678private void useHttpUrlConnectionGetThread() &#123; new Thread(new Runnable() &#123; @Override public void run() &#123; useHttpUrlConnectionPost("http://www.baidu.com"); &#125; &#125;).start();&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Ê∫êÁ†Å</tag>
        <tag>kotlin</tag>
        <tag>Volley</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ijkPlayerÁºñËØë-Android]]></title>
    <url>%2Fposts%2Fd61d5542.html</url>
    <content type="text"><![CDATA[1. ÁÆÄ‰ªãijkplayerÊòØÂìîÂì©ÂìîÂì©ÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êËßÜÈ¢ëÊí≠ÊîæÊ°ÜÊû∂ÔºåÊîØÊåÅAndroid„ÄÅiOS„ÄÇÂ∫ïÂ±ÇÊòØffplay„ÄÇ GithubÂú∞ÂùÄÔºöbilibili/ijkplayer 2. ÁºñËØëÊñπÊ≥ïÁî±‰∫éÈÄöËøáGradleÁºñËØëËµ∑Êù•ÂæàÊÖ¢ËÄå‰∏î‰∏ÄÊó¶Â§±Ë¥•ÂèàÂæóÈáçÂ§¥Êù•ÔºåÊâÄ‰ª•ËøôÂùóÂ∞±‰ΩøÁî®AndroidNDKÁöÑÊñπÂºèÊù•ÁºñËØë„ÄÇ 2.1 ÁºñËØë‰πãÂâçÈ¶ñÂÖà‰Ω†ÂæóÈÖçÁΩÆÂ•ΩÁ≠â‰ºöÁºñËØëÈúÄË¶ÅÁöÑ‰∏úË•ø„ÄÇËøôÂùóÊàë‰ª¨ÈÉΩ‰ºö‰ΩøÁî®HomebrewÊù•ÂÆâË£ÖgitÂíåyasm„ÄÇHomebrewÁ±ª‰ºº‰∫éUbuntuÁöÑdpkg„ÄÅRedHatÂíåcentOSÁöÑyumÔºå‰ªñÊòØmacOS‰∏äÁöÑ‰∏Ä‰∏™ËΩØ‰ª∂ÂåÖÁÆ°ÁêÜÂô®„ÄÇ‰ΩÜÊòØÂêéÊù•Âá∫‰∫ÜLinuxÁâà„ÄÇÁî±‰∫éijkplayerÂÆòÊñπËØ¥Áî®ÁöÑÂÆÉÔºåÈÇ£Âí±‰ª¨Â∞±Áî®ÂÆÉÂêß„ÄÇ Ubuntu1. ÂÖàÊääÁõÆÂâçÂ∑≤ÊúâÁöÑÂåÖÊõ¥Êñ∞12345678// ‰ªéÈïúÂÉèÁ´ô‰∏ãËΩΩËΩØ‰ª∂ÂàóË°®ÔºåÂπ∂Ê£ÄÊü•ÊúâÊ≤°ÊúâÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂåÖsudo apt update// Êõ¥Êñ∞ÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂåÖsudo apt upgrade// Ëá™Âä®Âç∏ËΩΩÊéâÂΩìÂàù‰∏∫‰∫ÜÂÆâË£ÖÂÖ∂‰ªñËΩØ‰ª∂ÊàñÂÖ∂‰ªñÂéüÂõ†ËÄåÂÆâË£Ö‰ΩÜÊòØÁõÆÂâçÂ∑≤ÁªèÊ≤°Áî®ÁöÑÂåÖsudo apt autoremove 2. ÂÆâË£ÖHomebrew1234567891. È¶ñÂÖàÁ°ÆÂÆöÊòØÂê¶ÂÆâË£Öruby apt install ruby' 2. ÁÑ∂ÂêéÈÄöËøárubyÂÆâË£ÖHomebrew ruby -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)" 3. ÂÜçÈÄöËøáHomebrewÂÆâË£ÖgitÂíåyasm brew install git brew install yasm 3. ÈÖçÁΩÆAndroid SDKÂíåNDK Android SDK ‰Ω†ÂèØ‰ª•ÊâìÂºÄ‰Ω†ÁöÑAndroidStudioÔºåËøõÂÖ•Preferences -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; Android SDK„ÄÇËøôÂùóÂ∞±‰ºöÊòæÁ§∫‰Ω†SDKÂÆâË£ÖÁõÆÂΩï„ÄÇ ÁÑ∂ÂêéÂú®ÁªàÁ´Ø‰∏≠ËæìÂÖ•vim ~/.bash_profile„ÄÇÁÑ∂ÂêéËæìÂÖ•‰ª•‰∏ãÂÜÖÂÆπÔºö 123export ANDROID_SDK_HOME=AndroidSDKÁöÑÁõÆÂΩï/android-sdk-linuxexport PATH=$PATH:$&#123;ANDROID_SDK_HOME&#125;/toolsexport PATH=$PATH:$&#123;ANDROID_SDK_HOME&#125;/platform-tools ‰øùÂ≠òÔºåÁÑ∂ÂêéÂÜçÂú®ÁªàÁ´ØËæìÂÖ•source ~/.bash_profileÔºåÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ Android NDK È¶ñÂÖà‰Ω†ÂæóÂà∞ÂÆòÁΩë‰∏ãËΩΩNDKÔºöNDK ÂΩíÊ°£„ÄÇËÄå‰∏î‰Ω†Âè™ËÉΩ‰∏ãËΩΩr10eÁâàÊú¨ÁöÑÔºå‰∏ãËΩΩÂÖ∂ÂÆÉÁâàÊú¨ÁºñËØë‰ºöÊä•Èîô„ÄÇ ‰∏ãËΩΩ‰∏ãÊù•Ëß£ÂéãÂêéÔºåÂêåÊ†∑Âíå‰∏äÈù¢‰∏ÄÊ†∑ÂæóÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáèÔºö 12export ANDROID_NDK_HOME=NDKÁõÆÂΩïexport PATH=$PATH:$&#123;ANDROID_SDK_HOME&#125; ‰øùÂ≠òÔºåÁÑ∂ÂêéÂÜçÂú®ÁªàÁ´ØËæìÂÖ•source ~/.bash_profileÔºåÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ macOSÂÆâË£ÖHomebrewÔºåÁî±‰∫émacOSËá™Â∏¶rubyÔºåÊâÄ‰ª•Êàë‰ª¨Áõ¥Êé•ÂèØ‰ª•ÂºÄÂßãÂÆâË£ÖHomebrew„ÄÇ123ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"brew install gitbrew install yasm ÁÑ∂ÂêéÂ∞±ÊòØÈÖçÁΩÆ‰Ω†ÁöÑAndroid SDKÂíåAndroid NDKÔºöÂíå‰∏äÈù¢Ubuntu‰∏ã‰∏ÄÊ†∑„ÄÇ 2.2 ÁºñËØëAndroid12345678910111213git clone https://github.com/Bilibili/ijkplayer.git ijkplayer-androidcd ijkplayer-androidgit checkout -B latest k0.8.8./init-android.shcd android/contrib./compile-ffmpeg.sh clean// ËøôÊ≠•ÁâπÊÖ¢ÔºåËÄóÊó∂ÂæàÈïø./compile-ffmpeg.sh allcd .../compile-ijk.sh all ‰∏äÈù¢Ëøô‰∫õÊâßË°åÂÆåÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÁÑ∂Âêé‰Ω†Â∞±ËÉΩÂú®‰Ω†ÁöÑ/ijkplayer-android/android/ijkplayerË∑ØÂæÑ‰∏ãÂ∞±ËÉΩÁúãÂà∞ÁºñËØëÂêéÁöÑÈ°πÁõÆ‰∫ÜÔºåÂÖ∂‰∏≠ÊØè‰∏™moduleÁöÑ/src/mian/libsÈáåÈù¢Â∞±ÊòØsoÊñá‰ª∂„ÄÇ 3. ÊúÄÂêé‰Ω†ÂèØ‰ª•Áõ¥Êé•ÈÄöËøáAndroidStudioÊâìÂºÄ/ijkplayer-android/android/ijkplayerÔºåÁÑ∂ÂêéÂú®ÈáåÈù¢ÁöÑ/ijkplayer-example‰∏ãË∞¢‰Ω†Ëá™Â∑±ÁöÑ‰ª£Á†ÅÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ijkplayer</tag>
        <tag>Èü≥ËßÜÈ¢ë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁΩëÁªúËØ∑Ê±Ç4--Ëß£ÊûêRetrofitÊ∫êÁ†Å]]></title>
    <url>%2Fposts%2Fa2a8de56.html</url>
    <content type="text"><![CDATA[1. RetrofitÁÆÄ‰ªã Retrofit - github Retrofit - Doc RetrofitÊòØSquareÂÖ¨Âè∏ÁöÑÂèà‰∏ÄÂäõ‰ΩúÔºåÈíàÂØπAndroidÁΩëÁªúËØ∑Ê±ÇÁöÑÊ°ÜÊû∂ÔºåÈÅµÂæ™RestfulËÆæËÆ°È£éÊ†ºÔºåÂ∫ïÂ±ÇÂü∫‰∫éOkHttp„ÄÇ ‰ªñÂØπÊØîÂÖ∂‰ªñÊ°ÜÊû∂ ÊÄßËÉΩÊúÄÂ•Ω Â∞ÅË£ÖÁ®ãÂ∫¶È´òÔºåÊãìÂ±ïÊÄßÂ∑Æ ÁÆÄ‰ªãÊòìÁî®Ôºå‰ª£Á†ÅÁÆÄÂçï Ëß£ËÄ¶ÂΩªÂ∫ï ÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÁöÑ‰∏éRxJavaËøûÁî® 2. RetrofitÁî®Ê≥ïÔºàÂºÇÊ≠•Ôºâ2.1 Ê∑ªÂä†‰æùËµñÂèØ‰ª•Âú®Retrofit GithubÂ∫ìÈ°µÈù¢ÈáåÈù¢ÊâæÂà∞ÊúÄÊñ∞ÁâàÊú¨Âè∑ÔºåÊàëÂÜôËøôÁØáÂçöÂÆ¢Êó∂ÊúÄÊñ∞ÁâàÂØºÂÖ•ÊñπÂºè Âú®‰Ω†È°πÁõÆÁöÑappÁöÑbuild.gradleÈáåÈù¢Ê∑ªÂä†implementation &#39;com.squareup.retrofit2:retrofit:2.6.1&#39; ÂêåÊó∂ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÈÖçÂ•óÁöÑÊï∞ÊçÆËΩ¨Êç¢Âô®ËøòÈúÄË¶ÅÂØºÂÖ•‰ª•‰∏ãÁöÑ‰æùËµñ Gson: com.squareup.retrofit2:converter-gson Jackson: com.squareup.retrofit2:converter-jackson Moshi: com.squareup.retrofit2:converter-moshi Protobuf: com.squareup.retrofit2:converter-protobuf Wire: com.squareup.retrofit2:converter-wire Simple XML: com.squareup.retrofit2:converter-simplexml Scalars (primitives, boxed, and String): com.squareup.retrofit2:converter-scalars 2.2 Ê∑ªÂä†ÁΩëÁªúÊùÉÈôêÂú®‰Ω†APPÁöÑAndroidManifest.xmlÈáåÊ∑ªÂä†&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; 2.3 ÂàõÂª∫ Êé•Êî∂ÊúçÂä°Âô®ËøîÂõûÊï∞ÊçÆ ÁöÑÁ±ªReception.java1234puublic class Reception &#123; // Ê†πÊçÆËøîÂõûÊï∞ÊçÆÁöÑÊ†ºÂºèÂíåÊï∞ÊçÆËß£ÊûêÊñπÂºèÂÆö‰πâ ...&#125; 2.4 ÂàõÂª∫ Áî®‰∫éÊèèËø∞ÁΩëÁªúËØ∑Ê±Ç ÁöÑÊé•Âè£GetRequest_Interface.interface123456789public interface GetRequest_Interface &#123; @GET("openapi.do?keyfrom=Yanzhikai&amp;key=2032414398&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=car") Call&lt;Translation&gt; getCall(); // @GETÊ≥®Ëß£ÁöÑ‰ΩúÁî®:ÈááÁî®GetÊñπÊ≥ïÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç // getCall() = Êé•Êî∂ÁΩëÁªúËØ∑Ê±ÇÊï∞ÊçÆÁöÑÊñπÊ≥ï // ÂÖ∂‰∏≠ËøîÂõûÁ±ªÂûã‰∏∫Call&lt;*&gt;Ôºå*ÊòØÊé•Êî∂Êï∞ÊçÆÁöÑÁ±ªÔºàÂç≥‰∏äÈù¢ÂÆö‰πâÁöÑTranslationÁ±ªÔºâ // Â¶ÇÊûúÊÉ≥Áõ¥Êé•Ëé∑ÂæóResponsebody‰∏≠ÁöÑÂÜÖÂÆπÔºåÂèØ‰ª•ÂÆö‰πâÁΩëÁªúËØ∑Ê±ÇËøîÂõûÂÄº‰∏∫Call&lt;ResponseBody&gt;&#125; 2.5 ÂàõÂª∫RetrofitÂÆû‰æã12345Retrofit retrofit = new Retrofit.Builder() .baseUrl("http://fanyi.youdao.com/") // ËÆæÁΩÆÁΩëÁªúËØ∑Ê±ÇÁöÑUrlÂú∞ÂùÄ .addConverterFactory(GsonConverterFactory.create()) // ËÆæÁΩÆÊï∞ÊçÆËß£ÊûêÂô® .addCallAdapterFactory(RxJavaCallAdapterFactory.create()) // ÊîØÊåÅRxJavaÂπ≥Âè∞ .build(); 2.6 ÂàõÂª∫ÁΩëÁªúËØ∑Ê±ÇÊé•Âè£ÂÆû‰æã12345// ÂàõÂª∫ ÁΩëÁªúËØ∑Ê±ÇÊé•Âè£ ÁöÑÂÆû‰æãGetRequest_Interface request = retrofit.create(GetRequest_Interface.class);//ÂØπ ÂèëÈÄÅËØ∑Ê±Ç ËøõË°åÂ∞ÅË£ÖCall&lt;Reception&gt; call = request.getCall(); 2.7 ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç123456789101112131415//ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç(ÂºÇÊ≠•)call.enqueue(new Callback&lt;Translation&gt;() &#123; //ËØ∑Ê±ÇÊàêÂäüÊó∂ÂõûË∞É @Override public void onResponse(Call&lt;Translation&gt; call, Response&lt;Translation&gt; response) &#123; //ËØ∑Ê±ÇÂ§ÑÁêÜ,ËæìÂá∫ÁªìÊûú response.body().show(); &#125; //ËØ∑Ê±ÇÂ§±Ë¥•Êó∂ÂÄôÁöÑÂõûË∞É @Override public void onFailure(Call&lt;Translation&gt; call, Throwable throwable) &#123; System.out.println("ËøûÊé•Â§±Ë¥•"); &#125;&#125;); 2.8 Â§ÑÁêÜËøîÂõûÊï∞ÊçÆ123456789101112131415//ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç(ÂºÇÊ≠•)call.enqueue(new Callback&lt;Translation&gt;() &#123; //ËØ∑Ê±ÇÊàêÂäüÊó∂ÂõûË∞É @Override public void onResponse(Call&lt;Translation&gt; call, Response&lt;Translation&gt; response) &#123; // ÂØπËøîÂõûÊï∞ÊçÆËøõË°åÂ§ÑÁêÜ response.body().show(); &#125; //ËØ∑Ê±ÇÂ§±Ë¥•Êó∂ÂÄôÁöÑÂõûË∞É @Override public void onFailure(Call&lt;Translation&gt; call, Throwable throwable) &#123; System.out.println("ËøûÊé•Â§±Ë¥•"); &#125;&#125;); Áî±‰∫éÊú¨ÊñáÁöÑÊ†∏ÂøÉ‰∏çÊòØËÆ≤Áî®Ê≥ïÔºåÊâÄ‰ª•ÂÖ≥‰∫éÁî®Ê≥ïËøôÂùóÔºåÊàëÂπ∂Ê≤°ÊúâÂ§öËÆ≤ÔºåÂ§ßÂÆ∂Ëã•ÊÉ≥Â§ö‰∫ÜËß£ÔºåÂèØ‰ª•ÁúãÊ≠§ÂçöÂÆ¢ÔºöËøôÊòØ‰∏Ä‰ªΩÂæàËØ¶ÁªÜÁöÑ Retrofit 2.0 ‰ΩøÁî®ÊïôÁ®ãÔºàÂê´ÂÆû‰æãËÆ≤Ëß£Ôºâ 3. RetrofitÊ∫êÁ†Å3.1 RetrofitÂØπË±°ÊûÑÈÄ†Ê∫êÁ†ÅÂ∫îÂØπ‰∏Ä‰∏™Ê°ÜÊû∂ÁöÑÊ∫êÁ†ÅÈ¶ñÂÖà‰ªé‰ΩøÁî®ÂÆÉÁöÑÂú∞ÊñπÂºÄÂßãÔºåÊàë‰ª¨ÂÖàÊù•ÁúãRetrofitÁöÑÂàõÂª∫‰ª£Á†ÅÔºö1234Retrofit retrofit = new Retrofit.Builder() .baseUrl("http://fanyi.youdao.com/") .addConverterFactory(GsonConverterFactory.create()) .build(); Êàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÂàÜ‰∏∫5‰∏™ÈÉ®ÂàÜÊù•ÂàÜÊûêÊ∫êÁ†ÅÔºö Êàë‰ª¨È¶ñÂÖàÊù•ÁúãÁ¨¨‰∏ÄÊ≠• 3.1.1 Ê≠•È™§1ÔºöRetrofitÁ±ª12345678910111213141516171819202122232425262728public final class Retrofit &#123; private final Map&lt;Method, ServiceMethod&lt;?&gt;&gt; serviceMethodCache = new ConcurrentHashMap&lt;&gt;(); // ÁΩëÁªúËØ∑Ê±ÇÂ∑•ÂéÇ final okhttp3.Call.Factory callFactory; // ËØ∑Ê±ÇÁöÑUrlÂú∞ÂùÄ final HttpUrl baseUrl; // Êï∞ÊçÆËΩ¨Êç¢Âô®Â∑•ÂéÇÁöÑÈõÜÂêà final List&lt;Converter.Factory&gt; converterFactories; // ÁΩëÁªúËØ∑Ê±ÇÈÄÇÈÖçÂô®Â∑•ÂéÇÁöÑÈõÜÂêà final List&lt;CallAdapter.Factory&gt; callAdapterFactories; // ÂõûË∞É final @Nullable Executor callbackExecutor; // ÊòØÂê¶ÊèêÂâçÂØπ‰∏öÂä°Êé•Âè£‰∏≠ÁöÑÊ≥®Ëß£ËøõË°åÈ™åËØÅËΩ¨Êç¢ÁöÑÊ†áÂøó‰Ωç final boolean validateEagerly; Retrofit(okhttp3.Call.Factory callFactory, HttpUrl baseUrl, List&lt;Converter.Factory&gt; converterFactories, List&lt;CallAdapter.Factory&gt; callAdapterFactories, @Nullable Executor callbackExecutor, boolean validateEagerly) &#123; this.callFactory = callFactory; this.baseUrl = baseUrl; this.converterFactories = converterFactories; // Copy+unmodifiable at call site. this.callAdapterFactories = callAdapterFactories; // Copy+unmodifiable at call site. this.callbackExecutor = callbackExecutor; this.validateEagerly = validateEagerly; &#125; ...// ÁúÅÁï•ÂêéÈù¢ÁöÑ‰ª£Á†Å&#125; ÂèØ‰ª•ÁúãÂà∞ÔºåRetrofitÁöÑÊûÑÈÄ†ÊñπÊ≥ïÈúÄË¶Å‰∏ÄÊ¨°ÊÄßÊääÈúÄË¶ÅÁöÑÊï∞ÊçÆÂÖ®ÈÉ®ÂáÜÂ§áÂ•Ω„ÄÇËÄå‰∏îËøôÂùóÊúâÁâπÂà´Â§öÁöÑÂ∑•ÂéÇÔºå‰ΩøÁî®‰∫ÜÂ∑•ÂéÇÊ®°Âºè„ÄÇËøô‰∏™Êàë‰ª¨‰πãÂêéÂÜçËÆ≤ÔºåÊé•‰∏ãÊù•ÁúãÊ≠•È™§2Ôºö 3.1.2 Ê≠•È™§2ÔºöBuilder()ÊñπÊ≥ïÊàë‰ª¨ÂÖàÊù•Áúã‰∏ãBuilder()ÊñπÊ≥ïÁöÑÊ∫êÁ†ÅÔºö123public Builder() &#123; this(Platform.get());&#125; ËøôÈáåË∞ÉÁî®‰∫ÜRlatform.get()ÊñπÊ≥ïÔºö123static Platform get() &#123; return PLATFORM;&#125; PLATFORMÁöÑÂÆö‰πâÂ∞±Âú®‰∏äÈù¢Ôºö1private static final Platform PLATFORM = findPlatform(); Êàë‰ª¨ÂÜçÊù•Áúã‰∏ãfindPlatform()ÊñπÊ≥ïÔºö12345678910private static Platform findPlatform() &#123; try &#123; Class.forName("android.os.Build"); if (Build.VERSION.SDK_INT != 0) &#123; return new Android(); &#125; &#125; catch (ClassNotFoundException ignored) &#123; &#125; return new Platform(true);&#125; ËøôÂùóÂàõÂª∫‰∫Ü‰∏Ä‰∏™AndroidÂØπË±°ÔºåÊé•ÁùÄËøîÂõû‰∫Ü‰º†ÂÖ•trueÂàõÂª∫ÁöÑPlatformÂØπË±°„ÄÇÊàë‰ª¨ÂÜçÊù•Áúã‰∏ãAndroidÁ±ªÔºö12345678910111213141516171819202122static final class Android extends Platform &#123; Android() &#123; super(Build.VERSION.SDK_INT &gt;= 24); &#125; @Override public Executor defaultCallbackExecutor() &#123; // ËøîÂõû‰∏Ä‰∏™ÈªòËÆ§ÁöÑÂõûË∞ÉÊñπÊ≥ïÊâßË°åÂô® // ËØ•ÊâßË°åÂô®‰ΩúÁî®ÔºöÂàáÊç¢Á∫øÁ®ãÔºàÂ≠ê-&gt;&gt;‰∏ªÁ∫øÁ®ãÔºâÔºåÂπ∂Âú®‰∏ªÁ∫øÁ®ãÔºàUIÁ∫øÁ®ãÔºâ‰∏≠ÊâßË°åÂõûË∞ÉÊñπÊ≥ï return new MainThreadExecutor(); &#125; static class MainThreadExecutor implements Executor &#123; // Ëé∑Âèñ‰∏éAndroid ‰∏ªÁ∫øÁ®ãÁªëÂÆöÁöÑHandler private final Handler handler = new Handler(Looper.getMainLooper()); @Override public void execute(Runnable r) &#123; // ËØ•HandlerÊòØ‰∏äÈù¢Ëé∑ÂèñÁöÑ‰∏éAndroid ‰∏ªÁ∫øÁ®ãÁªëÂÆöÁöÑHandler // Âú®UIÁ∫øÁ®ãËøõË°åÂØπÁΩëÁªúËØ∑Ê±ÇËøîÂõûÊï∞ÊçÆÂ§ÑÁêÜÁ≠âÊìç‰Ωú„ÄÇ handler.post(r); &#125; &#125;&#125; 3.1.3 Ê≠•È™§3ÔºöbaseUrl()ÊñπÊ≥ï1234public Builder baseUrl(String baseUrl) &#123; Objects.requireNonNull(baseUrl, "baseUrl == null"); return baseUrl(HttpUrl.get(baseUrl));&#125; ÊúÄÂêéËøòÊòØË∞ÉÁî®‰∫Ü‰∏Ä‰∏™baseUrl()ÊñπÊ≥ïÔºåÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™baseUrl()ÊñπÊ≥ïÔºö1234567891011public Builder baseUrl(HttpUrl baseUrl) &#123; Objects.requireNonNull(baseUrl, "baseUrl == null"); // ÊääURLÂèÇÊï∞ÂàÜÂâ≤ÊàêÂá†‰∏™Ë∑ØÂæÑÁ¢éÁâá List&lt;String&gt; pathSegments = baseUrl.pathSegments(); // Ê£ÄÊµãÊúÄÂêé‰∏Ä‰∏™Á¢éÁâáÊù•Ê£ÄÊü•URLÂèÇÊï∞ÊòØ‰∏çÊòØ‰ª•"/"ÁªìÂ∞æ,‰∏çÊòØÂ∞±ÊäõÂá∫ÂºÇÂ∏∏ if (!"".equals(pathSegments.get(pathSegments.size() - 1))) &#123; throw new IllegalArgumentException("baseUrl must end in /: " + baseUrl); &#125; this.baseUrl = baseUrl; return this;&#125; Ê≠•È™§3Áî®‰∫éËÆæÁΩÆÁΩëÁªúËØ∑Ê±ÇÁöÑUrl 3.1.4 Ê≠•È™§4ÔºöaddConverterFactory()ÊñπÊ≥ïÊàë‰ª¨ÂÖàÊù•ÁúãÁúãGsonConverterFactory.create()ÊñπÊ≥ïÔºö123public static GsonConverterFactory create() &#123; return create(new Gson());&#125; ÂèàË∞ÉÁî®‰∫ÜÂè¶‰∏Ä‰∏™create()ÊñπÊ≥ïÔºö1234public static GsonConverterFactory create(Gson gson) &#123; if (gson == null) throw new NullPointerException("gson == null"); return new GsonConverterFactory(gson);&#125; Â¶ÇÊûú‰º†ÂÖ•ÁöÑgson‰∏∫Á©∫Â∞±Êä•ÂºÇÂ∏∏Ôºå‰∏ç‰∏∫Á©∫Â∞±Ë∞ÉÁî®GsonConverterFactoryÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö123private GsonConverterFactory(Gson gson) &#123; this.gson = gson;&#125; ÊâÄ‰ª•Ëøô‰∏™ÊñπÊ≥ïÊú¨Ë¥®Â∞±ÊòØËøîÂõû‰∫Ü‰∏Ä‰∏™gsonÂØπË±°Áªô‰∫ÜaddConverterFactory()ÊñπÊ≥ïÔºåÈÇ£Êàë‰ª¨ÂÜçÊù•ÁúãÁúãËøô‰∏™ÊñπÊ≥ïÔºö12345/** ‰∏∫ÂØπË±°ÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÊ∑ªÂä†ËΩ¨Êç¢Âô®Â∑•ÂéÇ„ÄÇ */public Builder addConverterFactory(Converter.Factory factory) &#123; converterFactories.add(Objects.requireNonNull(factory, "factory == null")); return this;&#125; Ê≠•È™§4ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âê´ÊúâGsonÂÆû‰æãÁöÑGsonConverterFactoryÂØπË±°ÔºåÂπ∂ÊîæÂÖ•‰∫ÜConverterFactory„ÄÇ 3.1.5 Ê≠•È™§5Ôºöbuild()ÊñπÊ≥ï1234567891011121314151617181920212223242526272829303132public Retrofit build() &#123; if (baseUrl == null) &#123; throw new IllegalStateException("Base URL required."); &#125; // ÈÖçÁΩÆÁΩëÁªúËØ∑Ê±ÇÊâßË°åÂô® okhttp3.Call.Factory callFactory = this.callFactory; // Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆöcallFactoryÔºåÂàôÂàõÂª∫OkHttpClient if (callFactory == null) &#123; callFactory = new OkHttpClient(); &#125; // ÈÖçÁΩÆÂõûË∞ÉÊâßË°åÂô® Executor callbackExecutor = this.callbackExecutor; if (callbackExecutor == null) &#123; callbackExecutor = platform.defaultCallbackExecutor(); &#125; // ÈÖçÁΩÆÁΩëÁªúËØ∑Ê±ÇÈÄÇÈÖçÂô®Â∑•ÂéÇ List&lt;CallAdapter.Factory&gt; callAdapterFactories = new ArrayList&lt;&gt;(this.callAdapterFactories); callAdapterFactories.addAll(platform.defaultCallAdapterFactories(callbackExecutor)); // ÈÖçÁΩÆÊï∞ÊçÆËΩ¨Êç¢Âô®Â∑•ÂéÇ List&lt;Converter.Factory&gt; converterFactories = new ArrayList&lt;&gt;( 1 + this.converterFactories.size() + platform.defaultConverterFactoriesSize()); // È¶ñÂÖàÊ∑ªÂä†ÂÜÖÁΩÆËΩ¨Êç¢Âô®Â∑•ÂéÇ„ÄÇËøôÂèØ‰ª•Èò≤Ê≠¢ÈáçÂÜôÂÆÉÁöÑË°å‰∏∫Ôºå‰ΩÜ‰πüÂèØ‰ª•Á°Æ‰øùÂú®‰ΩøÁî®‰ΩøÁî®‰ΩøÁî®ÊâÄÊúâÁ±ªÂûãÁöÑËΩ¨Êç¢Âô®Êó∂Ê≠£Á°ÆÁöÑË°å‰∏∫„ÄÇ converterFactories.add(new BuiltInConverters()); converterFactories.addAll(this.converterFactories); converterFactories.addAll(platform.defaultConverterFactories()); return new Retrofit(callFactory, baseUrl, unmodifiableList(converterFactories), unmodifiableList(callAdapterFactories), callbackExecutor, validateEagerly);&#125; ÊåâÂâçÈù¢ÈÖçÁΩÆÁöÑÂèòÈáèÔºåÂ∞ÜRetrofitÊâÄÊúâÁöÑÂèòÈáèÈÉΩÈÖçÁΩÆÂ•ΩÔºåÊúÄÂêéÂÆåÊàêÂàõÂª∫RetrofitÂÆû‰æã„ÄÇ Âà∞ËøôRetrofitÁöÑÂàõÂª∫ÈÉ®ÂàÜÂ∞±ÂÆå‰∫Ü„ÄÇRetrofitÈÄöËøáÂª∫ÈÄ†ËÄÖÊ®°ÂºèÂàõÂª∫‰∫Ü‰∏Ä‰∏™RetrofitÂÆû‰æãÔºö ËØ∑Ê±ÇÂ∑•ÂéÇcallFactoryÔºöÈªòËÆ§ÊòØOkHttpClient Êï∞ÊçÆËΩ¨Êç¢Âô®Â∑•ÂéÇconverterFactories ÁΩëÁªúËØ∑Ê±ÇÈÄÇÈÖçÂô®Â∑•ÂéÇcallAdapterFactoriesÔºöÈªòËÆ§ÊòØExecutorCallAdapterFactory ÂõûË∞ÉÊâßË°åÂô®callbackExecutor 3.2 ÂàõÂª∫ÁΩëÁªúËØ∑Ê±ÇÊé•Âè£ÁöÑÂÆû‰æãÂ§ßËá¥ÂàõÂª∫ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122&lt;!-- Reception.java --&gt;puublic class Reception &#123; // Ê†πÊçÆËøîÂõûÊï∞ÊçÆÁöÑÊ†ºÂºèÂíåÊï∞ÊçÆËß£ÊûêÊñπÂºèÂÆö‰πâ ...&#125;&lt;!-- GetRequest_Interface.interface --&gt;public interface GetRequest_Interface &#123; @GET("openapi.do?keyfrom=Yanzhikai&amp;key=2032414398&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=car") Call&lt;Translation&gt; getCall(); // @GETÊ≥®Ëß£ÁöÑ‰ΩúÁî®:ÈááÁî®GetÊñπÊ≥ïÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç // getCall() = Êé•Êî∂ÁΩëÁªúËØ∑Ê±ÇÊï∞ÊçÆÁöÑÊñπÊ≥ï // ÂÖ∂‰∏≠ËøîÂõûÁ±ªÂûã‰∏∫Call&lt;*&gt;Ôºå*ÊòØÊé•Êî∂Êï∞ÊçÆÁöÑÁ±ªÔºàÂç≥‰∏äÈù¢ÂÆö‰πâÁöÑTranslationÁ±ªÔºâ // Â¶ÇÊûúÊÉ≥Áõ¥Êé•Ëé∑ÂæóResponsebody‰∏≠ÁöÑÂÜÖÂÆπÔºåÂèØ‰ª•ÂÆö‰πâÁΩëÁªúËØ∑Ê±ÇËøîÂõûÂÄº‰∏∫Call&lt;ResponseBody&gt;&#125;&lt;!-- MainActivity.java --&gt;// ÂàõÂª∫ ÁΩëÁªúËØ∑Ê±ÇÊé•Âè£ ÁöÑÂÆû‰æãGetRequest_Interface request = retrofit.create(GetRequest_Interface.class);//ÂØπ ÂèëÈÄÅËØ∑Ê±Ç ËøõË°åÂ∞ÅË£ÖCall&lt;Reception&gt; call = request.getCall(); Êàë‰ª¨ÂÖàÁúãÁúãretrofit.create()Âπ≤‰∫ÜÂï•Ôºö1234567891011121314151617181920public &lt;T&gt; T create(final Class&lt;T&gt; service) &#123; validateServiceInterface(service); return (T) Proxy.newProxyInstance(service.getClassLoader(), new Class&lt;?&gt;[] &#123; service &#125;, new InvocationHandler() &#123; private final Platform platform = Platform.get(); private final Object[] emptyArgs = new Object[0]; @Override public @Nullable Object invoke(Object proxy, Method method, @Nullable Object[] args) throws Throwable &#123; // Â¶ÇÊûúËØ•ÊñπÊ≥ïÊòØÊù•Ëá™ÂØπË±°ÁöÑÊñπÊ≥ïÔºåÂàôÊé®ËøüÂà∞Ê≠£Â∏∏Ë∞ÉÁî®„ÄÇ if (method.getDeclaringClass() == Object.class) &#123; return method.invoke(this, args); &#125; if (platform.isDefaultMethod(method)) &#123; return platform.invokeDefaultMethod(method, service, proxy, args); &#125; return loadServiceMethod(method).invoke(args != null ? args : emptyArgs); &#125; &#125;);&#125; È¶ñÂÖàË∞ÉÁî®‰∫ÜvalidateServiceInterface()Ëøô‰∏™ÊñπÊ≥ïÔºåÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™ÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132333435private void validateServiceInterface(Class&lt;?&gt; service) &#123; // Â¶ÇÊûú‰∏çÊòØÊé•Âè£Â∞±ÊäõÂºÇÂ∏∏ if (!service.isInterface()) &#123; throw new IllegalArgumentException("API declarations must be interfaces."); &#125; // ÊûÑÈÄ†‰∫Ü‰∏Ä‰∏™ÂÆπÈáè‰∏ãÈôê‰∏∫1ÁöÑÁ©∫ÂèåÂêëÈòüÂàóÊù•Â≠òÂÇ®Êï∞ÊçÆ Deque&lt;Class&lt;?&gt;&gt; check = new ArrayDeque&lt;&gt;(1); // Ê∑ªÂä†Âà∞ÈòüÂàó check.add(service); while (!check.isEmpty()) &#123; // Â∞ÜÈòüÂàóÁöÑÊ≠£ÂêëÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÁßªÈô§ Class&lt;?&gt; candidate = check.removeFirst(); // getTypeParameters()ÁöÑ‰ΩúÁî®ÊòØÂæóÂà∞Ê≥õÂûãÁ±ªÂûãÔºåÂ¶ÇÊûúÊ≥õÂûãÁöÑÊï∞Èáè‰∏ç‰∏∫0ÁöÑËØùËøõÂÖ• if (candidate.getTypeParameters().length != 0) &#123; StringBuilder message = new StringBuilder("Type parameters are unsupported on ") .append(candidate.getName()); if (candidate != service) &#123; message.append(" which is an interface of ") .append(service.getName()); &#125; throw new IllegalArgumentException(message.toString()); &#125; Collections.addAll(check, candidate.getInterfaces()); &#125; if (validateEagerly) &#123; Platform platform = Platform.get(); for (Method method : service.getDeclaredMethods()) &#123; if (!platform.isDefaultMethod(method) &amp;&amp; !Modifier.isStatic(method.getModifiers())) &#123; loadServiceMethod(method); &#125; &#125; &#125;&#125; Ëé∑ÂèñÂà∞PlatformÔºàÂπ≥Âè∞ÔºâÔºåÁÑ∂ÂêéÂÜçÈÅçÂéÜÊé•Âè£‰∏≠ÁöÑÊñπÊ≥ïÔºåË∞ÉÁî®loadServiceMethod()ÊñπÊ≥ïÔºö12345678910111213ServiceMethod&lt;?&gt; loadServiceMethod(Method method) &#123; ServiceMethod&lt;?&gt; result = serviceMethodCache.get(method); if (result != null) return result; synchronized (serviceMethodCache) &#123; result = serviceMethodCache.get(method); if (result == null) &#123; result = ServiceMethod.parseAnnotations(this, method); serviceMethodCache.put(method, result); &#125; &#125; return result;&#125; Ëøô‰∏™ÊñπÊ≥ï‰∏ªË¶ÅÂ∞±ÊòØÈÄöËøáserviceMethodCacheÊù•Â≠òÂÇ®ËΩ¨Êç¢‰∏∫ServiceMethodÁ±ªÂûãÁöÑMethod„ÄÇ ÈÇ£Êàë‰ª¨Âú®ÂõûËøáÂéªÁúãInvocationHandlerÁöÑinvoke()ÊñπÊ≥ï„ÄÇ12345678910111213141516new InvocationHandler() &#123; private final Platform platform = Platform.get(); private final Object[] emptyArgs = new Object[0]; @Override public @Nullable Object invoke(Object proxy, Method method, @Nullable Object[] args) throws Throwable &#123; // Â¶ÇÊûúËØ•ÊñπÊ≥ïÊòØÊù•Ëá™ÂØπË±°ÁöÑÊñπÊ≥ïÔºåÂàôÊé®ËøüÂà∞Ê≠£Â∏∏Ë∞ÉÁî®„ÄÇ if (method.getDeclaringClass() == Object.class) &#123; return method.invoke(this, args); &#125; if (platform.isDefaultMethod(method)) &#123; return platform.invokeDefaultMethod(method, service, proxy, args); &#125; return loadServiceMethod(method).invoke(args != null ? args : emptyArgs); &#125;&#125;); ‰∏§‰∏™ifÂÖà‰∏çÁÆ°ÔºåÂÖàÁúãÊúÄÂêéÁöÑreturnÔºåÂèØ‰ª•ÁúãÂà∞‰ªñË∞ÉÁî®‰∫Ü‰∏Ä‰∏™loadServiceMethod()ÊñπÊ≥ïÔºåËÄåËøô‰∏™ÊñπÊ≥ïÂú®ÂâçÈù¢Â∞±ËØ¥ËøáÔºå‰∏ªË¶ÅÂ∞±ËøîÂõû‰∫Ü‰∏Ä‰∏™ServiceMethod„ÄÇÈÇ£Êàë‰ª¨Êé•ÁùÄÊù•Áúãinvoke()ÊñπÊ≥ïÔºöÊåâ‰Ωècommand+Èº†Ê†áÂ∑¶ÈîÆËøõÂÖ•ÂêéÔºåÊòæÁ§∫ÁöÑÊòØÔºö123456789101112131415161718abstract class ServiceMethod&lt;T&gt; &#123; static &lt;T&gt; ServiceMethod&lt;T&gt; parseAnnotations(Retrofit retrofit, Method method) &#123; RequestFactory requestFactory = RequestFactory.parseAnnotations(retrofit, method); Type returnType = method.getGenericReturnType(); if (Utils.hasUnresolvableType(returnType)) &#123; throw methodError(method, "Method return type must not include a type variable or wildcard: %s", returnType); &#125; if (returnType == void.class) &#123; throw methodError(method, "Service methods cannot return void."); &#125; return HttpServiceMethod.parseAnnotations(retrofit, method, requestFactory); &#125; abstract @Nullable T invoke(Object[] args);&#125; Ëøô‰∏™invoke()Ê†πÊú¨Â∞±ÊòØ‰∏™ÊäΩË±°ÊñπÊ≥ïÂïäÔºåÁÑ∂ÂêéÊàëÂèàÂõûÂéªÊâæÁúãÁúãÊúâÊ≤°ÊúâËØ¥ÊòØÂì™‰∏™ÁªßÊâøËá™ServiceMethodÁöÑÁ±ªÂÆûÁé∞‰∫ÜËøô‰∏™ÊñπÊ≥ïÔºåÁªìÊûú‰πüÊ≤°ÊâæÂà∞ÔºåÊúÄÂêéÊÉ≥Âà∞‰∫ÜAndroidStudioÂèØ‰ª•command+Â∑¶ÈîÆÊâæÂÆûÁé∞‰∫ÜËøô‰∏™Á±ªÁöÑÂú∞ÊñπÂïä„ÄÇ‰∫éÊòØÊàëÂ∞±ÁÇπ‰∫Ü‰∏ãËøô‰∏™Á±ªÔºåÁªìÊûúÊàêÂäüÊâæÂà∞‰∫ÜHttpServiceMethodËøô‰∏™Á±ªÔºå‰ªñÊòØServiceMethodÁöÑÂ≠êÁ±ª‰∏≠ÂîØ‰∏Ä‰∏Ä‰∏™ÂÆûÁé∞‰∫Üinvoke()ÊñπÊ≥ïÁöÑÔºö1234@Override final @Nullable ReturnT invoke(Object[] args) &#123; Call&lt;ResponseT&gt; call = new OkHttpCall&lt;&gt;(requestFactory, args, callFactory, responseConverter); return adapt(call, args);&#125; ÂèØ‰ª•ÁúãÂà∞ËøôÂùó‰ªñÂàõÂª∫‰∫Ü‰∏Ä‰∏™OkHttpCallÂØπË±°ÔºåÊ≠§Â§Ñ‰∏çÂÅöËØ¶Ëß£ÔºåÂèØ‰ª•ÁúãÊàëÂÖ≥‰∫éOkHttpÁöÑ‰∏ÄÁØáÂçöÂÆ¢ÔºöAndroidÁΩëÁªúËØ∑Ê±Ç3‚ÄîËß£ÊûêOkHttpÊ∫êÁ†Å„ÄÇÁÑ∂ÂêéË∞ÉÁî®‰∫ÜadaptÊñπÊ≥ïÔºåÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™ÊñπÊ≥ï:1protected abstract @Nullable ReturnT adapt(Call&lt;ResponseT&gt; call, Object[] args); ËøôÂèàÊòØ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ï„ÄÇÂè™‰∏çËøáÂ•ΩÁöÑÊòØÔºåËøô‰∏™ÊñπÊ≥ï‰∏ãÈù¢Êàë‰ª¨Â∞±ÊâæÂà∞‰∫Ü‰ªñÁöÑÂÆûÁé∞Ôºö1234567891011121314static final class CallAdapted&lt;ResponseT, ReturnT&gt; extends HttpServiceMethod&lt;ResponseT, ReturnT&gt; &#123; private final CallAdapter&lt;ResponseT, ReturnT&gt; callAdapter; CallAdapted(RequestFactory requestFactory, okhttp3.Call.Factory callFactory, Converter&lt;ResponseBody, ResponseT&gt; responseConverter, CallAdapter&lt;ResponseT, ReturnT&gt; callAdapter) &#123; super(requestFactory, callFactory, responseConverter); this.callAdapter = callAdapter; &#125; @Override protected ReturnT adapt(Call&lt;ResponseT&gt; call, Object[] args) &#123; return callAdapter.adapt(call); &#125;&#125; ÂèØÊòØ‰ªñÂèàËøîÂõûÁªô‰∫Ü‰∏Ä‰∏™CallAdapterÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÁöÑadapt()ÊñπÊ≥ï„ÄÇ„ÄÇ„ÄÇ„ÄÇËâπ ÊâÄ‰ª•ÔºåËøôÂùóÊàëÂ∞±‰∏çÊáÇ‰∫ÜÔºåÊàë‰∏çÁü•ÈÅì‰ªñÂà∞Â∫ïÂíãÂÆûÁé∞Ëøô‰∏™ÁöÑËøô‰∏™ÊñπÊ≥ïÁöÑÔºåÊàëÁúã‰∫Ü„ÄäAndroidËøõÈò∂‰πãÂÖâ„ÄãÂíåÂÖ∂ÂÆÉÂæàÂ§öÂçöÂÆ¢Ôºå‰ªñ‰ª¨ÈÉΩÊòØËÄÅÁâàÊú¨ÁöÑRetrofitÔºåcreate()ÊñπÊ≥ï‰∏çÂêåÔºåËÄå‰∏îË∞ÉÁî®ÁöÑadapt()ÊñπÊ≥ï‰πü‰∏çÂêå„ÄÇ„ÄÇ„ÄÇ 3.3 ÁΩëÁªúËØ∑Ê±ÇÁΩëÁªúËØ∑Ê±ÇËøôÂùóRetrofitÂÆûÈôÖ‰∏äÂ∞±ÊòØÁî®OkHttpÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•ËøôÂùóÊàëÂ∞±‰∏çÂú®ËøôÂ§öËØ¥‰∫ÜÔºåÂ§ßÂÆ∂Ë¶Å‰∫ÜËß£ÁöÑÂèØ‰ª•ÁúãÊàë‰πãÂâçÂÜôÁöÑÂçöÂÆ¢ÔºöAndroidÁΩëÁªúËØ∑Ê±Ç3‚ÄîËß£ÊûêOkHttpÊ∫êÁ†Å„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Ê∫êÁ†Å</tag>
        <tag>kotlin</tag>
        <tag>OkHttp</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªü4--ËøõÁ®ãÁöÑÈÄö‰ø°ÂíåÁ∫øÁ®ã]]></title>
    <url>%2Fposts%2F30b7e738.html</url>
    <content type="text"><![CDATA[Â§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãÊàë‰ΩøÁî®ÂπïÂ∏ÉËΩØ‰ª∂ÁîªÁöÑÊÄùÁª¥ÂØºÂõæÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÊÉ≥‰ΩøÁî®ÂπïÂ∏ÉÂèØ‰ª•ÈÄöËøáÊàëÁöÑÈÇÄËØ∑ÈìæÊé•Ê≥®ÂÜåÔºåÂèØÂÖçË¥πËé∑Âæó‰∏Ä‰∏™ÊúàÈ´òÁ∫ß‰ºöÂëòhttps://mubu.com/inv/477598 4.1 ËøõÁ®ãÈÄö‰ø°ËøõÁ®ãÈÄö‰ø°Â∞±ÊòØÊåáËøõÁ®ã‰πãÈó¥ÁöÑ‰ø°ÊÅØ‰∫§Êç¢„ÄÇ Êó©ÊúüÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÊäÄÊúØ‰∏çÂèëËææÔºå‰ª•ÂèäÁî±‰∫éËøõÁ®ãÁöÑÂêåÊ≠•Âíå‰∫íÊñ•ÈúÄË¶ÅÂú®ËøõÁ®ãÈó¥‰∫§Êç¢‰∏ÄÂÆöÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•‰∏çÂ∞ë‰∫∫‰πüÂ∞Ü‰ªñ‰ª¨Áß∞‰∏∫ËøõÁ®ãÈÄö‰ø°Ôºå‰ΩÜÊòØÂÆûË¥®‰∏ä‰ªñ‰ª¨Âè™ËÉΩË¢´Êàê‰∏∫‰ΩéÁ∫ßÁöÑËøõÁ®ãÈÄö‰ø°„ÄÇ‰ª•‰ø°Âè∑Èáè‰∏∫‰æãÔºå‰ªñ ÊïàÁéá‰Ωé Áîü‰∫ßËÄÖÊàñÊ∂àË¥πËÄÖÊØèÊ¨°Âè™ËÉΩÂêëÁºìÂÜ≤Âå∫ÊäïÊîæ‰∏Ä‰∏™‰∫ßÂìÅÊàñËÄÖÂèñÂá∫‰∏Ä‰∏™‰∫ßÂìÅ„ÄÇ ÈÄö‰ø°ÂØπÁî®Êà∑‰∏çÈÄèÊòé ËÄåÂÖ≥‰∫éËøõÁ®ãÈó¥ÈÄö‰ø°ÊâÄÈúÄÁöÑÊï∞ÊçÆÁªìÊûÑÁöÑËÆæÁΩÆÂíåÊï∞ÊçÆÁöÑ‰º†ÈÄÅ„ÄÅËøõÁ®ãÁöÑÂêåÊ≠•Âíå‰∫íÊñ•ÔºåÈÉΩÈúÄË¶ÅÁ®ãÂ∫èÂëòÂéªÂÆåÊàêÔºåÊòæÁÑ∂ÊòØÈùûÂ∏∏‰∏çÊñπ‰æøÁöÑ„ÄÇ ÊâÄ‰ª•È´òÁ∫ßËøõÁ®ãÈÄö‰ø°ÂøÖÈ°ªÊª°Ë∂≥Â¶Ç‰∏ãÁâπÁÇπÔºö ‰ΩøÁî®Êñπ‰æø„ÄÇ OSÈöêËóè‰∫ÜÂÆûÁé∞ËøõÁ®ãÈÄö‰ø°ÁöÑÂÖ∑‰ΩìÁªÜËäÇÔºåÂêëÁî®Êà∑Êèê‰æõ‰∫Ü‰∏ÄÁªÑÁî®‰∫éÂÆûÁé∞È´òÁ∫ßÈÄö‰ø°ÁöÑÂëΩ‰ª§ÔºåÁî®Êà∑ÂèØ‰ª•Êñπ‰æøÂú∞Áõ¥Êé•Âà©Áî®ÂÆÉÂÆûÁé∞ËøõÁ®ã‰πãÈó¥ÁöÑÈÄö‰ø°„ÄÇ È´òÊïàÁöÑ‰º†ÈÄÅÊï∞ÊçÆ„ÄÇ Áî®Êà∑ÂèØ‰ª•Áõ¥Êé•Âà©Áî®È´òÁ∫ßÈÄö‰ø°ÂëΩ‰ª§È´òÊïàÁöÑ‰º†ÈÄÅÂ§ßÈáèÁöÑÊï∞ÊçÆ„ÄÇ ËøõÁ®ãÈÄö‰ø°‰∏ªË¶ÅÊúâÂÖ±‰∫´Â≠òÂÇ®Âô®Á≥ªÁªü„ÄÅÁÆ°ÈÅìÈÄö‰ø°Á≥ªÁªü„ÄÅÊ∂àÊÅØ‰º†ÈÄíÁ≥ªÁªü‰ª•ÂèäÂÆ¢Êà∑Êú∫-ÊúçÂä°Âô®Á≥ªÁªü„ÄÇ 4.1.1 ÂÖ±‰∫´Â≠òÂÇ®Âô®Á≥ªÁªüÂÖ±‰∫´Â≠òÂÇ®Âô®Á≥ªÁªüÂèàÂàÜ‰∏∫‰∫Ü‰∏§ÁßçÔºö Âü∫‰∫éÂÖ±‰∫´Êï∞ÊçÆÁªìÊûÑÁöÑÈÄö‰ø°ÊñπÂºè Âú®ËøôÁßçÈÄö‰ø°ÊñπÂºè‰∏ãÔºåË¶ÅÊ±ÇËøõÁ®ãÂÖ¨Áî®Êüê‰∫õÊï∞ÊçÆÁªìÊûÑÔºåÂÄü‰ª•ÂÆûÁé∞ËØ∏ËøõÁ®ãÈó¥ÁöÑ‰ø°ÊÅØ‰∫§Êç¢„ÄÇËøôÁßçÊñπÂºè‰ªÖÈÄÇÁî®‰∫é‰º†ÈÄíÁõ∏ÂØπÂ∞ëÈáèÁöÑÊï∞ÊçÆÔºåÈÄö‰ø°ÊïàÁéá‰Ωé‰∏ãÔºåÂ±û‰∫é‰ΩéÁ∫ßÈÄö‰ø°„ÄÇ Âü∫‰∫éÂÖ±‰∫´Â≠òÂÇ®Âå∫ÁöÑÈÄö‰ø°ÊñπÂºè ‰∏∫‰∫Ü‰º†ËæìÂ§ßÈáèÊï∞ÊçÆÔºåÂ∞±Âú®ÂÜÖÂ≠ò‰∏≠ÂàíÂá∫‰∫Ü‰∏ÄÂùóÂÖ±‰∫´Â≠òÂÇ®Âå∫ÂüüÔºåËØ∏ËøõÁ®ãÂèØÈÄöËøáÂØπËØ•ÂÖ±‰∫´Âå∫ÁöÑËØªÊàñÂÜô‰∫§Êç¢Êï∞ÊçÆÔºåÂÆûÁé∞ÈÄö‰ø°ÔºåÊï∞ÊçÆÁöÑÂΩ¢ÂºèÂíå‰ΩçÁΩÆÁîöËá≥ËÆøÈóÆÊéßÂà∂ÈÉΩÊòØÁî±ËøõÁ®ãË¥üË¥£ÔºåËÄå‰∏çÊòØOS„ÄÇ 4.1.2 ÁÆ°ÈÅìÈÄö‰ø°Á≥ªÁªüÊâÄË∞ìÁÆ°ÈÅìÔºåÊòØÊåáÁî®‰∫éËøûÊé•‰∏Ä‰∏™ËØªËøõÁ®ãÂíå‰∏Ä‰∏™ÂÜôËøõÁ®ã‰ª•ÂÆûÁé∞‰ªñ‰ª¨‰πãÈó¥ÈÄö‰ø°ÁöÑ‰∏ÄÂùóÂÖ±‰∫´Â≠òÂÇ®Êñá‰ª∂ÔºåÂèàÂè´pipeÊñá‰ª∂„ÄÇÂêëÁÆ°ÈÅìÊèê‰æõËæìÂÖ•ÁöÑÂèëÈÄÅËøõÁ®ã‰ª•Â≠óÁ¨¶ÊµÅÂΩ¢ÂºèÂ∞ÜËææÈáèÁöÑÊï∞ÊçÆÈÄÅÂÖ•ÁÆ°ÈÅìÔºåËÄåÊé•Êî∂ÁÆ°ÈÅìËæìÂá∫ÁöÑÊé•Êî∂ËøõÁ®ãÂàô‰ªéÁÆ°ÈÅì‰∏≠Êé•Êî∂Êï∞ÊçÆ„ÄÇËøôÁßçÊñπÂºèÊòØUNIXÁ≥ªÁªüIPCÊúÄÂè§ËÄÅÁöÑÂΩ¢Âºè„ÄÇ ‰∏∫‰∫ÜÂçèË∞ÉÂèåÊñπÁöÑÈÄö‰ø°Ôºå‰ªñÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏ã‰∏â‰∏™ÂäüËÉΩÁöÑÂçèË∞ÉËÉΩÂäõÔºö ‰∫íÊñ• ÂêåÊ≠• Á°ÆÂÆöÂØπÊñπÊòØÂê¶Â≠òÂú® 4.1.3 Ê∂àÊÅØ‰º†ÈÄíÁ≥ªÁªüÂú®ËøôÁßçÊñπÂºè‰∏ãÔºåÈõÜÊàê‰∏çÂÜçÂÄüÂä©‰ªª‰ΩïÂÖ±‰∫´Â≠òÂÇ®Âå∫ÊàñÊï∞ÊçÆÁªìÊûÑÔºåËÄåÊòØ‰ª•Ê†ºÂºèÂåñÁöÑÊ∂àÊÅØ(Message)‰∏∫Âçï‰ΩçÔºåÂ∞ÜÈÄö‰ø°ÁöÑÊï∞ÊçÆÂ∞ÅË£ÖÂú®Ê∂àÊÅØ‰∏≠ÔºåÂπ∂Âà©Áî®Êìç‰ΩúÁ≥ªÁªüÊèê‰æõÁöÑ‰∏ÄÁªÑÈÄö‰ø°ÂëΩ‰ª§ÔºåÂú®ËøõÁ®ãÈó¥ËøõË°åÊ∂àÊÅØ‰º†ÈÄíÔºåÂÆåÊàêËøõÁ®ãÈó¥ÁöÑÊï∞ÊçÆ‰∫§Êç¢„ÄÇ ËØ•ÊñπÂºèÈöêËóè‰∫ÜÈÄö‰ø°ÂÆûÁé∞ÁªÜËäÇÔºå‰ΩøÈÄö‰ø°ËøáÁ®ãÂØπÁî®Êà∑ÈÄèÊòéÂåñÔºåÈôç‰Ωé‰∫ÜÈÄö‰ø°Á®ãÂ∫èËÆæËÆ°ÁöÑÂ§çÊùÇÊÄßÂíåÈîôËØØÁéáÔºåÊàê‰∏∫ÂΩìÂâçÂ∫îÁî®ÊúÄ‰∏∫ÂπøÊ≥õÁöÑ‰∏ÄÁ±ªËøõÁ®ãÈó¥ÁöÑÈÄö‰ø°Êú∫Âà∂. 4.1.4 ÂÆ¢Êà∑Êú∫-ÊúçÂä°Âô®Á≥ªÁªüÂâçÈù¢ÁöÑÂá†ÁßçÈÄö‰ø°Á≥ªÁªüÔºåËôΩÁÑ∂‰πüÂèØ‰ª•Áî®‰∫éÂÆûÁé∞‰∏çÂêåËÆ°ÁÆóÊú∫Èó¥ËøõÁ®ãÁöÑÂèåÂêëÈÄö‰ø°Ôºå‰ΩÜÊòØÂÆ¢Êà∑Êú∫-ÊúçÂä°Âô®Á≥ªÁªüÁöÑÈÄö‰ø°Êú∫Âà∂ÔºåÂú®ÁΩëÁªúÁéØÂ¢ÉÁöÑÂêÑÁßçÂ∫îÁî®È¢ÜÂüüÂ∑≤Êàê‰∏∫ÂΩìÂâç‰∏ªÊµÅÁöÑÈÄö‰ø°ÂÆûÁé∞Êú∫Âà∂Ôºå‰∏ªË¶ÅÂàÜ‰∏∫‰∏âÁ±ªÔºöÂ•óÊé•Â≠ó„ÄÅËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÂíåËøúÁ®ãÊñπÊ≥ïË∞ÉÁî®„ÄÇÂú®ËøôÂ∞±‰∏çÂ§öËµòËø∞‰∫Ü„ÄÇ 4.2 Á∫øÁ®ã4.2.1 ‰∏∫‰ªÄ‰πàË¶ÅÂºïÂÖ•Á∫øÁ®ãÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºåËøõÁ®ãÊúâ‰∏§‰∏™Âü∫Êú¨Â±ûÊÄßÔºö‚ë†ËøõÁ®ãÊòØ‰∏Ä‰∏™ÂèØÊã•ÊúâËµÑÊ∫êÁöÑÁã¨Á´ãÂçï‰ΩçÔºå‰∏Ä‰∏™ËøõÁ®ãË¶ÅËÉΩÁã¨Á´ãËøêË°åÔºå‰ªñÂøÖÈ°ªÊã•Êúâ‰∏ÄÂÆöÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ‚ë°ËøõÁ®ãÂêåÊó∂ÂèàÊòØ‰∏Ä‰∏™ÂèØÁã¨Á´ãË∞ÉÂ∫¶ÂíåÂàÜÊ¥æÁöÑÂü∫Êú¨Âçï‰Ωç„ÄÇ ‰∏∫‰∫ÜÁ®ãÂ∫èËÉΩÂπ∂ÂèëÊâßË°åÔºåÁ≥ªÁªüÂøÖÈ°ªËÉΩËøõË°åÂàõÂª∫ËøõÁ®ã„ÄÅÊí§ÈîÄËøõÁ®ãÂíåÂàáÊç¢ËøõÁ®ãÊìç‰Ωú„ÄÇ‰ΩÜÊòØÁî±‰∫éËøõÁ®ãÊòØËµÑÊ∫êÁöÑÊã•ÊúâËÄÖÔºåÊâÄ‰ª•Âú®‰∏äËø∞Ëøô‰∫õÊìç‰Ωú‰∏≠ÔºåÁ≥ªÁªüÂøÖÈ°ª‰∏∫‰πã‰ªòÂá∫ËæÉÂ§ßÁöÑÊó∂Á©∫ÂºÄÈîÄ„ÄÇËøôÂ∞±ÈôêÂà∂‰∫ÜÁ≥ªÁªü‰∏≠ÊâÄËÆæÁΩÆËøõÁ®ãÁöÑÊï∞ÁõÆÔºåËÄå‰∏îËøõÁ®ãÂàáÊç¢‰πü‰∏çÂÆúËøá‰∫éÈ¢ëÁπÅÔºå‰ªéËÄåÈôêÂà∂‰∫ÜÂπ∂ÂèëÁ®ãÂ∫¶ÁöÑËøõ‰∏ÄÊ≠•ÊèêÈ´ò„ÄÇ 4.2.2 Á∫øÁ®ãÁöÑÊ¶ÇÂøµÂú®‰∏äËø∞ÂéüÂõ†‰∏ãÔºåÂºïÂÖ•‰∫ÜÁ∫øÁ®ãÁöÑÊ¶ÇÂøµ„ÄÇÂ≠¶ËÄÖ‰ª¨Â∞ÜËøõÁ®ãÁöÑ‰∏§‰∏™Â±ûÊÄßÂàÜÂºÄÔºåËÆ©‰Ωú‰∏∫Ë∞ÉÂ∫¶ÂíåÂàÜÊ¥æÁöÑÂü∫Êú¨Âçï‰Ωç‰∏çÊã•ÊúâËµÑÊ∫êÔºåËÆ©Êã•ÊúâËµÑÊ∫êÁöÑÂü∫Êú¨ÂçïÂÄç‰∏çË¢´È¢ëÁπÅÁöÑË∞ÉÂ∫¶„ÄÇËøôÊ†∑ÁöÑËØùÔºåÂ∞±ÂΩ¢Êàê‰∫ÜÁ∫øÁ®ãÁöÑÊ¶ÇÂøµ„ÄÇ ‰∏ãÈù¢Êàë‰ª¨‰ªé6‰∏™ÊñπÈù¢Êù•ÊØîËæÉ‰∏ãËøõÂíåÁ∫øÁ®ãÔºö Ë∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰Ωç ‰º†ÁªüOS‰∏≠ÔºåËøõÁ®ãÊòØ‰Ωú‰∏∫Áã¨Á´ãË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰ΩçÔºåÊØèÊ¨°Ë∞ÉÂ∫¶Êó∂ÔºåÈÉΩÈúÄË¶Å‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂºÄÈîÄÂ§ß„ÄÇÂú®ÂºïÂÖ•‰∫ÜÁ∫øÁ®ãÁöÑOS‰∏≠ÔºåÁ∫øÁ®ãÊòØ‰Ωú‰∏∫Áã¨Á´ãË∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰ΩçÔºåÁ∫øÁ®ãÂàáÊç¢Êó∂Âè™ÈúÄË¶Å‰øùÂ≠òÂíåËÆæÁΩÆÂ∞ëÈáèÁöÑÂØÑÂ≠òÂô®ÂÜÖÂÆπÔºåÂàáÊç¢‰ª£‰ª∑ËøúÂ∞è‰∫éËøõÁ®ã„ÄÇ Âπ∂ÂèëÊÄß Âú®ÂºïÂÖ•Á∫øÁ®ãÁöÑOS‰∏≠Ôºå‰∏ç‰ªÖËøõÁ®ã‰πãÈó¥ÂèØ‰ª•Âπ∂ÂèëÊâßË°åÔºåËÄå‰∏îÂú®‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÁöÑÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥‰∫¶ÂèØ‰ª•Âπ∂ÂèëÊâßË°åÔºåÁîöËá≥ËøòÂÖÅËÆ∏Âú®‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÁöÑÊâÄÊúâÁ∫øÁ®ãÈÉΩËÉΩÂπ∂ÂèëÊâßË°å„ÄÇ Êã•ÊúâËµÑÊ∫ê ËøõÁ®ãÂèØ‰ª•Êã•ÊúâËµÑÊ∫êÔºåËÄå‰∏îËøòÊòØÁ≥ªÁªü‰∏≠Êã•ÊúâËµÑÊ∫êÁöÑ‰∏Ä‰∏™Âü∫Êú¨Âçï‰Ωç„ÄÇ‰ΩÜÊòØÁ∫øÁ®ãÊú¨Ë∫´Âπ∂‰∏çÊã•ÊúâËµÑÊ∫êÔºåËÄåÊòØ‰ªÖÊúâ‰∏ÄÁÇπÂøÖ‰∏çÂèØÂ∞ëÁöÑ„ÄÅËÉΩ‰øùËØÅÁã¨Á´ãËøêË°åÁöÑËµÑÊ∫ê„ÄÇ Áã¨Á´ãÊÄß Âêå‰∏ÄËøõÁ®ã‰∏≠ÁöÑÁ∫øÁ®ã‰πãÈó¥ÁöÑÁã¨Á´ãÊÄßÊØî‰∏çÂêåËøõÁ®ãÈó¥ÁöÑÁã¨Á´ãÊÄß‰ΩéÂæóÂ§ö„ÄÇ Á≥ªÁªüÂºÄÈîÄ ËøõÁ®ãÂàáÊç¢ÈúÄË¶ÅÂ§ßÈáèÁöÑÁ≥ªÁªüÂºÄÈîÄÔºåËÄåÁ∫øÁ®ãÈó¥ÂàôÈúÄË¶ÅÁöÑÂæàÂ∞ë ÊîØÊåÅÂ§öÂ§ÑÁêÜÊú∫Á≥ªÁªü Âú®Â§öÂ§ÑÁêÜÊú∫Á≥ªÁªü‰∏≠ÔºåÂØπ‰∫é‰º†ÁªüËøõÁ®ãÔºå‰∏çÁÆ°ÊúâÂ§öÂ∞ëÂ§ÑÁêÜÊú∫ÔºåËØ•ËøõÁ®ãÂè™ËÉΩËøêË°åÂú®‰∏Ä‰∏™Â§ÑÁêÜÊú∫‰∏ä„ÄÇ‰ΩÜÊòØÂØπ‰∫éÂ§öÁ∫øÁ®ãËøõÁ®ãÔºåÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÁöÑÂ§ö‰∏™Á∫øÁ®ãÂàÜÈÖçÂà∞Â§ö‰∏™Â§ÑÁêÜÊú∫‰∏ä„ÄÇ 4.2.3 Á∫øÁ®ãÁöÑÁä∂ÊÄÅÂíåÁ∫øÁ®ãÊéßÂà∂Âùó‰∏éËøõÁ®ã‰∏ÄÊ†∑ÔºåÁ∫øÁ®ã‰πüÊã•Êúâ‰∏â‰∏™Áä∂ÊÄÅÂíåÁ∫øÁ®ãÊéßÂà∂Âùó„ÄÇ 4.2.3.1 Á∫øÁ®ãËøêË°åÁöÑ‰∏â‰∏™Áä∂ÊÄÅÁ∫øÁ®ãÁöÑ‰∏â‰∏™Áä∂ÊÄÅÂíåËøõÁ®ãÁ±ª‰ºº„ÄÇ ËøêË°åÁä∂ÊÄÅÔºåË°®Á§∫Á∫øÁ®ãÂ∑≤Ëé∑ÂæóÂ§ÑÁêÜÊú∫ËÄåÊ≠£Âú®ËøêË°å„ÄÇ Â∞±Áª™Áä∂ÊÄÅÔºåË°®Á§∫Á∫øÁ®ãÂ∑≤ÂÖ∑Â§áÂêÑÁßçÊâßË°åÊù°‰ª∂ÔºåÂè™È°ªÂÜçËé∑ÂæóCPU‰æøÂèØÁ´ãÂç≥ÊâßË°å„ÄÇ ÈòªÂ°ûÁä∂ÊÄÅÔºåÂè™Á∫øÁ®ãÂú®ÊâßË°å‰∏≠Âõ†Êüê‰∫ã‰ª∂ÂèóÈòªËÄåÂ§Ñ‰∫éÊöÇÂÅúÁä∂ÊÄÅ„ÄÇ 4.2.3.2 Á∫øÁ®ãÊéßÂà∂ÂùóTCBÁ∫øÁ®ãÊéßÂà∂ÂùóÁî®Êù•Á∫™ÂΩïÁî®‰∫éÊéßÂà∂ÂíåÁÆ°ÁêÜÁ∫øÁ®ãÁöÑ‰ø°ÊÅØ„ÄÇÁ∫øÁ®ãÊéßÂà∂Âùó‰∏≠ÈÄöÂ∏∏Áî±ËøôÂá†È°πÔºö Á∫øÁ®ãÊ†áËØÜÁ¨¶Ôºå‰∏∫ÊØè‰∏™Á∫øÁ®ãËÆæÁΩÆÂîØ‰∏ÄÂú∞Ê†áËØÜÁ¨¶„ÄÇ ‰∏ÄÁªÑÂØÑÂ≠òÂô®ÔºåÂåÖÊã¨Á®ãÂ∫èËÆ°Êï∞Âô®PC„ÄÅÁä∂ÊÄÅÂØÑÂ≠òÂô®ÂíåÈÄöÁî®ÂØÑÂ≠òÂô®ÁöÑÂÜÖÂÆπ„ÄÇ Á∫øÁ®ãËøêË°åÁä∂ÊÄÅÔºåÁî®‰∫éÊèèËø∞Á∫øÁ®ãÊ≠£Â§Ñ‰∫é‰ΩïÁßçËøêË°åÁä∂ÊÄÅ„ÄÇ ‰ºòÂÖàÁ∫ßÔºåÊèèËø∞Á∫øÁ®ãÊâßË°åÁöÑ‰ºòÂÖàÁ®ãÂ∫¶„ÄÇ Á∫øÁ®ã‰∏ìÊúâÂ≠òÂÇ®Âå∫ÔºåÁî®‰∫éÁ∫øÁ®ãÂàáÊç¢Êó∂Â≠òÊîæÁé∞Âú∫‰øùÊä§‰ø°ÊÅØÔºåÂíå‰∏éËØ•Á∫øÁ®ãÁõ∏ÂÖ≥ÁöÑÁªüËÆ°‰ø°ÊÅØÁ≠â„ÄÇ ‰ø°Âè∑Â±èËîΩÔºåÂç≥ÂØπÊüê‰∫õ‰ø°Âè∑Âä†‰ª•Â±èËîΩ„ÄÇ Â†ÜÊ†àÊåáÈíà„ÄÇ]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[uCropÊ°ÜÊû∂Áî®Ê≥ïÂíåÊ∫êÁ†ÅËß£Êûê]]></title>
    <url>%2Fposts%2F4e4b8b52.html</url>
    <content type="text"><![CDATA[Êú¨‰∫∫ËÉΩÂäõ‰∏çË∂≥ÔºåÂú®ÁúãÂà∞Ê∫êÁ†ÅÊúÄÂêé‰∏ÄÈÉ®ÂàÜÁöÑÊó∂ÂÄôÂ§ßÈáèÊäÑË¢≠ÂèØËÉΩÊòØÊúÄËØ¶ÁªÜÁöÑUCropÊ∫êÁ†ÅËß£Êûê 1. uCropÁÆÄ‰ªãuCropÊòØÁõÆÂâçËæÉÁÅ´ÁöÑÂõæÁâáË£ÅÂâ™Ê°ÜÊû∂ÔºåÂºÄÂèëËÄÖÂÆ£Áß∞‰ªñ‰ºöÊØîÁõÆÂâçÂ∏ÇÈù¢‰∏äÊâÄÊúâÁöÑÂõæÁâáË£ÅÂâ™ÊñπÊ°àÈÉΩË¶ÅÊõ¥ÊµÅÁïÖ„ÄÇÂ§ñÂä†‰ªñÂ∞ÅË£ÖÁ®ãÂ∫¶ËæÉÈ´òÔºåÂèØËá™ÂÆö‰πâÔºåËÄå‰∏îÈ¢úÂÄºÂæàÈ´òÔºà‰ºº‰πéËøô‰∏™ÊâçÊòØÈáçÁÇπÔºâÔºåÁé∞Âú®Ë∂äÊù•Ë∂äÂ§öAPPÈÄâÊã©‰ΩøÁî®ÂÆÉ„ÄÇgithub 2. ‰ΩøÁî®ÊñπÊ≥ïÂæóÁõä‰∫éuCrop‰ºòÁßÄÁöÑÂ∞ÅË£ÖÔºåuCropÁöÑ‰ΩøÁî®ÊñπÊ≥ïÁâπÁÆÄÂçï„ÄÇ 2.1 ÂØºÂÖ•‰æùËµñ ÂÖàÂú®È°πÁõÆÁöÑbuild.gradle‰∏≠Ê∑ªÂä† 123456allprojects &#123; repositories &#123; jcenter() maven &#123; url "https://jitpack.io" &#125; &#125;&#125; Âπ∂Âú®moduleÁöÑbuild.gradle‰∏≠Ê∑ªÂä† implementation &#39;com.github.yalantis:ucrop:2.2.3&#39; - ËΩªÈáèÁ∫ßÊ°ÜÊû∂ implementation &#39;com.github.yalantis:ucrop:2.2.3-native&#39; - Ëé∑ÂæóÊ°ÜÊû∂ÂÖ®ÈÉ®Âº∫Â§ßÁöÑÂäüËÉΩ‰ª•ÂèäÂõæÁâáÁöÑÈ´òË¥®Èáè(ÊúÄÁªàÂèØËÉΩ‰ºöÂØºËá¥apkÁöÑÂ§ßÂ∞èÂ¢ûÂä†1.5MB‰ª•‰∏ä) Áî±‰∫éÊ°ÜÊû∂ÁöÑÊú¨Ë¥®ÊòØË∞ÉÁî®Âà∞Âè¶‰∏Ä‰∏™ActivityÂéªÂ§ÑÁêÜÂõæÁâáÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®AndroidManifest.xml‰∏≠Â∞ÜUCropActivityÊ∑ªÂä†ËøõÂéª 1234&lt;activity android:name="com.yalantis.ucrop.UCropActivity" android:screenOrientation="portrait" android:theme="@style/Theme.AppCompat.Light.NoActionBar"/&gt; Âà∞Ëøô‰Ω†Â∞±ËÉΩÊääcUropÂÖ®ÈÉ®ÂØºÂÖ•Âà∞‰Ω†ÁöÑÈ°πÁõÆÈáåÈù¢‰∫ÜÔºåÊé•‰∏ãÊù•Âí±‰ª¨Â∞±ÊãâÂ∞ÜÂ¶Ç‰ΩïË∞ÉÁî® 2.2 ÂºÄÂßãÂü∫Êú¨ÁöÑË∞ÉÁî®Ë∞ÉÁî®Ëµ∑Êù•ÂæàÁÆÄÂçïÔºö12UCrop.of(sourceUri, destinationUri) .start(context); ÂÖ∂‰∏≠sourceUriÊòØËæìÂÖ•ÂõæÁâáÁöÑUriÔºådestinationUriÊòØËæìÂá∫ÂõæÁâáÁöÑUri„ÄÇÁÑ∂Âêé‰ªñÂ∞±‰ºöÁî±IntentÁöÑË∞ÉÂä®Ë∑≥Âà∞UCropActivityÔºåÁî®Êà∑Â∞±Âú®UCropActivityÈáåÈù¢ËøõË°åÂõæÁâáË£ÅÂâ™Êìç‰ΩúÔºåÁÑ∂ÂêéÊúÄÂêéÁî±UCropActivityÂèëËµ∑‰∏Ä‰∏™IntentÂõûÂà∞‰Ω†ÁöÑActivity„ÄÇ 2.3 Â§ÑÁêÜÂõûÊù•ÁöÑÊï∞ÊçÆÁî±‰∫éÊòØ‰ªéUCropAcitivity‰º†ÂõûÊï∞ÊçÆÔºåÊâÄ‰ª•‰Ω†ÈúÄË¶ÅÂú®‰Ω†ÁöÑActivityÈáåÈù¢ÁöÑonActivityResultÊñπÊ≥ïÂ§ÑÁêÜuCropËøîÂõûÁöÑ‰ø°ÊÅØÔºö12345678@Overridepublic void onActivityResult(int requestCode, int resultCode, Intent data) &#123; if (resultCode == RESULT_OK &amp;&amp; requestCode == UCrop.REQUEST_CROP) &#123; final Uri resultUri = UCrop.getOutput(data); &#125; else if (resultCode == UCrop.RESULT_ERROR) &#123; final Throwable cropError = UCrop.getError(data); &#125;&#125; Âà∞ËøôÔºåÂü∫Êú¨Áî®Ê≥ïÂ∞±ÂÆå‰∫ÜÔºå‰Ω†Â∞±ÂèØ‰ª•Â∞ΩÊÉÖÁöÑ‰ΩøÁî®uCrop„ÄÇ‰ΩÜÊòØÊàëÂâçÈù¢ËØ¥ËøáÔºåuCropÂ∞ÅË£ÖÁ®ãÂ∫¶Â•ΩÔºåËøôÁÇπÂæàÂ§öÂõæÁâáÂ§ÑÁêÜÊ°ÜÊû∂ÈÉΩÂèØ‰ª•ÂÅöÂà∞ÔºåÂü∫Êú¨‰∏äÈÉΩÊòØÊääÈúÄË¶ÅÁöÑÊï∞ÊçÆ‰º†Âà∞Ëá™Â∑±ÁöÑActivity‰πãÂêéÁî±Ëá™Â∑±ÁöÑActivityÂ§ÑÁêÜÔºåÊâÄ‰ª•ÂæàÂ§öÊ°ÜÊû∂ÁúãËµ∑Êù•ÈÉΩÊúâ‰ºòÁßÄÁöÑÂ∞ÅË£ÖÔºåÈÇ£uCropÁõ∏ÊØîÂÖ∂‰ªñÂèàÊúâÂï•Â•ΩÂë¢ÔºåÁ≠îÊ°àÂ∞±ÊòØËá™ÂÆö‰πâÁÅµÊ¥ªÔºö 2.4 uCropÈ´òÈò∂Áî®Ê≥ï2.4.1 ÈÖçÁΩÆuCrop12345678910111213141516171819202122232425262728293031323334353637383940414243/** * ÂêØÂä®Ë£ÅÂâ™ * @param activity ‰∏ä‰∏ãÊñá * @param sourceFilePath ÈúÄË¶ÅË£ÅÂâ™ÂõæÁâáÁöÑÁªùÂØπË∑ØÂæÑ * @param requestCode ÊØîÂ¶ÇÔºöUCrop.REQUEST_CROP * @param aspectRatioX Ë£ÅÂâ™ÂõæÁâáÂÆΩÈ´òÊØî * @param aspectRatioY Ë£ÅÂâ™ÂõæÁâáÂÆΩÈ´òÊØî * @return */public static String startUCrop(Activity activity, String sourceFilePath, int requestCode, float aspectRatioX, float aspectRatioY) &#123; Uri sourceUri = Uri.fromFile(new File(sourceFilePath)); File outDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES); if (!outDir.exists()) &#123; outDir.mkdirs(); &#125; File outFile = new File(outDir, System.currentTimeMillis() + ".jpg"); //Ë£ÅÂâ™ÂêéÂõæÁâáÁöÑÁªùÂØπË∑ØÂæÑ String cameraScalePath = outFile.getAbsolutePath(); Uri destinationUri = Uri.fromFile(outFile); //ÂàùÂßãÂåñÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÈúÄË¶ÅË£ÅÂâ™ÁöÑÂõæÁâáÔºõÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöË£ÅÂâ™ÂêéÂõæÁâá UCrop uCrop = UCrop.of(sourceUri, destinationUri); //ÂàùÂßãÂåñUCropÈÖçÁΩÆ UCrop.Options options = new UCrop.Options(); //ËÆæÁΩÆË£ÅÂâ™ÂõæÁâáÂèØÊìç‰ΩúÁöÑÊâãÂäø options.setAllowedGestures(UCropActivity.SCALE, UCropActivity.ROTATE, UCropActivity.ALL); //ÊòØÂê¶ÈöêËóèÂ∫ïÈÉ®ÂÆπÂô®ÔºåÈªòËÆ§ÊòæÁ§∫ options.setHideBottomControls(true); //ËÆæÁΩÆtoolbarÈ¢úËâ≤ options.setToolbarColor(ActivityCompat.getColor(activity, R.color.colorPrimary)); //ËÆæÁΩÆÁä∂ÊÄÅÊ†èÈ¢úËâ≤ options.setStatusBarColor(ActivityCompat.getColor(activity, R.color.colorPrimary)); //ÊòØÂê¶ËÉΩË∞ÉÊï¥Ë£ÅÂâ™Ê°Ü options.setFreeStyleCropEnabled(true); //UCropÈÖçÁΩÆ uCrop.withOptions(options); //ËÆæÁΩÆË£ÅÂâ™ÂõæÁâáÁöÑÂÆΩÈ´òÊØîÔºåÊØîÂ¶Ç16Ôºö9 uCrop.withAspectRatio(aspectRatioX, aspectRatioY); //uCrop.useSourceImageAspectRatio(); //Ë∑≥ËΩ¨Ë£ÅÂâ™È°µÈù¢ uCrop.start(activity, requestCode); return cameraScalePath;&#125; 2.4.2 ÂÖ∂‰ªñÈÖçÁΩÆ1234567891011121314151617181920212223242526//ËÆæÁΩÆToolbarÊ†áÈ¢òvoid setToolbarTitle(@Nullable String text)//ËÆæÁΩÆË£ÅÂâ™ÁöÑÂõæÁâáÊ†ºÂºèvoid setCompressionFormat(@NonNull Bitmap.CompressFormat format)//ËÆæÁΩÆË£ÅÂâ™ÁöÑÂõæÁâáË¥®ÈáèÔºåÂèñÂÄº0-100void setCompressionQuality(@IntRange(from = 0) int compressQuality)//ËÆæÁΩÆÊúÄÂ§öÁº©ÊîæÁöÑÊØî‰æãÂ∞∫void setMaxScaleMultiplier(@FloatRange(from = 1.0, fromInclusive = false) float maxScaleMultiplier)//Âä®ÁîªÊó∂Èó¥void setImageToCropBoundsAnimDuration(@IntRange(from = 100) int durationMillis)//ËÆæÁΩÆÂõæÁâáÂéãÁº©ÊúÄÂ§ßÂÄºvoid setMaxBitmapSize(@IntRange(from = 100) int maxBitmapSize)//ÊòØÂê¶ÊòæÁ§∫Ê§≠ÂúÜË£ÅÂâ™Ê°ÜÈò¥ÂΩ±void setOvalDimmedLayer(boolean isOval) //ËÆæÁΩÆÊ§≠ÂúÜË£ÅÂâ™Ê°ÜÈò¥ÂΩ±È¢úËâ≤void setDimmedLayerColor(@ColorInt int color)//ÊòØÂê¶ÊòæÁ§∫Ë£ÅÂâ™Ê°Üvoid setShowCropFrame(boolean show)//ËÆæÁΩÆË£ÅÂâ™Ê°ÜËæπÁöÑÂÆΩÂ∫¶void setCropFrameStrokeWidth(@IntRange(from = 0) int width)//ÊòØÂê¶ÊòæÁ§∫Ë£ÅÂâ™Ê°ÜÁΩëÊ†ºvoid setShowCropGrid(boolean show) //ËÆæÁΩÆË£ÅÂâ™Ê°ÜÁΩëÊ†ºÈ¢úËâ≤void setCropGridColor(@ColorInt int color)//ËÆæÁΩÆË£ÅÂâ™Ê°ÜÁΩëÊ†ºÂÆΩvoid setCropGridStrokeWidth(@IntRange(from = 0) int width) 3. Ê∫êÁ†ÅËß£Êûê Âú®ÊàëÂºÄÂßãËØ¥Ê∫êÁ†Å‰πãÂâçÔºåÊàëÂª∫ËÆÆÂ§ßÂÆ∂ÂèØ‰ª•ÂÖàÁúã‰∏ãÊàë‰∏ãÈù¢ÁöÑËøûÊé•ÔºåÂõ†‰∏∫Êú¨Ê°ÜÊû∂ÁöÑ‰ΩúËÄÖÁúüÁöÑÊòØ‰∏™Â•Ω‰∫∫Ôºå‰ªñ‰∏ç‰ªÖ‰∏∫Êàë‰ª¨Ë¥°ÁåÆ‰∫ÜËøô‰πàÂ•ΩÁöÑ‰∏Ä‰∏™Ê°ÜÊû∂ÔºåËøòÊääËá™Â∑±ÂÜôËøô‰∏™Ê°ÜÊû∂ÁöÑÊÄùË∑ØÈÉΩÂÜô‰∫ÜÂá∫Êù•ÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÁúãÁúãËã±ÊñáÂéüÁâàÂõΩÂÜÖÁΩëÂèãÁøªËØëÁâàÁôæÂ∫¶ÁΩëÈ°µÁøªËØëÊú∫ÁøªÁâàÂÖ∂ÂÆûÊàë‰∏™‰∫∫ÊÑüËßâÁôæÂ∫¶Êú∫ÁøªÊ≤°ÊúâË∞∑Ê≠åÁøªËØëÁöÑÂ•ΩÔºåÂ§ßÂÆ∂ÊúâÊù°‰ª∂ÁöÑÂèØ‰ª•‰ΩøÁî®Ë∞∑Ê≠åÁøªËØëÊµèËßàÂô®Êèí‰ª∂ÁøªËØëÊï¥‰∏™ÁΩëÈ°µÔºàË∞∑Ê≠åÁøªËØëÂ•ΩÂÉèÂõΩÂÜÖÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÔºâ ‰ª£Á†ÅÁªìÊûÑÂ§ßËá¥ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜ: 3.1 Á¨¨‰∏ÄÈÉ®ÂàÜÔºöUCropActivityÔºàÊï¥‰∏™Ê°ÜÊû∂ÁöÑÂ§ñÂú®ÔºåÁî®Êà∑Êìç‰ΩúÂõæÁâáÁöÑÂú∞ÊñπÔºâ‰ªñÁöÑÂäüËÉΩÂ∞±ÊòØÈ°πÁõÆ‰∏ªË¶ÅÁöÑÁïåÈù¢Ôºå‰ª•ÂèäÂÆûÁé∞‰∏Ä‰∫õÂü∫Êú¨ÁöÑÂàùÂßãÂåñ„ÄÇ‰Ω†Ë∑≥ËΩ¨Âà∞uCropÁúãÂà∞ÁöÑÈÇ£‰∏™Êìç‰ΩúÂõæÁâáÁöÑÁïåÈù¢Â∞±ÊòØÂÆÉ„ÄÇ ËøôÂùóÁúãÊ∫êÁ†ÅÁöÑÊó∂ÂÄô‰ª£Á†ÅÂ±ÖÂ§öÔºå‰ΩÜÊòØÔºåËØ¥ÂÆûËØùÔºåÂ∞±ÂÉèÂàöÂàöËØ¥ÁöÑ‰∏ÄÊ†∑Ôºå‰ªñÈô§‰∫ÜÂàùÂßãÂåñËøòÊòØÂàùÂßãÂåñ„ÄÇÂàùÂßãÂåñÂÆåToolbarÊé•ÁùÄÂàùÂßãÂåñViewGroupÔºåÂàùÂßãÂåñÂÆåViewGroupÊé•ÁùÄÂàùÂßãÂåñImageÊï∞ÊçÆÁ≠âÁ≠â„ÄÇÊâÄ‰ª•ËøôÂùóÊàëÂ∞±Ê≤°ÂíãÁªÜÁúãÔºàÂÖ∂ÂÆûÊòØÂõ†‰∏∫‰ª£Á†ÅÂ§™Èïø‰∫ÜÔºåÈÄÉÔºâ 3.2 Á¨¨‰∫åÈÉ®ÂàÜÔºöOverlayViewÔºàÁªòÂà∂Ë£ÅÂâ™Ê°ÜÔºâËøô‰∏ÄÂùó‰∏ªË¶ÅÂ∞±ÊòØÊù•Áîª‰Ω†ÊâÄÁúãÂà∞ÁöÑÂõæÁâá‰∏≠ÁöÑË£ÅÂâ™ÁöÑËæÖÂä©Á∫ø„ÄÇ Âú®ÊûÑÈÄ†ÊñπÊ≥ïÈáåÈù¢Â∞±Ë∞ÉÁî®‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂ∞±ÊòØinit()ÔºåËÄåinit()ÊñπÊ≥ï‰πüÂ∞±Âπ≤‰∫Ü‰∏Ä‰ª∂‰∫ã‚Äî‚ÄîÂà§Êñ≠„ÄÇÂΩìÁ≥ªÁªüÂ∞è‰∫éJELLY_BEA_MR2‰πüÂ∞±ÊòØAndroid4.3Êó∂ÔºåÂêØÂä®‰∫ÜÁ°¨‰ª∂Âä†ÈÄüÔºåËá≥‰∫é‰∏∫‰ªÄ‰πàsetLayerType(LAYER_TYPE_SOFTWARE, null);Ëøô‰∏™ÁúãÁùÄÂ∞±ÂÉèÂêØÂä®Á°¨‰ª∂Âä†ÈÄüÁöÑÊñπÊ≥ïÔºåÁîöËá≥ÂèÇÊï∞ÈáåÈù¢ËøòÊúâËΩØ‰ª∂Ëøô‰∏™ÂçïËØçÁöÑÊñπÊ≥ïËÉΩÂêØÂä®Á°¨‰ª∂Âä†ÈÄüÔºåËØ∑Â§ßÂÆ∂ÁßªÊ≠•HenCoder Android Ëá™ÂÆö‰πâ View 1-8 Á°¨‰ª∂Âä†ÈÄüÔºàËøõÂéªÁõ¥Êé•ÊêúÁ¥¢Ëøô‰∏™ÊñπÊ≥ïÂç≥ÂèØÔºåÂ∞±ËÉΩÊâæÂà∞Ëß£ÈáäÁöÑÂú∞ÊñπÔºâÔºåÊàëÂÜçÊ¨°‰∏çÂÅöËß£Èáä„ÄÇ Ëøô‰∏™Á±ª‰∏ªË¶ÅÊúâ‰∏§‰∏™ÊñπÊ≥ï drawDimmedLayer()ÁªòÂà∂Ë£ÅÂâ™Ê°Ü‰πãÂ§ñÁöÑÁÅ∞Ëâ≤ÈÉ®ÂàÜ drawCropGrid()ÁªòÂà∂Ë£ÅÂâ™Ê°Ü ÈÇ£Êàë‰ª¨ÂàÜÂà´Êù•Áúã‰∏ãËøô‰∏§‰∏™ÊñπÊ≥ïÔºö 3.2.1 drawDimmedLayer()123456789101112131415161718192021protected void drawDimmedLayer(@NonNull Canvas canvas) &#123; //ÂÖà‰øùÂ≠òÂΩìÂâçÂΩìÂâçÁîªÂ∏É canvas.save(); //Âà§Êñ≠ÊòØÂê¶ÊòæÁ§∫ÂúÜÊ°Ü if (mCircleDimmedLayer) &#123; //ÊåâPathË∑ØÂæÑË£ÅÂâ™ canvas.clipPath(mCircularPath, Region.Op.DIFFERENCE); &#125; else &#123; //Ë£ÅÂâ™Áü©ÂΩ¢ canvas.clipRect(mCropViewRect, Region.Op.DIFFERENCE); &#125; //ÁùÄËâ≤ canvas.drawColor(mDimmedColor); //ÊÅ¢Â§ç‰πãÂâç‰øùÂ≠òÁöÑCanvasÁöÑÁä∂ÊÄÅ canvas.restore(); if (mCircleDimmedLayer) &#123; // ÁªòÂà∂1pxÁ¨îÂàí‰ª•‰øÆÂ§çÂèçÈîØÈΩø canvas.drawCircle(mCropViewRect.centerX(), mCropViewRect.centerY(), Math.min(mCropViewRect.width(), mCropViewRect.height()) / 2.f, mDimmedStrokePaint); &#125;&#125; È¶ñÂÖàÂ∞±ÊòØ‰∏Ä‰∏™mCircleDimmedLayerÔºåËøô‰∏™ÊàëÁúüÁöÑÂæàËø∑ÔºåÂõ†‰∏∫Êàë‰∏çÁü•ÈÅìÂ•πÊòØÂíãÊù•ÁöÑÔºå‰∫éÊòØÊàëÂ∞±ÁúãOverlayViewÊúâÊ≤°ÊúâÂØπËøô‰∏™ÂèòÈáèÁöÑËµãÂÄºÔºå‰∫éÊòØÊï¥‰∏™Á±ªÊàëÂ∞±ÊâæÂà∞‰∫Ü‰∏Ä‰∏™setCircleDimmedLayer()ÊñπÊ≥ïÔºå‰∫éÊòØÊàëÁúãËøô‰∏™ÊñπÊ≥ïÊòØÂú®Âì™Ë¢´Ë∞ÉÁî®‰∫ÜÁöÑÔºåÁÑ∂ÂêéÊàëÂ∞±ÊâæÂà∞‰ªñÂàÜÂà´Ë¢´UCropActivityÂíåUCropFragment‰∏§‰∏™Á±ªË∞ÉÁî®Âà∞ÔºåËÄå‰∏î‰∏Ä‰∏™ÊòØintent.getBooleanExtra()ÊñπÊ≥ï‰∏Ä‰∏™ÊòØbundle.getBoolean()ÊñπÊ≥ïÔºåÁúãÂà∞Ëøô‰∏™ÊàëÁõ∏‰ø°Â§ßÂÆ∂ÈÉΩÊúâÁÇπÊï∞‰∫ÜÔºåËøôÊòéÊòæÂ∞±ÊòØÂÖ∂‰ªñÁ±ª‰º†ËøáÊù•ÁöÑÂïäÔºåÊàëÂèëÁé∞‰ªñ‰∏§ÁöÑkeyÁöÑÂÄºÈÉΩÊòØUCrop.Options.EXTRA_CIRCLE_DIMMED_LAYERÔºåÈÇ£ÊàëÂ∞±ÊáÇ‰∫ÜÔºåÊâæÊï¥‰∏™Ê°ÜÊû∂ÈáåÈù¢Âì™ÂÑøÊèêÂà∞ËøáËøô‰∏™ÂÄº‰∏çÂ∞±Âæó‰∫ÜÔºå‰∫éÊòØÊàëÂ∞±ÂèëÁé∞Èô§‰∫Ü‰∏äÈù¢‰∏§‰∏™ÊñπÊ≥ï‰ª•Âèä‰ªñÁöÑÂàùÂßãÂåñ‰ª•Â§ñÔºåÊàëÂèëÁé∞‰∫ÜÁ¨¨4‰∏™Ë∞ÉÁî®ÁöÑÂú∞ÊñπÔºå‰πüÊòØÂîØ‰∏Ä‰∏Ä‰∏™Ë∞ÉÁî®ÁöÑÂú∞Êñπ‚Äî‚ÄîUcrop.setCircleDimmedLayer()Ôºö1234567/** * @param isCircle - set it to true if you want dimmed layer to have an circle inside * iscircle-Â¶ÇÊûúÂ∏åÊúõÊöóÊòæÂ±Ç‰∏≠Êúâ‰∏Ä‰∏™ÂúÜÔºåËØ∑Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫true„ÄÇ */public void setCircleDimmedLayer(boolean isCircle) &#123; mOptionBundle.putBoolean(EXTRA_CIRCLE_DIMMED_LAYER, isCircle);&#125; Ê≥®Èáä‰∏äÈù¢ÊòØÂéüËØùÔºå‰∏ãÈù¢ÊòØÊàëÁôæÂ∫¶Êú∫ÁøªÁöÑÁøªËØë„ÄÇÁúã‰∫ÜÂ∞±ÊáÇ‰∫ÜÂêßÔºåÂèçÊ≠£ÊàëÊ≤°ÊáÇÔºåÊàë‰πüÂÆåÂÖ®Ê≤°ÊúâËßÅÂà∞Âì™Ë∞ÉÁî®ËøáËøô‰∏™ÊñπÊ≥ïÔºåÊàëÊõ¥‰∏çÊáÇÂï•Âè´Â∏åÊúõÊöóÊòæÂ±ÇÊúâ‰∏™ÂúÜÔºåÂï•Áé©ÊÑèÔºüÂÖÖÊª°Á∫øÊù°ÁöÑÈªëÔºüÔºüÔºüÁõ¥Âà∞ÊàëÂ∞ÜUCropÁöÑË∞ÉÁî®ÊñπÊ≥ï‰øÆÊîπ‰∫ÜÂπ∂ËøêË°å‰πãÂêéÊàëÊâçÊáÇ‰∫ÜÔºö12345val options = UCrop.Options()options.setCircleDimmedLayer(true)UCrop.of(uri, destinationUri) .withOptions(options) .start(this) ÁªìÊûúÊòØÔºö ÁÑ∂ÂêéÂ∞±ÊáÇ‰∫ÜÔºåÂ∫îËØ•ÊòØËÉΩÊà™‰∏Ä‰∏™ÂúÜÂΩ¢ÁöÑÂõæÊ°àÂêßÔºåÁÑ∂ÂêéÊàëÁÇπ‰∏ã‰∫Ü‚úîÔ∏èÔºåÁÑ∂Âêé‚Ä¶‚Ä¶ Êó†ËØùÂèØËØ¥Ôºå‰ΩúËÄÖÁâõÈÄºÔºÅÔºÅÔºÅ ÂõûÂéªÂõûÂéªÔºåÂàöÂàöËØ¥Âà∞drawDimmedLayer()ÔºåÂèØ‰ª•ÁúãÂà∞ÔºåÂ¶ÇÊûúmCircleDimmedLayer‰∏∫trueÂ∞±Ë∞ÉÁî®clipPath()Ë∑üÁùÄË∑ØÂæÑË£ÅÂàá‰∏Ä‰∏™Áü©ÂΩ¢Âä†ÂéüÔºå‰∏çÁÑ∂ÁöÑËØùÂ∞±Ë∞ÉÁî®clipRect()Ë£ÅÂàá‰∏Ä‰∏™Áü©ÂΩ¢„ÄÇÁÑ∂ÂêéÂä†ÂÖ•È¢úËâ≤ÔºåÁÑ∂ÂêéÂÆå‰∫Ü 3.2.2 drawCropGrid()1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950protected void drawCropGrid(@NonNull Canvas canvas) &#123; // Âà§Êñ≠ÊòØÂê¶ÊòæÁ§∫Ââ™Ë£ÅÊ°Ü if (mShowCropGrid) &#123; // Âà§Êñ≠Áü©ÂΩ¢Êï∞ÊçÆÊòØÂê¶‰∏∫Á©∫ÔºåmGridPoints Â¶ÇÊûúÁ≠â‰∫éÁ©∫ÁöÑËØùËøõÂÖ•Â°´ÂÖÖÊï∞ÊçÆ if (mGridPoints == null &amp;&amp; !mCropViewRect.isEmpty()) &#123; // ËØ•Êï∞ÁªÑ‰∏∫ canvas.drawLines ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåËØ•ÂèÇÊï∞Ë¶ÅÊ±ÇÂÖ∂ÂÖÉÁ¥†‰∏™Êï∞‰∏∫ 4 ÁöÑÂÄçÊï∞ mGridPoints = new float[(mCropGridRowCount) * 4 + (mCropGridColumnCount) * 4]; int index = 0; // ÁªÑË£ÖÊï∞ÊçÆÔºåÊï∞ÊçÆ‰∏∫ÊØè‰∏ÄÁªÑÁ∫øÊÆµÁöÑÂùêÊ†áÁÇπ for (int i = 0; i &lt; mCropGridRowCount; i++) &#123; mGridPoints[index++] = mCropViewRect.left; mGridPoints[index++] = (mCropViewRect.height() * (((float) i + 1.0f) / (float) (mCropGridRowCount + 1))) + mCropViewRect.top; mGridPoints[index++] = mCropViewRect.right; mGridPoints[index++] = (mCropViewRect.height() * (((float) i + 1.0f) / (float) (mCropGridRowCount + 1))) + mCropViewRect.top; &#125; for (int i = 0; i &lt; mCropGridColumnCount; i++) &#123; mGridPoints[index++] = (mCropViewRect.width() * (((float) i + 1.0f) / (float) (mCropGridColumnCount + 1))) + mCropViewRect.left; mGridPoints[index++] = mCropViewRect.top; mGridPoints[index++] = (mCropViewRect.width() * (((float) i + 1.0f) / (float) (mCropGridColumnCount + 1))) + mCropViewRect.left; mGridPoints[index++] = mCropViewRect.bottom; &#125; &#125; //ÁªòÂà∂Á∫øÊÆµ if (mGridPoints != null) &#123; canvas.drawLines(mGridPoints, mCropGridPaint); &#125; &#125; //ÁªòÂà∂Áü©ÂΩ¢ÂåÖË£πÁ∫øÊÆµ if (mShowCropFrame) &#123; canvas.drawRect(mCropViewRect, mCropFramePaint); &#125; //ÁªòÂà∂ËæπËßíÂåÖË£π,mFreestyleCropModeÊ≠§ÂèÇÊï∞Â¶ÇÊûúÁ≠â‰∫é1ÁöÑËØù Ââ™Ë£ÅÊ°Ü‰∏∫ÂèØÁßªÂä®Áä∂ÊÄÅÔºå‰∏ÄËà¨‰∏çÁî® if (mFreestyleCropMode != FREESTYLE_CROP_MODE_DISABLE) &#123; canvas.save(); mTempRect.set(mCropViewRect); mTempRect.inset(mCropRectCornerTouchAreaLineLength, -mCropRectCornerTouchAreaLineLength); canvas.clipRect(mTempRect, Region.Op.DIFFERENCE); mTempRect.set(mCropViewRect); mTempRect.inset(-mCropRectCornerTouchAreaLineLength, mCropRectCornerTouchAreaLineLength); canvas.clipRect(mTempRect, Region.Op.DIFFERENCE); canvas.drawRect(mCropViewRect, mCropFrameCornersPaint); canvas.restore(); &#125;&#125; ‰∏ÄÂºÄÂ§¥ÂèàÊòØ‰∏Ä‰∏™Âíå‰∏äÈù¢Á±ª‰ººÁöÑÂèòÈáèmShowCropGridÔºåËøô‰∏ãÊàëÂ∞±‰∏çËØ¥ÊàëÊâæÁöÑÂÖ∑‰ΩìÊ≠•È™§Ôºå‰ªñÁöÑÂäüËÉΩÂ∞±ÊòØÂ¶ÇÊûú‰ªñÊòØtrueÂ∞±‰ºöÂú®Ë£ÅÂâ™Ê°Ü‰∏≠ÊòæÁ§∫9ÂÆ´Ê†ºÁ∫øÔºå‰∏∫falseÂ∞±Ê≤°Êúâ„ÄÇÊé•ÁùÄÂ∞±ÊòØÁîªÁ∫øÈÉ®ÂàÜÔºåÊàëËßâÂæóËøô‰∏™Êàë‰∏çÁî®ËÆ≤Âï•Ôºå‰πüÊ≤°Âï•ËÆ≤ÁöÑÔºåÂîØ‰∏ÄÂ∞±ÊòØ‰∏∫‰ªÄ‰πàmGridPointsËøô‰∏™Êï∞ÁªÑÁöÑÂ§ßÂ∞èÊòØ4ÁöÑÂÄçÊï∞ÔºåÂ§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãËøô‰∏™ÂçöÂÆ¢Android Canvas DrawLines‰∏≠Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑËß£Èáä 3.3 Á¨¨‰∏âÈÉ®ÂàÜÔºöGestureCropImageViewÔºàÊ≠£Âú®Ê°ÜÊû∂ÁöÑÂÜÖÂú®Ôºå‰ª£Á†ÅÊìç‰ΩúÊìç‰ΩúÂõæÁâáÁöÑÂú∞ÊñπÔºâËøô‰∏™ÊòØÊï¥‰∏™È°πÁõÆÊúÄÊ†∏ÂøÉÁöÑÂú∞Êñπ„ÄÇÂâçÈù¢ÁöÑ‰∏§ÈÉ®ÂàÜÈÉΩÊòØUIÁöÑÔºåËÄåËøô‰∏™ÊâçÊòØÁúüÊ≠£ÁöÑÂØπÂõæÁâáËøõË°åÂ§ÑÁêÜÁöÑÈÉ®ÂàÜÔºå‰πüÊòØÊàëÊúÄÊÉ≥Áü•ÈÅì‰∫ÜËß£ÁöÑÈÉ®ÂàÜ„ÄÇËøôÈÉ®ÂàÜ‰ΩúËÄÖ‰πüÂú®‰ªñÁöÑÂçöÂÆ¢ÈáåÈù¢ËØ¥ÁöÑÊúÄÂ§öÊúÄÊ∏ÖÊ•ö„ÄÇ‰ΩúËÄÖÊääËøôÈÉ®ÂàÜÁöÑÈÄªËæëÂàÜ‰∏∫‰∫Ü‰∏â‰∏™ÈÉ®ÂàÜ TransformImageView extends ImageView ‰ªñÂ§ÑÁêÜ‰∫Ü ‰ªéÊ∫êÊãøÂà∞ÂõæÁâá Â∞ÜÂõæÁâáËøõÂèòÊç¢ÔºàÂπ≥Áßª„ÄÅÁº©Êîæ„ÄÅÊóãËΩ¨ÔºâÔºåÂπ∂Â∫îÁî®Âà∞ÂΩìÂâçÂõæÁâá‰∏ä CropImageView extends TransformImageView ‰ªñÂ§ÑÁêÜ‰∫Ü ÁªòÂà∂Ë£ÅÂâ™ËæπÊ°ÜÂíåÁΩëÊ†º ‰∏∫Ë£ÅÂâ™Âå∫ÂüüËÆæÁΩÆ‰∏ÄÂº†ÂõæÁâáÔºàÂ¶ÇÊûúÁî®Êà∑ÂØπÂõæÁâáÊìç‰ΩúÂØºËá¥Ë£ÅÂâ™Âå∫ÂüüÂá∫Áé∞‰∫ÜÁ©∫ÁôΩÔºåÈÇ£‰πàÂõæÁâáÂ∫îËá™Âä®ÁßªÂä®Âà∞ËæπÁïåÂ°´ÂÖÖÁ©∫ÁôΩÂå∫ÂüüÔºâ ÁªßÊâøÁà∂Á±ªÊñπÊ≥ïÔºå‰ΩøÁî®Êõ¥Á≤æÂáÜÁöÑËßÑÂàôÊù•Êìç‰ΩúÁü©ÈòµÔºàÈôêÂà∂ÊúÄÂ§ßÂíåÊúÄÂ∞èÁº©ÊîæÊØîÔºâ Ê∑ªÂä†ÊñπÊ≥ïÂíåÁº©Â∞èÁöÑÊñπÊ≥ï Ë£ÅÂâ™ÂõæÁâá GestureCropImageView extends CropImageView ‰ªñÂ§ÑÁêÜ‰∫Ü ÁõëÂê¨Áî®Êà∑ÊâãÂäøÔºåÂπ∂Ë∞ÉÁî®ÂØπÂ∫îÁöÑÊ≠£Á°ÆÁöÑÊñπÊ≥ï 3.3.1 TransformImageView‰ΩúËÄÖËØ¥ËøôÊòØÊúÄÂÆπÊòìÁöÑÈÉ®ÂàÜ„ÄÇÂú®ÁúãËøô‰∏™Á±ª‰πãÂâçÊàë‰ª¨ÂÖàÊù•ÁúãÁúãBitmapLoadTaskÁ±ªÔºåËøô‰∏™Á±ªÊòØ‰∏ÄÂàáÂõæÂÉèÂ§ÑÁêÜÁöÑÂü∫Á°ÄÔºåËøô‰∏™Á±ªË¥üË¥£‰∫ÜUriËß£Á†ÅbitmapÔºåÂπ∂Â§ÑÁêÜÂàÜËæ®ÁéáÔºöÈ¶ñÂÖàÊ†πÊçÆÊãøÂà∞ÁöÑUriËß£Êûê‰ΩçÂõæÔºö12345678910111213final ParcelFileDescriptor parcelFileDescriptor;try &#123; parcelFileDescriptor = mContext.getContentResolver().openFileDescriptor(mInputUri, "r");&#125; catch (FileNotFoundException e) &#123; return new BitmapWorkerResult(e);&#125;final FileDescriptor fileDescriptor;if (parcelFileDescriptor != null) &#123; fileDescriptor = parcelFileDescriptor.getFileDescriptor();&#125; else &#123; return new BitmapWorkerResult(new NullPointerException("ParcelFileDescriptor was null for given Uri: [" + mInputUri + "]"));&#125; Áé∞Âú®ÔºåÂèØ‰ª•‰ΩøÁî®BitmapFactoryÊñπÊ≥ïËß£Á†ÅFileDescriptor„ÄÇ ‰ΩÜÂú®Ëß£Á†Å‰ΩçÂõæ‰πãÂâçÔºåÊúâÂøÖË¶ÅÁü•ÈÅìÂÆÉÁöÑÂ§ßÂ∞èÔºåÂõ†‰∏∫Â¶ÇÊûúÂàÜËæ®ÁéáÂ§™È´òÔºå‰ΩçÂõæÂ∞ÜË¢´‰∫åÊ¨°ÈááÊ†∑„ÄÇ123456789101112131415161718192021222324252627282930313233final BitmapFactory.Options options = new BitmapFactory.Options();options.inJustDecodeBounds = true;BitmapFactory.decodeFileDescriptor(fileDescriptor, null, options);options.inSampleSize = calculateInSampleSize(options, requiredWidth, requiredHeight);options.inJustDecodeBounds = false;Bitmap decodeSampledBitmap = BitmapFactory.decodeFileDescriptor(fileDescriptor, null, options);close(parcelFileDescriptor);ExifInterface exif = getExif(uri);if (exif != null) &#123; int exifOrientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL); return rotateBitmap(decodeSampledBitmap, exifToDegrees(exifOrientation));&#125; else &#123; return decodeSampledBitmap;&#125; ËøôÊ†∑Â∞±ÊãøÂà∞‰∫ÜbitmapÂÆû‰æã‰∫ÜÔºåÂ∞±ÂèØ‰ª•ÂéªTansformImageViewÂéªÂØπÂõæÁâáËøõË°åË∞ÉÊï¥‰∫Ü„ÄÇÂÖ∂ÂÆûËøô‰∏™Á±ªÊàë‰πü‰∏çÁü•ÈÅìËØ¥Âï•üòÇÔºåÊàëËßâÂæóËøô‰∏™Á±ª‰πüÂ∞±ÊòØÊääMatrixÁöÑpostTranslate()„ÄÅpostRotate()ÂíåpostScale()ÊñπÊ≥ïÁªôÂ∞ÅË£Ö‰∫Ü‰∏ã„ÄÇÂÖ≥‰∫éMatrixÁöÑÁü•ËØÜÂ§ßÂÆ∂ÂèØ‰ª•ÂèÇËÄÉËøôÁØáÂçöÂÆ¢ÔºöÂÆâÂçìËá™ÂÆö‰πâViewËøõÈò∂-MatrixÂéüÁêÜ 3.3.2 CropImageViewËøô‰∏ÄÂ±ÇÊòØÊúÄÂ§çÊùÇÁöÑ‰∏ÄÂ±ÇÔºå‰ΩúËÄÖÁöÑÊìç‰ΩúÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫3Ê≠•ÔºöÂõæÁâáË£ÅÂâ™Ê°ÜÂÅèÁßªËÆ°ÁÆó„ÄÅÂõæÁâáÂΩí‰∏∫Âä®ÁîªÂ§ÑÁêÜ„ÄÅË£ÅÂâ™ÂõæÁâá Á¨¨‰∏ÄÊ≠•ÔºöÂõæÁâáË£ÅÂâ™Ê°ÜÂÅèÁßªËÆ°ÁÆóÂΩìÁî®Êà∑ÊâãÊåáÁßªÂºÄÊó∂ÔºåË¶ÅÁ°Æ‰øùÂõæÁâáÂ§Ñ‰∫éË£ÅÂâ™Âå∫Âüü‰∏≠ÔºåÂ¶ÇÊûú‰∏çÂ§Ñ‰∫éÔºåÈúÄË¶ÅÈÄöËøáÂπ≥ÁßªÊääÂÆÉÁßªËøáÊù•Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public void setImageToWrapCropBounds(boolean animate) &#123; //Â¶ÇÊûúÂõæÁâáÂä†ËΩΩÂÆåÊØïÂπ∂‰∏îÂõæÁâá‰∏çÂ§Ñ‰∫éÂâ™Ë£ÅÂå∫Âüü if (mBitmapLaidOut &amp;&amp; !isImageWrapCropBounds()) &#123; //Ëé∑Âèñ‰∏≠ÂøÉÁÇπX,YÂùêÊ†á float currentX = mCurrentImageCenter[0]; float currentY = mCurrentImageCenter[1]; //Ëé∑ÂèñÁº©ÊîæÊØî‰æã float currentScale = getCurrentScale(); //Ëé∑ÂèñÂÅèÁßªË∑ùÁ¶ª float deltaX = mCropRect.centerX() - currentX; float deltaY = mCropRect.centerY() - currentY; float deltaScale = 0; mTempMatrix.reset(); mTempMatrix.setTranslate(deltaX, deltaY); final float[] tempCurrentImageCorners = Arrays.copyOf(mCurrentImageCorners, mCurrentImageCorners.length); mTempMatrix.mapPoints(tempCurrentImageCorners); //Âà§Êñ≠ÂõæÁâáÊòØÂê¶ÂåÖÂê´Âú®Ââ™Ë£ÅÂå∫Âüü boolean willImageWrapCropBoundsAfterTranslate = isImageWrapCropBounds(tempCurrentImageCorners); //Â¶ÇÊûúÂåÖÂê´Âú®Ââ™Ë£ÅÂå∫Âüü if (willImageWrapCropBoundsAfterTranslate) &#123; //Ëé∑ÂèñÂÅèÁßªÁöÑË∑ùÁ¶ª final float[] imageIndents = calculateImageIndents(); //ÂÅèÁßªÁöÑË∑ùÁ¶ªÔºåÊ®™ÂùêÊ†áÂä†Ê®™ÂùêÊ†á Á∫µÂùêÊ†áÂä†Á∫µÂùêÊ†á deltaX = -(imageIndents[0] + imageIndents[2]); deltaY = -(imageIndents[1] + imageIndents[3]); &#125; else &#123; //Â¶ÇÊûú‰∏çÂåÖÂê´Âú®Ââ™Ë£ÅÂå∫ÂüüÔºåÂàõÂª∫‰∏¥Êó∂Áü©ÂΩ¢ RectF tempCropRect = new RectF(mCropRect); mTempMatrix.reset(); //ËÆæÁΩÆÂÅèÁßªËßíÂ∫¶ mTempMatrix.setRotate(getCurrentAngle()); mTempMatrix.mapRect(tempCropRect); //Ëé∑ÂæóÁü©ÂΩ¢ÁöÑËæπÈïøÂùêÊ†á final float[] currentImageSides = RectUtils.getRectSidesFromCorners(mCurrentImageCorners); //Ëé∑ÂèñÊîæÂ§ßÊØî‰æã deltaScale = Math.max(tempCropRect.width() / currentImageSides[0], tempCropRect.height() / currentImageSides[1]); deltaScale = deltaScale * currentScale - currentScale; &#125; //Â¶ÇÊûúÈúÄË¶ÅÂä®Áîª if (animate) &#123; post(mWrapCropBoundsRunnable = new WrapCropBoundsRunnable( CropImageView.this, mImageToWrapCropBoundsAnimDuration, currentX, currentY, deltaX, deltaY, currentScale, deltaScale, willImageWrapCropBoundsAfterTranslate)); &#125; else &#123; //‰∏çÈúÄË¶ÅÂä®ÁîªÔºåÁõ¥Êé•ÁßªÂä®Âà∞ÁõÆÊ†á‰ΩçÁΩÆ postTranslate(deltaX, deltaY); if (!willImageWrapCropBoundsAfterTranslate) &#123; zoomInImage(currentScale + deltaScale, mCropRect.centerX(), mCropRect.centerY()); &#125; &#125; &#125;&#125; Á¨¨‰∫åÊ≠•ÔºöÂ§ÑÁêÜÂπ≥ÁßªÈÄöËøá‰∏Ä‰∏™RunnableÁ∫øÁ®ãÊù•Â§ÑÁêÜÂπ≥ÁßªÔºåÂπ∂‰∏îÈÄöËøáÊó∂Èó¥Â∑ÆÂÄºÁöÑËÆ°ÁÆóÊù•ÁßªÂä®Âä®ÁîªÔºå‰ΩøÂä®ÁîªÁúãËµ∑Êù•Êõ¥ÁúüÂÆûÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/** * Ê≠§ÂèØËøêË°åÊñá‰ª∂Áî®‰∫éÂä®ÁîªÂõæÂÉèÔºå‰ΩøÂÖ∂ÂÆåÂÖ®Â°´ÂÖÖË£ÅÂâ™ËæπÁïå„ÄÇ * ÁªôÂÆöÂÄºÂú®Âä®ÁîªÊúüÈó¥ÂÜÖÊèí„ÄÇ * runnableÂèØ‰ª•ÁªàÊ≠¢‰∫évie&#123;@link #cancelAllAnimations()&#125;ÊñπÊ≥ïÔºå * ‰πüÂèØ‰ª•Âú®Ëß¶Âèë&#123;@link WrapCropBoundsRunnable#run()&#125;ÊñπÊ≥ïÂÜÖÁöÑÊüê‰∫õÊù°‰ª∂Êó∂ÁªàÊ≠¢„ÄÇ */private static class WrapCropBoundsRunnable implements Runnable &#123; private final WeakReference&lt;CropImageView&gt; mCropImageView; private final long mDurationMs, mStartTime; private final float mOldX, mOldY; private final float mCenterDiffX, mCenterDiffY; private final float mOldScale; private final float mDeltaScale; private final boolean mWillBeImageInBoundsAfterTranslate; public WrapCropBoundsRunnable(CropImageView cropImageView, long durationMs, float oldX, float oldY, float centerDiffX, float centerDiffY, float oldScale, float deltaScale, boolean willBeImageInBoundsAfterTranslate) &#123; mCropImageView = new WeakReference&lt;&gt;(cropImageView); mDurationMs = durationMs; mStartTime = System.currentTimeMillis(); mOldX = oldX; mOldY = oldY; mCenterDiffX = centerDiffX; mCenterDiffY = centerDiffY; mOldScale = oldScale; mDeltaScale = deltaScale; mWillBeImageInBoundsAfterTranslate = willBeImageInBoundsAfterTranslate; &#125; @Override public void run() &#123; CropImageView cropImageView = mCropImageView.get(); if (cropImageView == null) &#123; return; &#125; long now = System.currentTimeMillis(); float currentMs = Math.min(mDurationMs, now - mStartTime); float newX = CubicEasing.easeOut(currentMs, 0, mCenterDiffX, mDurationMs); float newY = CubicEasing.easeOut(currentMs, 0, mCenterDiffY, mDurationMs); float newScale = CubicEasing.easeInOut(currentMs, 0, mDeltaScale, mDurationMs); if (currentMs &lt; mDurationMs) &#123; cropImageView.postTranslate(newX - (cropImageView.mCurrentImageCenter[0] - mOldX), newY - (cropImageView.mCurrentImageCenter[1] - mOldY)); if (!mWillBeImageInBoundsAfterTranslate) &#123; cropImageView.zoomInImage(mOldScale + newScale, cropImageView.mCropRect.centerX(), cropImageView.mCropRect.centerY()); &#125; if (!cropImageView.isImageWrapCropBounds()) &#123; cropImageView.post(this); &#125; &#125; &#125;&#125; ‰∏ãÈù¢ËøòÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãÔºåÁî®‰∫éÂèåÂáªÊîæÂ§ß: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * Ê≠§ÂèØËøêË°åÈ°πÁî®‰∫éËÆæÁΩÆÂõæÂÉèÁº©ÊîæÁöÑÂä®Áîª„ÄÇ * ÁªôÂÆöÂÄºÂú®Âä®ÁîªÊúüÈó¥ÂÜÖÊèí„ÄÇ * runnableÂèØ‰ª•ÁªàÊ≠¢vie &#123;@link #cancelAllAnimations()&#125;ÊñπÊ≥ïÔºå * ‰πüÂèØ‰ª•Âú®Ëß¶Âèë&#123;@link ZoomImageToPosition#run()&#125;ÊñπÊ≥ïÂÜÖÁöÑÊüê‰∫õÊù°‰ª∂Êó∂ÁªàÊ≠¢„ÄÇ */private static class ZoomImageToPosition implements Runnable &#123; private final WeakReference&lt;CropImageView&gt; mCropImageView; private final long mDurationMs, mStartTime; private final float mOldScale; private final float mDeltaScale; private final float mDestX; private final float mDestY; public ZoomImageToPosition(CropImageView cropImageView, long durationMs, float oldScale, float deltaScale, float destX, float destY) &#123; mCropImageView = new WeakReference&lt;&gt;(cropImageView); mStartTime = System.currentTimeMillis(); mDurationMs = durationMs; mOldScale = oldScale; mDeltaScale = deltaScale; mDestX = destX; mDestY = destY; &#125; @Override public void run() &#123; CropImageView cropImageView = mCropImageView.get(); if (cropImageView == null) &#123; return; &#125; long now = System.currentTimeMillis(); float currentMs = Math.min(mDurationMs, now - mStartTime); float newScale = CubicEasing.easeInOut(currentMs, 0, mDeltaScale, mDurationMs); if (currentMs &lt; mDurationMs) &#123; cropImageView.zoomInImage(mOldScale + newScale, mDestX, mDestY); cropImageView.post(this); &#125; else &#123; cropImageView.setImageToWrapCropBounds(); &#125; &#125;&#125; Á¨¨‰∏âÊ≠•ÔºöË£ÅÂâ™ÂõæÁâá 12345678910111213141516171819202122232425/** * ÂèñÊ∂àÊâÄÊúâÂΩìÂâçÂä®ÁîªÂπ∂ËÆæÁΩÆÂõæÂÉè‰ª•Â°´ÂÖÖË£ÅÂâ™Âå∫ÂüüÔºà‰∏çÂ∏¶Âä®ÁîªÔºâ„ÄÇ * ÁÑ∂ÂêéÁî®ÈÄÇÂΩìÁöÑÂèÇÊï∞ÂàõÂª∫Âπ∂ÊâßË°å&#123;@link BitmapCropTask&#125;„ÄÇ */public void cropAndSaveImage(@NonNull Bitmap.CompressFormat compressFormat, int compressQuality, @Nullable BitmapCropCallback cropCallback) &#123; //ÁªìÊùüÂ≠êÁ∫øÁ®ã cancelAllAnimations(); //ËÆæÁΩÆË¶ÅÂâ™Ë£ÅÁöÑÂõæÁâáÔºå‰∏çÈúÄË¶Å‰ΩçÁßªÂä®Áîª setImageToWrapCropBounds(false); //Â≠òÂÇ®ÂõæÁâá‰ø°ÊÅØÔºåÂõõ‰∏™ÂèÇÊï∞ÂàÜÂà´‰∏∫ÔºömCropRectË¶ÅÂâ™Ë£ÅÁöÑÂõæÁâáÁü©ÈòµÔºåÂΩìÂâçÂõæÁâáË¶ÅÂâ™Ë£ÅÁöÑÁü©ÈòµÔºåÂΩìÂâçÊîæÂ§ßÁöÑÂÄºÔºåÂΩìÂâçÊóãËΩ¨ÁöÑËßíÂ∫¶ final ImageState imageState = new ImageState( mCropRect, RectUtils.trapToRect(mCurrentImageCorners), getCurrentScale(), getCurrentAngle()); //Ââ™Ë£ÅÂèÇÊï∞ÔºåmMaxResultImageSizeXÔºåmMaxResultImageSizeYÔºöÂâ™Ë£ÅÂõæÁâáÁöÑÊúÄÂ§ßÂÆΩÂ∫¶„ÄÅÈ´òÂ∫¶„ÄÇ final CropParameters cropParameters = new CropParameters( mMaxResultImageSizeX, mMaxResultImageSizeY, compressFormat, compressQuality, getImageInputPath(), getImageOutputPath(), getExifInfo()); //Ââ™Ë£ÅÊìç‰ΩúÊîæÂà∞AsyncTask‰∏≠ÊâßË°å new BitmapCropTask(getViewBitmap(), imageState, cropParameters, cropCallback).execute();&#125; ËøôÂùóÊ†∏ÂøÉÊñπÊ≥ïËøòÊòØÂú®BitmapCropTask‰∏≠Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162//Ë∞ÉÊï¥Ââ™Ë£ÅÂ§ßÂ∞èÔºåÂ¶ÇÊûúÊúâËÆæÁΩÆÊúÄÂ§ßÂâ™Ë£ÅÂ§ßÂ∞è‰πü‰ºöÂú®ËøôÈáåÂÅöË∞ÉÊï¥Âà∞ËÆæÁΩÆËåÉÂõ¥private float resize() &#123; final BitmapFactory.Options options = new BitmapFactory.Options(); options.inJustDecodeBounds = true; BitmapFactory.decodeFile(mImageInputPath, options); boolean swapSides = mExifInfo.getExifDegrees() == 90 || mExifInfo.getExifDegrees() == 270; float scaleX = (swapSides ? options.outHeight : options.outWidth) / (float) mViewBitmap.getWidth(); float scaleY = (swapSides ? options.outWidth : options.outHeight) / (float) mViewBitmap.getHeight(); float resizeScale = Math.min(scaleX, scaleY); mCurrentScale /= resizeScale; resizeScale = 1; if (mMaxResultImageSizeX &gt; 0 &amp;&amp; mMaxResultImageSizeY &gt; 0) &#123; float cropWidth = mCropRect.width() / mCurrentScale; float cropHeight = mCropRect.height() / mCurrentScale; if (cropWidth &gt; mMaxResultImageSizeX || cropHeight &gt; mMaxResultImageSizeY) &#123; scaleX = mMaxResultImageSizeX / cropWidth; scaleY = mMaxResultImageSizeY / cropHeight; resizeScale = Math.min(scaleX, scaleY); mCurrentScale /= resizeScale; &#125; &#125; return resizeScale;&#125;// Ââ™Ë£ÅÂõæÁâáprivate boolean crop(float resizeScale) throws IOException &#123; ExifInterface originalExif = new ExifInterface(mImageInputPath); //ÂõõËàç‰∫îÂÖ•ÂèñÊï¥ cropOffsetX = Math.round((mCropRect.left - mCurrentImageRect.left) / mCurrentScale); cropOffsetY = Math.round((mCropRect.top - mCurrentImageRect.top) / mCurrentScale); mCroppedImageWidth = Math.round(mCropRect.width() / mCurrentScale); mCroppedImageHeight = Math.round(mCropRect.height() / mCurrentScale); //ËÆ°ÁÆóÂá∫ÂõæÁâáÊòØÂê¶ÈúÄË¶ÅË¢´Ââ™Ë£Å boolean shouldCrop = shouldCrop(mCroppedImageWidth, mCroppedImageHeight); Log.i(TAG, "Should crop: " + shouldCrop); if (shouldCrop) &#123; //Ë∞ÉÁî®C++ÊñπÊ≥ïÂâ™Ë£Å boolean cropped = cropCImg(mImageInputPath, mImageOutputPath, cropOffsetX, cropOffsetY, mCroppedImageWidth, mCroppedImageHeight, mCurrentAngle, resizeScale, mCompressFormat.ordinal(), mCompressQuality, mExifInfo.getExifDegrees(), mExifInfo.getExifTranslation()); //Ââ™Ë£ÅÊàêÂäüÂ§çÂà∂ÂõæÁâáEXIF‰ø°ÊÅØ if (cropped &amp;&amp; mCompressFormat.equals(Bitmap.CompressFormat.JPEG)) &#123; ImageHeaderParser.copyExif(originalExif, mCroppedImageWidth, mCroppedImageHeight, mImageOutputPath); &#125; return cropped; &#125; else &#123; //Áõ¥Êé•Â§çÂà∂ÂõæÁâáÂà∞ÁõÆÊ†áÊñá‰ª∂Â§π FileUtils.copyFile(mImageInputPath, mImageOutputPath); return false; &#125;&#125; 3.3.3 GestureCropImageViewËøô‰∏™Á±ª‰∏ªË¶ÅÂ∞±ÊòØÂØπÊâãÂäøÁöÑÁõëÂê¨ÔºåÊâÄ‰ª•Êàë‰ª¨ÁÆÄÂçïÁ≤óÊö¥ÔºåÁõ¥Êé•Êâæ‰ªñÁöÑonTouchEventÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536/** * Â¶ÇÊûúÊòØACTION_DOWN eventÔºåÁî®Êà∑Ëß¶Êë∏Â±èÂπïÔºåÂøÖÈ°ªÂèñÊ∂àÊâÄÊúâÂΩìÂâçÂä®Áîª„ÄÇ * Â¶ÇÊûúÊòØACTION_UP eventÔºåÁî®Êà∑‰ªéÂ±èÂπï‰∏äÂèñ‰∏ãÊâÄÊúâÊâãÊåáÔºåÂøÖÈ°ªÁ∫†Ê≠£ÂΩìÂâçÂõæÂÉè‰ΩçÁΩÆ„ÄÇ * Â¶ÇÊûúÊúâ‰∏§‰∏™‰ª•‰∏äÁöÑÊâãÊåá-Êõ¥Êñ∞ÁÑ¶ÁÇπÂùêÊ†á„ÄÇ * Â¶ÇÊûúÂ∑≤ÂêØÁî®ÔºåÂàôÂ∞Ü‰∫ã‰ª∂‰º†ÈÄíÁªôÊâãÂäøÊ£ÄÊµãÂô®„ÄÇ */@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; if ((event.getAction() &amp; MotionEvent.ACTION_MASK) == MotionEvent.ACTION_DOWN) &#123; cancelAllAnimations(); &#125; if (event.getPointerCount() &gt; 1) &#123; mMidPntX = (event.getX(0) + event.getX(1)) / 2; mMidPntY = (event.getY(0) + event.getY(1)) / 2; &#125; //ÂèåÂáªÁõëÂê¨ÂíåÊãñÂä®ÁõëÂê¨ mGestureDetector.onTouchEvent(event); //‰∏§ÊåáÁº©ÊîæÁõëÂê¨ if (mIsScaleEnabled) &#123; mScaleDetector.onTouchEvent(event); &#125; //ÊóãËΩ¨ÁõëÂê¨ if (mIsRotateEnabled) &#123; mRotateDetector.onTouchEvent(event); &#125; if ((event.getAction() &amp; MotionEvent.ACTION_MASK) == MotionEvent.ACTION_UP) &#123; //ÊúÄÂêé‰∏ÄÊåáÊä¨Ëµ∑Êó∂Âà§Êñ≠ÂõæÁâáÊòØÂê¶Â°´ÂÖÖÂâ™Ë£ÅÊ°Ü setImageToWrapCropBounds(); &#125; return true;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Ê∫êÁ†Å</tag>
        <tag>uCrop</tag>
        <tag>ÂõæÁâáÂ§ÑÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Aria2macOSÂÆâË£Ö]]></title>
    <url>%2Fposts%2F4f46fdbb.html</url>
    <content type="text"><![CDATA[ÂØπ‰∏çËµ∑Â§ßÂÆ∂ÔºåÂú®ÊàëÈÖçÁΩÆÂ•ΩËøô‰∏™ËΩØ‰ª∂‰πãÂêéÔºåÊàëÂÖ¥ÂÜ≤ÂÜ≤ÁöÑÊâìÂºÄ‰∫ÜgithubÊÉ≥‰∏ãËΩΩ‰∏ãssr4.0forWindowsÔºåËø´‰∏çÂèäÂæÖÊÉ≥ÊÑüÂèó‰∏ãaria2ÁöÑÂø´ÊÑüÔºåÁªìÊûúÂèëÁé∞ÊàëÈîô‰∫Ü„ÄÇ‰∏ãËΩΩÈÄüÂ∫¶Â∞±ÊâçÂá†ÂçÅk/sÔºåÈÇ£‰∏ÄÁû¨Èó¥ÔºåÊàëÊÑüËß¶ÂæàÂ§öÔºåÊàëÁ™ÅÁÑ∂ÊÉ≥Âà∞ÊàëÊò®ÊôöÁöÑËøÖÈõ∑‰∏ãËΩΩÂêåÊ†∑ÁöÑËµÑÊ∫êÂêåÊ†∑ÁöÑÁΩëÂêåÊ†∑ÁöÑvpn‰∏ãÂ§ßÂá†Áôæk/s ÁöÑÈÄüÂ∫¶ÔºåÁÑ∂ÂêéÂèàÁúãÂà∞‰∫ÜÊ≠§Êó∂ÊàëÁªô‰∫àÂ∏åÊúõÁöÑariaÔºåÊàëÈô∑ÂÖ•‰∫ÜÊ≤âÊÄùÔºåÊàñËÆ∏ËøôÂ∞±ÊòØ‰∫∫ÁîüÂêß„ÄÇÁ™ÅÁÑ∂ËßâÂæómacOSËøÖÈõ∑Ôºå‰πüËøòÊå∫Â•ΩÁúãÁöÑÔºå‰πüÊå∫Â•ΩÁî®ÁöÑÔºåÂÆåÂÖ®Ê≤°ÊúâÂπøÂëäÔºåË¶Å‰∏ãËΩΩÊâìÂºÄÔºå‰∏ãËΩΩÂÆå‰∫ÜÂ∞±ÈÄÄÂá∫ÔºåÂîØ‰∏ÄÈóÆÈ¢òÂ∞±ÊòØChromeÁöÑËøÖÈõ∑ÊãìÂ±ï‰ºº‰πéÂ§™ÁÅµÊïè‰∫ÜÁÇπÔºåÊàëÂï•ÈÉΩÊ≤°ÁÇπÂ∞±Ëé´ÂêçÂÖ∂Â¶ôÂºπÂá∫‰∏ãËΩΩÈ°µÈù¢ÔºåÈô§‰∫ÜËøô‰∏™Ôºå‰ºº‰πéÈùûÂ∏∏ÂÆåÁæé„ÄÇÊâÄ‰ª•ÔºåÂú®ÊàëÈÖçÁΩÆÂ•Ωaria2Âπ∂ÂÜô‰∏ãËøôÁØáÂçöÂÆ¢ÂêéÁöÑ‰∏çÂà∞1‰∏™Â∞èÊó∂Êó∂Èó¥ÔºåÊàëÂç∏ËΩΩ‰∫Üaira2ÔºåÂπ∂ÈáçÊñ∞Áî®‰∏ä‰∫ÜËøÖÈõ∑„ÄÇÊâÄ‰ª•ÔºåÊàëÊúÄÂêéÂè™ÊÉ≥ËØ¥‰∏ÄÂè•ÔºåË¥¢Â§ßnbÔºÅË¥¢Â§ßnbÔºÅË¥¢Â§ßnbÔºÅÂØπ‰∏çËµ∑ÔºåËµ∞ÈîôÁâáÂú∫‰∫ÜÔºåÈáçÊù•ÔºåIDMÁâõÈÄºÔºÅIDMÁâõÈÄºÔºÅIDMÁâõÈÄºÔºÅÂ¶ÇÊûúÂì™‰ΩçÁâõÈÄºÁöÑÂ§ßÂì•ÁúãÂà∞‰∫ÜËøôÁØáÂçöÂÆ¢ÔºåËÆ∞ÂæóÂ∏ÆÊàëÁªôIDMËØ¥Â£∞Ôºå‰∏Ä‰∏™WindowsÁöÑIDMÊ≠£ÁâàÁî®Êà∑ÊÄ•ÈúÄIDM macOSÁâàÔºÅÔºÅÔºÅ ‰∏ãËΩΩAira2ÈÄöËøágithubÂÆâË£Ö ÊâìÂºÄgithub‰∏ªÈ°µ aria2/aria2-Release ÊâæÂà∞ÂØπÂ∫îÁöÑÁ≥ªÁªü‰∏ãËΩΩÂÆâË£ÖÂç≥ÂèØ ÈÄöËøáHomebrewÂÆâË£ÖÁªàÁ´ØËæìÂÖ•ÂëΩ‰ª§brew install aria2ÂÆâË£ÖÂç≥ÂèØ„ÄÇÊ≤°ÊúâÂÆâË£ÖHomebrewÁöÑÂêåÂ≠¶ÂèØ‰ª•ÊêúÁ¥¢ÂÆâË£ÖHomebrewÂç≥ÂèØ„ÄÇ Ëøô‰∏™ËΩØ‰ª∂ÊòØÊ≤°ÊúâÂõæÂΩ¢ÁïåÈù¢ÁöÑÔºåÊâÄ‰ª•ÂÆâË£ÖÂ•Ω‰πãÂêéÂú®ÂêØÂä®Âè∞ÈáåÈù¢ÊòØÊâæ‰∏çÂà∞Aria2ÁöÑÂõæÊ†áÁöÑ ÈÖçÁΩÆAira2ÂÖàÂàõÂª∫Aria2ÁöÑÈÖçÁΩÆÊñá‰ª∂Aria2Êèê‰æõ‰∫Ü‰∏§ÁßçÂ∑•‰ΩúÊ®°ÂºèÔºö Áõ¥Êé•ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ãËΩΩ ‰∏çÂ§™Êé®ËçêËøôÁßçÔºåÂõ†‰∏∫ÂëΩ‰ª§Ë°å‰∏ã‰∏ãËΩΩÊØîËæÉÁπÅÁêêÔºåËÄå‰∏î‰πü‰∏çÂ§™Â•ΩÊìç‰Ωú RPCÊ®°Âºè Âú®ËøôÁßçÊñπÂºèÔºåAria2ÂêØÂä®‰πãÂêéÂ∞±‰ºö‰ª•ÂêéÂè∞ÁöÑÊñπÂºèËøêË°åÔºå‰Ω†Â∞±ÂèØ‰ª•ÈÄöËøáWebUIÊàñËÄÖÂÆâË£ÖÂÆ¢Êà∑Á´ØÁöÑÊñπÂºèÊù•‰ΩøÁî®ÂõæÂΩ¢ÁïåÈù¢ÊéßÂà∂Aria2.‰ΩÜÊòØËøôÁßçÊñπÂºè‰∏ãÈúÄË¶ÅÈÖçÁΩÆÊñá‰ª∂ÔºåÁé∞Âú®Â∞±ÂëäËØâÂ§ßÂÆ∂Â¶Ç‰ΩïÈÖçÁΩÆÔºöÈ¶ñÂÖàÂàõÂª∫Êñá‰ª∂ 1234cd ~mkdir /.aria2cd /.aria2touch aria2.conf ÁÑ∂ÂêéÊâìÂºÄFinderÔºå‰ΩøÁî®Âø´Êç∑ÈîÆShift+Cmd+GÂºπÂá∫Ë∑ØÂæÑËæìÂÖ•Ê°ÜÔºåÊé•ÁùÄÂ§çÂà∂Á≤òË¥¥~/.aria2/ÂõûËΩ¶Â∞±ËøõÂÖ•‰∫Ü.aria2Êñá‰ª∂Â§πÔºå‰Ω†Â∞±‰ºöÁúãÂà∞ÈáåÈù¢ÁöÑaria2.confÊñá‰ª∂ÔºåÊé•ÁùÄÁî®ÊñáÊú¨ÁºñËæëÂô®ÊâìÂºÄÔºåÂ§çÂà∂Á≤òË¥¥‰ª•‰∏ãÂÜÖÂÆπ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#Áî®Êà∑Âêç#rpc-user=user#ÂØÜÁ†Å#rpc-passwd=passwd#‰∏äÈù¢ÁöÑËÆ§ËØÅÊñπÂºè‰∏çÂª∫ËÆÆ‰ΩøÁî®,Âª∫ËÆÆ‰ΩøÁî®‰∏ãÈù¢ÁöÑtokenÊñπÂºè#ËÆæÁΩÆÂä†ÂØÜÁöÑÂØÜÈí•#rpc-secret=token#ÂÖÅËÆ∏rpcenable-rpc=true#ÂÖÅËÆ∏ÊâÄÊúâÊù•Ê∫ê, webÁïåÈù¢Ë∑®ÂüüÊùÉÈôêÈúÄË¶Årpc-allow-origin-all=true#ÂÖÅËÆ∏Â§ñÈÉ®ËÆøÈóÆÔºåfalseÁöÑËØùÂè™ÁõëÂê¨Êú¨Âú∞Á´ØÂè£rpc-listen-all=true#RPCÁ´ØÂè£, ‰ªÖÂΩìÈªòËÆ§Á´ØÂè£Ë¢´Âç†Áî®Êó∂‰øÆÊîπ#rpc-listen-port=6800#ÊúÄÂ§ßÂêåÊó∂‰∏ãËΩΩÊï∞(‰ªªÂä°Êï∞), Ë∑ØÁî±Âª∫ËÆÆÂÄº: 3max-concurrent-downloads=5#Êñ≠ÁÇπÁª≠‰º†continue=true#ÂêåÊúçÂä°Âô®ËøûÊé•Êï∞max-connection-per-server=5#ÊúÄÂ∞èÊñá‰ª∂ÂàÜÁâáÂ§ßÂ∞è, ‰∏ãËΩΩÁ∫øÁ®ãÊï∞‰∏äÈôêÂèñÂÜ≥‰∫éËÉΩÂàÜÂá∫Â§öÂ∞ëÁâá, ÂØπ‰∫éÂ∞èÊñá‰ª∂ÈáçË¶Åmin-split-size=10M#ÂçïÊñá‰ª∂ÊúÄÂ§ßÁ∫øÁ®ãÊï∞, Ë∑ØÁî±Âª∫ËÆÆÂÄº: 5split=10#‰∏ãËΩΩÈÄüÂ∫¶ÈôêÂà∂max-overall-download-limit=0#ÂçïÊñá‰ª∂ÈÄüÂ∫¶ÈôêÂà∂max-download-limit=0#‰∏ä‰º†ÈÄüÂ∫¶ÈôêÂà∂max-overall-upload-limit=0#ÂçïÊñá‰ª∂ÈÄüÂ∫¶ÈôêÂà∂max-upload-limit=0#Êñ≠ÂºÄÈÄüÂ∫¶ËøáÊÖ¢ÁöÑËøûÊé•#lowest-speed-limit=0#È™åËØÅÁî®ÔºåÈúÄË¶Å1.16.1‰πãÂêéÁöÑreleaseÁâàÊú¨#referer=*#Êñá‰ª∂‰øùÂ≠òË∑ØÂæÑ, ÈªòËÆ§‰∏∫ÂΩìÂâçÂêØÂä®‰ΩçÁΩÆdir=/Users/xxx/Downloads#Êñá‰ª∂ÁºìÂ≠ò, ‰ΩøÁî®ÂÜÖÁΩÆÁöÑÊñá‰ª∂ÁºìÂ≠ò, Â¶ÇÊûú‰Ω†‰∏çÁõ∏‰ø°LinuxÂÜÖÊ†∏Êñá‰ª∂ÁºìÂ≠òÂíåÁ£ÅÁõòÂÜÖÁΩÆÁºìÂ≠òÊó∂‰ΩøÁî®, ÈúÄË¶Å1.16Âèä‰ª•‰∏äÁâàÊú¨#disk-cache=0#Âè¶‰∏ÄÁßçLinuxÊñá‰ª∂ÁºìÂ≠òÊñπÂºè, ‰ΩøÁî®ÂâçÁ°Æ‰øùÊÇ®‰ΩøÁî®ÁöÑÂÜÖÊ†∏ÊîØÊåÅÊ≠§ÈÄâÈ°π, ÈúÄË¶Å1.15Âèä‰ª•‰∏äÁâàÊú¨(?)#enable-mmap=true#Êñá‰ª∂È¢ÑÂàÜÈÖç, ËÉΩÊúâÊïàÈôç‰ΩéÊñá‰ª∂Á¢éÁâá, ÊèêÈ´òÁ£ÅÁõòÊÄßËÉΩ. Áº∫ÁÇπÊòØÈ¢ÑÂàÜÈÖçÊó∂Èó¥ËæÉÈïø#ÊâÄÈúÄÊó∂Èó¥ none &lt; falloc ? trunc ¬´ prealloc, fallocÂíåtruncÈúÄË¶ÅÊñá‰ª∂Á≥ªÁªüÂíåÂÜÖÊ†∏ÊîØÊåÅfile-allocation=prealloc#ÂºÄÂêØBT‰∏ãËΩΩenable-dht=truebt-enable-lpd=trueenable-peer-exchange=true# bt-tracker Êõ¥Êñ∞ÔºåËß£ÂÜ≥Aria2 BT‰∏ãËΩΩÈÄüÂ∫¶ÊÖ¢Ê≤°ÈÄüÂ∫¶ÁöÑÈóÆÈ¢òudp://tracker.coppersurfer.tk:6969/announce,http://tracker.internetwarriors.net:1337/announce,udp://tracker.opentrackr.org:1337/announce,udp://9.rarbg.to:2710/announce,udp://9.rarbg.me:2710/announce,udp://tracker.openbittorrent.com:80/announce,http://tracker3.itzmx.com:6961/announce,http://tracker1.itzmx.com:8080/announce,udp://exodus.desync.com:6969/announce,udp://retracker.lanta-net.ru:2710/announce,udp://tracker.torrent.eu.org:451/announce,udp://tracker.tiny-vps.com:6969/announce,udp://bt.xxx-tracker.com:2710/announce,udp://tracker2.itzmx.com:6961/announce,udp://tracker.cyberia.is:6969/announce,udp://open.demonii.si:1337/announce,udp://explodie.org:6969/announce,udp://denis.stalker.upeer.me:6969/announce,udp://open.stealth.si:80/announce,http://tracker4.itzmx.com:2710/announce ‰∏çÁî®Êõ¥ÊîπÂï•Ôºå‰πü‰∏çÂª∫ËÆÆÊõ¥ÊîπÂï•ÔºåÂ§ßÂÆ∂ÂèØ‰ª•Áúã‰∏Ä‰∏ã‰∏äÈù¢ÁöÑÈÖçÁΩÆÂÜÖÂÆπÔºåËá≥Â∞ëËÆ∞ÂæóÊØè‰∏ÄÈ°πÂ§ßËá¥ÊòØ‰∏™Âï•ÔºåÂõ†‰∏∫Á≠â‰ºöÈÖçÁΩÆÂõæÂΩ¢ÁïåÈù¢ÈúÄË¶ÅËøô‰∫õ‰ø°ÊÅØ„ÄÇ ÊúÄÂêéÈù¢ÁöÑBT‰∏ãËΩΩÁöÑbt-trackerÂ§ßÂÆ∂ÈÖçÁΩÆËÆ∞ÂæóÂà∞Ëøô‰∏™È°µÈù¢Êõ¥Êñ∞Ôºöhttps://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_best.txt ÁÑ∂ÂêéÂÜçÊääÂÜÖÂÆπÂ§çÂà∂Á≤òË¥¥ËøáÂéª„ÄÇ ‰∏ãËΩΩË∑ØÂæÑ‰Ω†ÂèØ‰ª•Ëá™Â∑±ÈÄâÊã©ÔºåÂèØ‰ª•Â∞±Êää/Users/xxx/Downloads‰∏≠ÁöÑxxxÊç¢Êàê‰Ω†Ëá™Â∑±ÁöÑmacOSÁî®Êà∑ÂêçÂç≥ÂèØ„ÄÇ ÂêØÂä®Aria2 RPCÊ®°ÂºèÁªàÁ´ØËæìÂÖ•aria2c --conf-path=&quot;/Users/xxx/.aria2/aria2.conf&quot; -DÂ∞±ÂèØ‰ª•ÂêØÂä®‰∫Ü„ÄÇ‰∏ÄÊ†∑ÁöÑÔºåxxxÊòØ‰Ω†ÁöÑÁî®Êà∑Âêç„ÄÇ ËøõÂÖ•ÂõæÂΩ¢ÁïåÈù¢Aria2ÊúâÂæàÂ§öÁ¨¨‰∏âÊñπÂõæÂΩ¢ÁïåÈù¢ÔºåÂÆ¢Êà∑Á´ØÊúâÔºå‰ΩÜÊòØÊàëÊ≤°Áî®ËøáÊâÄ‰ª•Êàë‰∏çÂÅö‰ªãÁªçÔºåÂú®Ëøô‰∏ªË¶Å‰ªãÁªçWebUI„ÄÇ YAAWÊèí‰ª∂ Âú®chromeÁöÑÊãìÂ±ï‰∏≠ÂøÉÊêúÁ¥¢YAAWÔºåÁÑ∂ÂêéÂÆâË£ÖÂç≥ÂèØÔºåÊé•ÁùÄÂ∞±‰ºöÂá∫Áé∞YAAMÁöÑÊèí‰ª∂ ÁÇπÂáªÊâìÂºÄÂÆÉÔºåÂ∞±‰ºöËøõÂÖ•YAAWÁöÑWebUI„ÄÇ ÁÇπÂáªÂè≥‰∏äËßíÁöÑüîßÂõæÊ†áÔºåËøõÂÖ•ËÆæÁΩÆÁïåÈù¢ Â¶ÇÊûú‰Ω†‰∏äÈù¢ÁöÑaria2.confÊòØÁõ¥Êé•Â§çÂà∂Á≤òË¥¥ÁöÑÊàëÁöÑËØùÔºåÁÖßÁùÄÊàëÂõæ‰∏≠ÁöÑÂ°´ÂÜôÂ∞±ÂèØ‰ª•‰∫ÜÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü„ÄÇÊâæÂà∞ÈúÄË¶Å‰∏ãËΩΩÁöÑËµÑÊ∫êÂè≥ÈîÆÁÑ∂ÂêéÈÄâÊã©YAAWÂ∞±‰ºöËá™Âä®ÂºÄÂßã‰∏ãËΩΩ„ÄÇ AriaNg WebUIËøô‰∏™ÊØî‰∏äÈù¢ÈÇ£‰∏™Â•ΩÁúãÁÇπÔºåÁº∫ÁÇπÊòØÊ≤°ÊúâÊèí‰ª∂Ôºå‰Ω†Âè™ËÉΩÂ§çÂà∂‰∏ãËΩΩÈìæÊé•ÊâãÂä®Êñ∞Âª∫‰∏ãËΩΩ‰ªªÂä° Âú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•ÁΩëÂùÄ http://ariang.mayswind.net/latest/#!/downloading ÁÇπÂáªAriaNgËÆæÁΩÆ ‰∏ÄÊ†∑ÔºåÂ¶ÇÊûú‰Ω†‰∏äÈù¢ÁöÑaria2.confÊòØÁõ¥Êé•Â§çÂà∂Á≤òË¥¥ÁöÑÊàëÁöÑËØùÔºåÁÖßÁùÄÊàëÂõæ‰∏≠ÁöÑÂ°´ÂÜôÂ∞±ÂèØ‰ª•‰∫ÜÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü„ÄÇ ‰Ω†ÂèØ‰ª•ÁÇπÂáªAria2Áä∂ÊÄÅÔºåÁúãÁúãÊòØ‰∏çÊòØÂ∑≤ËøûÊé•ÔºåÂ¶ÇÊûú‰∏çÊòØÂ∞±ÁúãÁúãÊúâÊ≤°ÊúâÂì™ÂÑøÂíåaria2.confËÆæÁΩÆÁöÑ‰∏ç‰∏ÄÊ†∑„ÄÇ ÂÖ≥Èó≠Aria2Ëøô‰∏™Â•ΩÂÉèÂÆòÊñπÊ≤°ÊúâÊñπÊ≥ïÂÖ≥Èó≠Ôºå‰∫éÊòØÊàë‰ª¨Â∞±Áî®ÊúÄÁÆÄÂçïÁ≤óÊö¥ÁöÑÊñπÊ≥ï„ÄÇ ÁªàÁ´ØËæìÂÖ•ps aux|grep aria2ÂæóÂà∞Aria2ÁöÑËøõÁ®ãÂè∑ ÁÑ∂ÂêéËæìÂÖ•kill numberË∞ÉÁî®Á≥ªÁªüÂëΩ‰ª§Áõ¥Êé•ÊùÄÊ≠ªËøô‰∏™ËøõÁ®ãÔºånumberÊîπ‰∏∫‰∏äÈù¢ÁöÑÂà∞ÁöÑËøõÁ®ãÂè∑Âç≥ÂèØ„ÄÇ ÈÖçÁΩÆËá™ÂêØÂä®ÂàõÂª∫shÊñá‰ª∂ËøõÂÖ•Âà∞Â∏åÊúõ‰øùÂ≠òÁöÑÁõÆÂΩï‰∏ãÔºåÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂aria2.shÔºö1touch aria2.sh ÁÑ∂ÂêéËæìÂÖ•‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂπ∂‰øùÂ≠òÔºö12345#!/bin/bashecho &quot;start aria2 server&quot;aria2c --conf-path=&quot;/Users/xxx/.aria2/aria2.conf&quot; -Decho &quot;exiting&quot;exit ‰øÆÊîπÊñá‰ª∂ÊùÉÈôê Áªôaria2.shÊñá‰ª∂ÊâßË°åÊùÉÈôêÔºöchmod +x aria2.sh ËÆ©aria2.shÈªòËÆ§Áî®Ëá™Â∑±Â∏∏Áî®ÁöÑterminalÂ∑•ÂÖ∑ÊâìÂºÄ„ÄÇÂè≥ÈîÆÊñá‰ª∂ Ôºç&gt; ÊòæÁ§∫ÁÆÄ‰ªãÔºöËÆæÁΩÆ‚ÄúÊâìÂºÄÊñπÂºè-&gt;ÊâÄÊúâÂ∫îÁî®Á®ãÂ∫è‚Äù‰∏∫Ëá™Â∑±ÁöÑterminalÂç≥ÂèØ„ÄÇ Ê∑ªÂä†Âà∞ÂºÄÊú∫ÂêØÂä®È°π Âú®MacÊ°åÈù¢È°∂ÈÉ®ËèúÂçï‰∏≠ÔºåÁÇπÂáªËãπÊûúÂõæÊ†áÔºåÂú®ÂºπÂá∫ÁöÑËèúÂçï‰∏≠ÔºåÁÇπÂáªËøõÂÖ•Á≥ªÁªüÂÅèÂ•ΩËÆæÁΩÆ„ÄÇ Âú®ÊâìÂºÄÁ≥ªÁªüÂÅèÂ•ΩËÆæÁΩÆÂêéÔºåÁÑ∂ÂêéÁÇπÂáªËøõÂÖ•Áî®Êà∑‰∏éÁæ§ÁªÑËÆæÁΩÆÈÄâÈ°π„ÄÇ ÁÑ∂ÂêéÂú®Áî®Êà∑‰∏éÁæ§ÁªÑËÆæÁΩÆÁïåÈù¢ÔºåÂÖàÂú®Â∑¶‰æßÈÄâÊã©ÁôªÈôÜÁî®Êà∑-ÂΩìÂâçÁî®Êà∑ÔºåÁÑ∂ÂêéÂú®Âè≥‰æßÂàáÊç¢Âà∞ÁôªÂΩïÈ°π ÁÑ∂ÂêéÁÇπ‰∏ãÈù¢ÁöÑ+ËøõË°åÊ∑ªÂä†ÔºåÈÄâÊã©ÂàöÊâçÊàë‰ª¨ÂàõÂª∫ÁöÑÊñá‰ª∂aria2.shÔºåÂπ∂ÂãæÈÄâÈöêËóè„ÄÇËøôÊ†∑ aria2 Â∞±ÂèØ‰ª•Âú®ÊØèÊ¨°ÂºÄÊú∫ÁöÑÊó∂ÂÄôËá™ÂêØÂä®‰∫Ü„ÄÇ ÊúÄÂêéÔºåAria2Âç∏ËΩΩÊñπÂºèÁªàÁ´Ø‰∏ãÊâßË°åsudo pkgutil --forget aria2‰ª•Âèäsudo pkgutil --forget aria2.pathÔºåÁÑ∂Âêé‰∏äÈù¢ÂàõÂª∫ÁöÑ.aria2Êñá‰ª∂Â§π]]></content>
      <categories>
        <category>ÊùÇÈ°π</category>
      </categories>
      <tags>
        <tag>Aria2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªü3--ËøõÁ®ãÁöÑÂêåÊ≠•]]></title>
    <url>%2Fposts%2F362e394f.html</url>
    <content type="text"><![CDATA[Â§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãÊàë‰ΩøÁî®ÂπïÂ∏ÉËΩØ‰ª∂ÁîªÁöÑÊÄùÁª¥ÂØºÂõæÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÊÉ≥‰ΩøÁî®ÂπïÂ∏ÉÂèØ‰ª•ÈÄöËøáÊàëÁöÑÈÇÄËØ∑ÈìæÊé•Ê≥®ÂÜåÔºåÂèØÂÖçË¥πËé∑Âæó‰∏Ä‰∏™ÊúàÈ´òÁ∫ß‰ºöÂëòhttps://mubu.com/inv/477598 3.1 ËøõÁ®ãÂêåÊ≠•3.1.1 ÂêåÊ≠•Ê¶ÇÂøµ3.1.1.1 ËøõÁ®ãÂêåÊ≠•ÁöÑÊ¶ÇÂøµËøõÁ®ãÂêåÊ≠•Êú∫Âà∂ÁöÑ‰∏ªË¶Å‰ªªÂä°Â∞±ÊòØÂØπÂ§ö‰∏™Áõ∏ÂÖ≥ËøõÁ®ãÂú®ÊâßË°åÊ¨°Â∫è‰∏äËøõË°åÂçèË∞ÉÔºå‰ΩøÂπ∂ÂèëÊâßË°åÁöÑËøõÁ®ã‰πãÈó¥ËÉΩÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂàôÂÖ±‰∫´Á≥ªÁªüËµÑÊ∫êÔºåÂπ∂ËÉΩÂæàÂ•ΩÁöÑÈÖçÂêàÂ∑•‰ΩúÔºå‰ªéËÄå‰ΩøÁ®ãÂ∫èÁöÑÊâßË°åÂÖ∑ÊúâÂèØÂÜçÁé∞ÊÄß„ÄÇ 3.1.1.2 Âà∂Á∫¶ÂÖ≥Á≥ªÂØπ‰∫éÂ§Ñ‰∫éÂêå‰∏Ä‰∏™Á≥ªÁªü‰∏≠ÁöÑÂ§ö‰∏™ËøõÁ®ãÔºåÁî±‰∫é‰ªñ‰ª¨ÂÖ±‰∫´ÁùÄÁ≥ªÁªüÁöÑËµÑÊ∫êÔºåÊàñËÄÖ‰∏∫‰∫ÜÂÆåÊàêÂêå‰∏Ä‰∏™‰ªªÂä°ËÄåÁõ∏‰∫íÂêà‰ΩúÔºåÊâÄ‰ª•‰ªñ‰ª¨‰πãÈó¥ÂèØËÉΩÂ≠òÂú®‰∏ãÈù¢‰∏§ÁßçÂà∂Á∫¶ÂÖ≥Á≥ªÔºö Èó¥Êé•Áõ∏‰∫íÂà∂Á∫¶ÂÖ≥Á≥ª Á≥ªÁªü‰∏≠ÁöÑËøõÁ®ãÈöæÂÖç‰ºöË∞ÉÁî®ÂÉèÊâìÂç∞Êú∫„ÄÅCPUÁ≠âËøôÊ†∑ÁöÑ‰∏¥ÁïåËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÊÉ≥Ëøô‰∫õËµÑÊ∫êÊ≠£Â∏∏Ë∞ÉÁî®ÔºåÂøÖÈ°ª‰øùËØÅÂ§ö‰∏™ËøõÁ®ã‰πãÈó¥‰∫íÊñ•Âú∞ËÆøÈóÆËøô‰∫õËµÑÊ∫êÔºåËøõËÄåÂ∞±Âú®Ëøô‰∫õËøõÁ®ãÈó¥ÂΩ¢Êàê‰∫ÜÈó¥Êé•Áõ∏‰∫íÂà∂Á∫¶ÂÖ≥Á≥ª„ÄÇ ‰∏∫‰∫Ü‰øùËØÅËøô‰∫õËøõÁ®ãËÉΩÊúâÂ∫èÁöÑËøõË°åÔºåÂØπ‰∫éÁ≥ªÁªü‰∏≠ÁöÑËøôÁ±ªËµÑÊ∫êÔºåÂøÖÈ°ªÁî±Á≥ªÁªüÂÆûÊñΩÁªü‰∏ÄÂàÜÈÖçÔºåÂç≥Áî®Êà∑Âú®‰ΩøÁî®‰πãÂâçÂøÖÈ°ªÂÖàÊèêÂá∫Áî≥ËØ∑ÔºåÁªù‰∏çÂÖÅËÆ∏Áî®Êà∑Áõ¥Êé•‰ΩøÁî®„ÄÇ Áõ¥Êé•Áõ∏‰∫íÂà∂Á∫¶ÂÖ≥Á≥ª Âú®Á≥ªÁªü‰∏≠‰πü‰ºöÂ≠òÂú®‰∏Ä‰∫õËøõÁ®ãÔºå‰ªñ‰ª¨‰∏∫‰∫ÜÂÆåÊàêÂêå‰∏Ä‰∏™ÁõÆÊ†áËÄåÁõ∏‰∫íÈÖçÂêàÂêà‰ΩúÂ∑•‰ΩúÔºåËøôÁßçÂ∞±ÊòØÁõ¥Êé•‰∫íÁõ∏Âà∂Á∫¶ÂÖ≥Á≥ª„ÄÇ ËøõÁ®ãÈó¥ÁöÑÁõ¥Êé•Âà∂Á∫¶ÂÖ≥Á≥ªÂ∞±ÊòØÊ∫ê‰∫é‰ªñ‰ª¨‰πãÈó¥ÁöÑÁõ∏‰∫íÂêà‰Ωú„ÄÇ 3.1.1.3 ‰∏¥ÁïåËµÑÊ∫êËôΩÁÑ∂Â§ö‰∏™ËøõÁ®ãÂèØ‰ª•ÂÖ±‰∫´Á≥ªÁªü‰∏≠ÁöÑÂêÑÁßçËµÑÊ∫êÔºå‰ΩÜÂÖ∂‰∏≠ËÆ∏Â§öËµÑÊ∫ê‰∏ÄÊ¨°Âè™ËÉΩ‰∏∫‰∏Ä‰∏™ËøõÁ®ãÊâÄ‰ΩøÁî®ÔºåÊàë‰ª¨Êää‰∏ÄÊ¨°‰ªÖÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ã‰ΩøÁî®ÁöÑËµÑÊ∫êÁß∞‰∏∫‰∏¥ÁïåËµÑÊ∫ê„ÄÇËÆ∏Â§öÁâ©ÁêÜËÆæÂ§áÈÉΩÂ±û‰∫é‰∏¥ÁïåËµÑÊ∫êÔºåÂ¶ÇÊâìÂç∞Êú∫Á≠â„ÄÇÊ≠§Â§ñÔºåÂ¶ÇÊûúÂèòÈáè„ÄÅÊï∞ÊçÆÁ≠âÈÉΩÂèØ‰ª•Ë¢´Ëã•Âπ≤ËøõÁ®ãÂÖ±‰∫´Ôºå‰πüÂ±û‰∫é‰∏¥ÁïåËµÑÊ∫ê„ÄÇ 3.1.1.4 ‰∏¥ÁïåÂå∫‰∫∫‰ª¨ÊääÂú®ÊØè‰∏™ËøõÁ®ã‰∏≠ËÆøÈóÆ‰∏¥ÁïåËµÑÊ∫êÁöÑÈÇ£ÊÆµ‰ª£Á†ÅÁß∞‰∏∫‰∏¥ÁïåÂå∫„ÄÇËã•ËÉΩ‰øùËØÅËØ∏ËøõÁ®ã‰∫íÊñ•Âú∞ËøõÂÖ•Ëá™Â∑±ÁöÑ‰∏¥ÁïåÂå∫Ôºå‰æøÂèØÂÆûÁé∞ËØ∏ËøõÁ®ãÂØπ‰∏¥ÁïåËµÑÊ∫êÁöÑ‰∫íÊñ•ËÆøÈóÆ„ÄÇ‰∏∫Ê≠§ÔºåÊØè‰∏™ËøõÁ®ãÂú®ËøõÂÖ•‰∏¥ÁïåÂå∫‰πãÂâçÔºåÂ∫îÂÖàÂØπË¶ÅËÆøÈóÆÁöÑ‰∏¥ÁïåÂå∫ËøõÁ®ãÊ£ÄÊü•ÔºöÂ¶ÇÊûú‰∏¥ÁïåÂå∫Ê≠£Âú®Ë¢´ËÆøÈóÆÔºåÂàôËøõÁ®ã‰∏çËÉΩËøõÂÖ•‰∏¥ÁïåÂå∫ÔºõÂ¶ÇÊûú‰∏¥ÁïåÂå∫Ê≤°ÊúâË¢´ËÆøÈóÆÔºåÈÇ£ËøõÁ®ãÂ∞±ÂèØËøõÂÖ•‰∏¥ÁïåÂå∫ÔºåÂπ∂Â∞Ü‰∏¥ÁïåÂå∫Ê≠£Âú®Ë¢´ËÆøÈóÆÁöÑÊ†áÂøóÁΩÆ‰∏∫Ê≠£Ë¢´ËÆøÈóÆ„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËÆøÈóÆ‰∏¥ÁïåËµÑÊ∫êÁöÑÁ∫øÁ®ãÁöÑÂæ™ÁéØ‰ª£Á†ÅÂàÜ‰∏∫Â¶Ç‰∏ãÈÉ®ÂàÜÔºö ËÆøÈóÆ‰∏¥ÁïåÂå∫‰πãÂâçÁî®‰∫é‰∏äËø∞Âà§Êñ≠ÁöÑ‰ª£Á†ÅÂå∫Áß∞‰∏∫ËøõÂÖ•Âå∫ Âú®ËÆøÈóÆÂÆå‰∏¥ÁïåÂå∫‰πãÂêéÁî®‰∫éÂ∞Ü‰∏¥ÁïåÂå∫Ê≠£Ë¢´ËÆøÈóÆÁöÑÊ†áÂøóÊÅ¢Â§ç‰∏∫Êú™Ë¢´ËÆøÈóÆÁöÑÊ†áÂøóÁöÑ‰ª£Á†ÅÂå∫Áß∞‰∏∫ÈÄÄÂá∫Âå∫ Èô§‰∫ÜËøõÂÖ•Âéª„ÄÅ‰∏¥ÁïåÂå∫„ÄÅÈÄÄÂá∫Âå∫‰ª£Á†Å‰πãÂ§ñÁöÑÂÖ∂ÂÆÉ‰ª£Á†ÅÁß∞‰∏∫Ââ©‰ΩôÂå∫ 123456while (true) &#123; ËøõÂÖ•Âå∫ ‰∏¥ÁïåÂå∫ ÈÄÄÂá∫Âå∫ Ââ©‰ΩôÂå∫&#125; 3.1.1.5 ÂêåÊ≠•Êú∫Âà∂Â∫îÈÅµÂæ™ÁöÑËßÑÂàô Á©∫Èó≤ËÆ©ËøõÔºöÂΩìÊó†ËøõÁ®ãÂ§Ñ‰∫é‰∏¥ÁïåÂå∫Êó∂ÔºåË°®Êòé‰∏¥ÁïåËµÑÊ∫êÂ§Ñ‰∫éÁ©∫Èó≤Áä∂ÊÄÅÔºåÂ∫îÂÖÅËÆ∏‰∏Ä‰∏™ËØ∑Ê±ÇËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑËøõÁ®ãÁ´ãÂç≥ËøõÂÖ•Ëá™Â∑±ÁöÑ‰∏¥ÁïåÂå∫Ôºå‰ª•ÊúâÊïàÁöÑÂà©Áî®‰∏¥ÁïåËµÑÊ∫ê ÂøôÂàôÁ≠âÂæÖÔºöÂΩìÂ∑≤ÊúâËøõÁ®ãËøõÂÖ•‰∏¥ÁïåÂå∫ÔºåË°®Êòé‰∏¥ÁïåËµÑÊ∫êÊ≠£Âú®Ë¢´ËÆøÈóÆÔºåÂõ†ËÄåÂÖ∂ÂÆÉËßÜÂõæËøõÂÖ•‰∏¥ÁïåÂå∫ÁöÑËøõÁ®ãÂøÖÈ°ªÁ≠âÂæÖÔºå‰ª•‰øùËØÅÂØπ‰∏¥ÁïåËµÑÊ∫êÁöÑ‰∫íÊñ•ËÆøÈóÆ ÊúâÈôêÁ≠âÂæÖÔºöÂØπË¶ÅÊ±ÇËÆøÈóÆ‰∏¥ÁïåËµÑÊ∫êÁöÑËøõÁ®ãÔºåÂ∫î‰øùËØÅÂú®ÊúâÈôêÁöÑÊó∂Èó¥ÂÜÖËÉΩËøõÂÖ•Ëá™Â∑±ÁöÑ‰∏¥ÁïåÂå∫Ôºå‰ª•ÂÖçÈô∑ÂÖ•‚ÄúÊ≠ªÁ≠â‚ÄùÁä∂ÊÄÅ ËÆ©ÊùÉÁ≠âÂæÖÔºöÂΩìËøõÁ®ã‰∏çËÉΩËøõÂÖ•Ëá™Â∑±ÁöÑ‰∏¥ÁïåÂå∫Êó∂ÔºåÂ∫îÁ´ãÂç≥ÈáäÊîæÂ§ÑÁêÜÊú∫Ôºå‰ª•ÂÖçËøõÁ®ãÈô∑ÂÖ•‚ÄúÂøôÁ≠â‚ÄùÁä∂ÊÄÅ 3.1.2 ÂêåÊ≠•Êú∫Âà∂3.2.2.1 ‰ø°Âè∑ÈáèÊú∫Âà∂1. ‰ªÄ‰πàÊòØ‰ø°Âè∑Èáè‰ø°Âè∑ÈáèÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏∫‰∏Ä‰∏™ÂÄºÂíå‰∏Ä‰∏™ÊåáÈíàÔºåÊåáÈíàÊåáÂêëÁ≠âÂæÖËØ•‰ø°Âè∑ÈáèÁöÑ‰∏ã‰∏Ä‰∏™ËøõÁ®ãÔºåÂÄºÂàô‰∏éÁõ∏Â∫îÁöÑËµÑÊ∫êÁöÑ‰ΩøÁî®ÊÉÖÂÜµÊúâÂÖ≥Ôºö ÂΩì‰ªñÁöÑÂÄºÂ§ß‰∫é0Êó∂ÔºåË°®Á§∫ÂΩìÂâçÂèØÁî®ËµÑÊ∫êÁöÑÊï∞Èáè ÂΩì‰ªñÁöÑÂÄºÂ∞è‰∫é0Êó∂ÔºåÂÖ∂ÁªùÂØπÂÄºË°®Á§∫Á≠âÂæÖ‰ΩøÁî®ËØ•ËµÑÊ∫êÁöÑËøõÁ®ã‰∏™Êï∞ 2. ‰ªÄ‰πàÊòØ‰ø°Âè∑ÈáèÊú∫Âà∂‰ø°Âè∑ÈáèÊú∫Âà∂Âç≥Âà©Áî®pvÊìç‰ΩúÂØπ‰ø°Âè∑ÈáèËøõË°åÂ§ÑÁêÜ„ÄÇËÄå‰∏î‰ø°Âè∑ÈáèÂè™ËÉΩÁî±pvÊìç‰ΩúËøõÁ®ãÂ§ÑÁêÜ„ÄÇÂΩìS&gt;0Êó∂ÔºåSË°®Á§∫ÂèØÁî®ËµÑÊ∫êÁöÑÊï∞Èáè„ÄÇÊâßË°å‰∏ÄÊ¨°PÊìç‰ΩúÊÑèÂë≥ÁùÄÂàÜÈÖç‰∏Ä‰∏™Âçï‰ΩçËµÑÊ∫êÔºåÂõ†Ê≠§SÂÄºÂáè1ÔºõÂΩìS0ÔºåË°®Á§∫ÊúâÊüê‰∫õËµÑÊ∫êÊ≠£Âú®Á≠âÂæÖËØ•ËµÑÊ∫êÔºåÂõ†Ê≠§Ë¶ÅÂî§ÈÜí‰∏Ä‰∏™Á≠âÂæÖÁä∂ÊÄÅÁöÑËøõÁ®ãÔºå‰Ωø‰πãËøêË°å‰∏ãÂéª„ÄÇ 3.2.2.2 PVÊìç‰Ωú1. PÊìç‰ΩúÁî≥ËØ∑‰∏Ä‰∏™Âçï‰ΩçËµÑÊ∫êÔºåËøõÁ®ãËøõÂÖ•‰∏¥ÁïåÂå∫1234wait (S) &#123; while (s &lt;= 0) ;// Â¶ÇÊûúÊ≤°ÊúâËµÑÊ∫êÂàôÂæ™ÁéØÁ≠âÂæÖ S--;&#125; Â∞Ü‰ø°Âè∑ÈáèSÁöÑÂÄºÂáè1ÔºåÂç≥S=S-1Ôºõ Â¶ÇÊûúS&lt;=0ÔºåÂàôËØ•ËøõÁ®ãÁªßÁª≠ÊâßË°åÔºõÂê¶ÂàôËØ•ËøõÁ®ãÁΩÆ‰∏∫Á≠âÂæÖÁä∂ÊÄÅÔºåÊéíÂÖ•Á≠âÂæÖÈòüÂàó„ÄÇ 2. VÊìç‰ΩúÈáäÊîæ‰∏Ä‰∏™Âçï‰ΩçËµÑÊ∫êÔºåËøõÁ®ã‰ªé‰∏¥ÁïåÂå∫Âá∫Êù•123signal (S) &#123; S++;&#125; Â∞Ü‰ø°Âè∑ÈáèSÁöÑÂÄºÂä†1ÔºåÂç≥S=S+1Ôºõ Â¶ÇÊûúS&gt;0ÔºåÂàôËØ•ËøõÁ®ãÁªßÁª≠ÊâßË°åÔºõÂê¶ÂàôÈáäÊîæÈòüÂàó‰∏≠Á¨¨‰∏Ä‰∏™Á≠âÂæÖ‰ø°Âè∑ÈáèÁöÑËøõÁ®ã„ÄÇ 3. PVÊìç‰ΩúÁöÑÊÑè‰πâÁî®PVÊìç‰ΩúÊù•ÂÆûÁé∞ËøõÁ®ãÁöÑÂêåÊ≠•Âíå‰∫íÊñ• 3.2.3 ÁÆ°Á®ãÊú∫Âà∂Â∞ΩÁÆ°‰ø°Âè∑ÈáèÊú∫Âà∂ÂæàÊñπÂèàÈ´òÊïàÔºå‰ΩÜÊòØÊØè‰∏™Ë¶ÅËÆøÈóÆ‰∏¥ÁïåËµÑÊ∫êÁöÑËøõÁ®ãÈÉΩÂøÖÈ°ªÂøÖÂ§áÂêåÊ≠•Êìç‰ΩúÔºåËøôÂ∞±‰ΩøÂæóÂ§ßÈáèÁöÑÂêåÊ≠•Êìç‰ΩúÂàÜÊï£Âú®ÂêÑ‰∏™ËøõÁ®ã‰∏≠„ÄÇËøô‰∏ç‰ªÖÁªôÁ≥ªÁªüÁöÑÁÆ°ÁêÜÂ∏¶Êù•È∫ªÁÉ¶ÔºåËøò‰ºöÂõ†ÂêåÊ≠•Êìç‰Ωú‰∏çÂΩìËÄå‰∫ßÁîüÊ≠ªÈîÅ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåÂèò‰∫ßÁîü‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂêåÊ≠•Â∑•ÂÖ∑‚Äî‚ÄîÁÆ°Á®ã„ÄÇ 1. ÁÆ°Á®ãÁöÑÂÆö‰πâÁ≥ªÁªü‰∏≠ÂêÑÁßçÁ°¨‰ª∂ËµÑÊ∫êÂíåËΩØ‰ª∂ËµÑÊ∫êÂùáÂèØÁî®Êï∞ÊçÆÁªìÊûÑÊäΩË±°Âú∞ÊèèËø∞ÂÖ∂ËµÑÊ∫êÁâπÂæÅÔºåÂç≥Áî®Â∞ëÈáè‰ø°ÊÅØÂíåÂØπËØ•ËµÑÊ∫êÊâÄÊâßË°åÁöÑÊìç‰ΩúÊù•Ë°®ÂæÅËØ•ËµÑÊ∫ê„ÄÇÊâÄ‰ª•Â∞±Âá∫Áé∞‰∫ÜÁÆ°Á®ã„ÄÇÁÆ°Á®ãÂèØ‰ª•ÁúãÊàê‰∏Ä‰∏™ËΩØ‰ª∂Ê®°ÂùóÔºåÂÆÉÊòØÂ∞ÜÂÖ±‰∫´ÁöÑÂèòÈáèÂíåÂØπ‰∫éËøô‰∫õÂÖ±‰∫´ÂèòÈáèÁöÑÊìç‰ΩúÂ∞ÅË£ÖËµ∑Êù•ÔºåÂΩ¢Êàê‰∏Ä‰∏™ÂÖ∑Êúâ‰∏ÄÂÆöÊé•Âè£ÁöÑÂäüËÉΩÊ®°ÂùóÔºåËøõÁ®ãÂèØ‰ª•Ë∞ÉÁî®ÁÆ°Á®ãÊù•ÂÆûÁé∞ËøõÁ®ãÁ∫ßÂà´ÁöÑÂπ∂ÂèëÊéßÂà∂„ÄÇÂú®ÁÆ°Á®ãÂÖ•Âè£Â§ÑÁöÑÁ≠âÂæÖÈòüÂàóÁß∞‰∏∫ÂÖ•Âè£Á≠âÂæÖÈòüÂàóÔºåÁî±‰∫éËøõÁ®ã‰ºöÊâßË°åÂî§ÈÜíÊìç‰ΩúÔºåÂõ†Ê≠§ÂèØËÉΩÊúâÂ§ö‰∏™Á≠âÂæÖ‰ΩøÁî®ÁÆ°Á®ãÁöÑÈòüÂàóÔºåËøôÊ†∑ÁöÑÈòüÂàóÁß∞‰∏∫Á¥ßÊÄ•ÈòüÂàóÔºåÂÆÉÁöÑ‰ºòÂÖàÁ∫ßÈ´ò‰∫éÁ≠âÂæÖÈòüÂàó„ÄÇ 2. ÁÆ°Á®ãÁöÑÁâπÂæÅ Ê®°ÂùóÂåñ ÁÆ°Á®ãÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑËΩØ‰ª∂Ê®°ÂùóÔºåÂèØ‰ª•ÂçïÁã¨ÁºñËØë ÊäΩË±°Êï∞ÊçÆÁ±ªÂûã ÁÆ°Á®ã‰∏≠Â∞ÅË£Ö‰∫ÜÊï∞ÊçÆÂèäÂØπ‰∫éÊï∞ÊçÆÁöÑÊìç‰Ωú ‰ø°ÊÅØÈöêËóè ÁÆ°Á®ãÂ§ñÁöÑËøõÁ®ãÊàñÂÖ∂‰ªñËΩØ‰ª∂Ê®°ÂùóÂè™ËÉΩÈÄöËøáÁÆ°Á®ãÂØπÂ§ñÁöÑÊé•Âè£Êù•ËÆøÈóÆÁÆ°Á®ãÊèê‰æõÁöÑÊìç‰ΩúÔºåÁÆ°Á®ãÂÜÖÈÉ®ÁöÑÂÆûÁé∞ÁªÜËäÇÂØπÂ§ñÁïåÊòØÈÄèÊòéÁöÑ ‰ΩøÁî®ÁöÑ‰∫íÊñ•ÊÄß ‰ªª‰Ωï‰∏Ä‰∏™Êó∂ÂàªÔºåÁÆ°Á®ãÂè™ËÉΩÁî±‰∏Ä‰∏™ËøõÁ®ã‰ΩøÁî®„ÄÇËøõÂÖ•ÁÆ°Á®ãÊó∂ÁöÑ‰∫íÊñ•Áî±ÁºñËØëÂô®Ë¥üË¥£ÂÆåÊàê 3. Êù°‰ª∂ÂèòÈáè‰∏Ä‰∏™ËøõÁ®ãË¢´ÈòªÂ°ûÊàñÊåÇËµ∑ÁöÑÊù°‰ª∂ÔºàÂéüÂõ†ÔºâÊúâÂ§ö‰∏™ÔºåÂõ†Ê≠§Âú®ÁÆ°Á®ã‰∏≠ËÆæÁΩÆ‰∫ÜÂ§ö‰∏™Êù°‰ª∂ÂèòÈáèÔºåÂØπËøô‰∫õÊù°‰ª∂ÂèòÈáèÁöÑËÆøÈóÆÂè™ËÉΩÂú®ÁÆ°Á®ã‰∏≠ËøõË°å„ÄÇÁÆ°Á®ã‰∏≠ÊØè‰∏™Êù°‰ª∂ÂèòÈáèÈÉΩÈúÄ‰∫à‰ª•ËØ¥ÊòéÔºåÂΩ¢Âºè‰∏∫Ôºöcondition x„ÄÇÂØπÂÖ∂ÁöÑÊìç‰ΩúÂè™ÊúâwaitÂíåsignalÔºåÂÖ∂Âê´‰πâÊòØÔºö x.waitÔºöÊ≠£Âú®Ë∞ÉÁî®ÁÆ°Á®ãÁöÑËøõÁ®ãÂõ†xÊù°‰ª∂ÈúÄË¶ÅË¢´ÈòªÂ°ûÊàñÊåÇËµ∑ÔºåÂàôË∞ÉÁî®x.waitÂ∞ÜËá™Â∑±ÊèíÂÖ•Âà∞xÊù°‰ª∂ÁöÑÁ≠âÂæÖÈòüÂàó‰∏äÔºåÂπ∂ÈáäÊîæÁÆ°Á®ãÔºåÁü•ÈÅìxÊù°‰ª∂ÂèëÁîüÂèòÂåñ„ÄÇÊ≠§Êó∂ÂÖ∂ÂÆÉËøõÁ®ãÂèØ‰ª•‰ΩøÁî®ËØ•ÁÆ°Á®ã„ÄÇ x.signalÔºö Ê≠£Âú®Ë∞ÉÁî®ÁÆ°Á®ãÁöÑËøõÁ®ãÂèëÁé∞xÊù°‰ª∂ÂèëÁîü‰∫ÜÂèòÂåñÔºåÂàôË∞ÉÁî®x.signalÔºåÈáçÊñ∞ÂêØÂä®‰∏Ä‰∏™Âõ†xÊù°‰ª∂ËÄåÈòªÂ°ûÊàñÊåÇËµ∑ÁöÑËøõÁ®ãÔºåÂ¶ÇÊûúÂ≠òÂú®Â§ö‰∏™ËøôÊ†∑ÁöÑËøõÁ®ãÔºåÂàôÈÄâÊã©ÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÁªßÁª≠ÊâßË°åÂéüËøõÁ®ãÔºå‰∏ç‰∫ßÁîü‰ªª‰ΩïÁªìÊûú„ÄÇÔºà‰∏é‰ø°Âè∑ÈáèÁöÑsignal‰∏çÂêåÔºåÊ≤°Êúâs=s+1ÁöÑÊìç‰ΩúÔºâ 3.2 ËøõÁ®ãÂêåÊ≠•ÁöÑÁªèÂÖ∏ÈóÆÈ¢ò3.2.1 Áîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÈóÆÈ¢ò1. ÈóÆÈ¢òÊèèËø∞Êúâ‰∏ÄÁæ§Áîü‰∫ßËÄÖËøõÁ®ãÂú®Áîü‰∫ß‰∫ßÂìÅÔºåÂπ∂Â∞ÜËøô‰∫õ‰∫ßÂìÅÊèê‰æõÁªôÊ∂àË¥πËÄÖËøõÁ®ãÂéªÊ∂àË¥π„ÄÇ‰∏∫‰ΩøÁîü‰∫ßËÄÖËøõÁ®ã‰∏éÊ∂àË¥πËÄÖËøõÁ®ãËÉΩÂπ∂ÂèëÊâßË°åÔºåÂú®‰∏§ËÄÖ‰πãÈó¥ËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™Â§ßÂ∞è‰∏∫nÁöÑÁºìÂÜ≤Âå∫ÔºåÁîü‰∫ßËÄÖËøõÁ®ãÂ∞ÜÂÖ∂ÊâÄ‰∫ßÁîüÁöÑ‰∫ßÂìÅÊîæÂÖ•ÁºìÂÜ≤Âå∫‰∏≠ÔºõÊ∂àË¥πËÄÖÂèØ‰ªéÁºìÂÜ≤Âå∫‰∏≠ÂèñËµ∞‰∫ßÂìÅÂéªÊ∂àË¥π„ÄÇ‰ªñ‰ª¨‰πãÈó¥ÂøÖÈ°ª‰øùÊåÅÂêåÊ≠•Ôºå‰πüÂ∞±ÊòØÊó¢‰∏çÂÖÅËÆ∏Ê∂àË¥πËÄÖËøõÁ®ãÂà∞‰∏Ä‰∏™Á©∫ÁºìÂÜ≤Âå∫ÂéªÂèñ‰∫ßÂìÅÔºå‰πü‰∏çÂÖÅËÆ∏Áîü‰∫ßËÄÖËøõÁ®ãÂêë‰∏Ä‰∏™Â∑≤Ë£ÖÊª°‰∫ßÂìÅ‰∏îÂ∞öÊú™Ë¢´ÂèñËµ∞ÁöÑÁºìÂÜ≤Âå∫‰∏≠ÊäïÊîæ‰∫ßÂìÅ„ÄÇ 2. ÈóÆÈ¢òÂàÜÊûêÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂá†ÁÇπÔºö Âú®ÁºìÂÜ≤Âå∫‰∏∫Á©∫Êó∂ÔºåÊ∂àË¥πËÄÖ‰∏çËÉΩÂÜçËøõË°åÊ∂àË¥π Âú®ÁºìÂÜ≤Âå∫Â∑≤Êª°Êó∂ÔºåÁîü‰∫ßËÄÖ‰∏çËÉΩÂÜçËøõË°åÁîü‰∫ß ÂΩì‰∏Ä‰∏™Á∫øÁ®ãËøõË°åÁîü‰∫ßÊàñÊ∂àË¥πÊó∂ÔºåÂÖ∂‰ΩôÁ∫øÁ®ã‰∏çËÉΩÂÜçËøõË°åÁîü‰∫ßÊàñÊ∂àË¥π 3. ‰º™‰ª£Á†Å12345678910111213141516171819202122232425262728293031var items = 0, space = 10, mutex = 1;var in = 0, out = 0;item buf[10] = &#123; NULL &#125;;producer &#123; while( true ) &#123; wait( space ); // Á≠âÂæÖÁºìÂÜ≤Âå∫ÊúâÁ©∫Èó≤‰ΩçÁΩÆÔºå Âú®‰ΩøÁî®PVÊìç‰ΩúÊó∂ÔºåÊù°‰ª∂ÂèòÈáèÈúÄË¶ÅÂú®‰∫íÊñ•ÈîÅ‰πãÂâç wait( mutex ); // ‰øùËØÅÂú®productÊó∂‰∏ç‰ºöÊúâÂÖ∂‰ªñÁ∫øÁ®ãËÆøÈóÆÁºìÂÜ≤Âå∫ // product buf.push( item, in ); // Â∞ÜÊñ∞ËµÑÊ∫êÊîæÂà∞buf[in]‰ΩçÁΩÆ in = ( in + 1 ) % 10; signal( mutex ); // Âî§ÈÜíÁöÑÈ°∫Â∫èÂèØ‰ª•‰∏çÂêå signal( items ); // ÈÄöÁü•consumerÁºìÂÜ≤Âå∫ÊúâËµÑÊ∫êÂèØ‰ª•ÂèñËµ∞ &#125;&#125;consumer &#123; while( true ) &#123; wait( items ); // Á≠âÂæÖÁºìÂÜ≤Âå∫ÊúâËµÑÊ∫êÂèØ‰ª•‰ΩøÁî® wait( mutex ); // ‰øùËØÅÂú®consumeÊó∂‰∏ç‰ºöÊúâÂÖ∂‰ªñÁ∫øÁ®ãËÆøÈóÆÁºìÂÜ≤Âå∫ // consume buf.pop( out ); // Â∞Übuf[out]‰ΩçÁΩÆÁöÑÁöÑËµÑÊ∫êÂèñËµ∞ out = ( out + 1 ) % 10; signal( mutex ); // Âî§ÈÜíÁöÑÈ°∫Â∫èÂèØ‰ª•‰∏çÂêå signal( space ); // ÈÄöÁü•ÁºìÂÜ≤Âå∫ÊúâÁ©∫Èó≤‰ΩçÁΩÆ &#125;&#125; ‰∏çËÉΩÂ∞ÜÁ∫øÁ®ãÈáå‰∏§‰∏™waitÁöÑÈ°∫Â∫èË∞ÉÊç¢Âê¶Âàô‰ºöÂá∫Áé∞Ê≠ªÈîÅ„ÄÇ‰æãÂ¶Ç(Ë∞ÉÊç¢Âêé)ÔºåÂ∞ÜconsumerÁöÑ‰∏§‰∏™waitË∞ÉÊç¢ÔºåÂú®producerÂèëÂá∫signal‰ø°Âè∑ÂêéÔºåÂ¶ÇÊûúproducerÁ∫øÁ®ãÊ≠§Êó∂ÂÜçÊ¨°Ëé∑ÂæóËøêË°åÊú∫‰ºöÔºåÊâßË°åÂÆå‰∫Üwait(space)ÔºåÊ≠§Êó∂ÔºåÂè¶‰∏Ä‰∏™consumerÁ∫øÁ®ãËé∑ÂæóËøêË°åÊú∫‰ºöÔºåÊâßË°å‰∫Üwait(mutex)ÔºåÂ¶ÇÊûúÊ≠§Êó∂ÁºìÂÜ≤Âå∫‰∏∫Á©∫ÔºåÈÇ£‰πàconsumerÂ∞Ü‰ºöÈòªÂ°ûÂú®wait(items)ÔºåËÄåproducer‰πü‰ºöÂõ†‰∏∫Êó†Ê≥ïËé∑ÂæóÈîÅÁöÑÊâÄÊúâÊùÉÊâÄ‰ª•ÈòªÂ°ûÂú®wait(mutex)ÔºåËøôÊ†∑‰∏§‰∏™Á∫øÁ®ãÈÉΩÂú®ÈòªÂ°ûÔºå‰πüÂ∞±ÈÄ†Êàê‰∫ÜÊ≠ªÈîÅ„ÄÇ 3.2.2 Âì≤Â≠¶ÂÆ∂ËøõÈ§êÈóÆÈ¢ò1. ÈóÆÈ¢òÊèèËø∞Êúâ‰∫î‰ΩçÂì≤Â≠¶ÂÆ∂ÂÖ±Áî®‰∏ÄÂº†ÂúÜÊ°åÔºåÂàÜÂà´ÂùêÂú®Âë®Âõ¥ÁöÑ‰∫îÂº†Ê§ÖÂ≠ê‰∏äÔºåÂú®ÂúÜÊ°å‰∏äÊúâ‰∫î‰∏™Á¢óÂíå‰∫îÊîØÁ≠∑Â≠ê„ÄÇ‰ªñ‰ª¨ÁöÑÁîüÊ¥ªÁöÑÊñπÂºèÊòØ‰∫§ÊõøÁöÑËøõË°åÊÄùËÄÉÂíåËøõÈ§êÔºöÂπ≥Êó∂Ôºå‰∏Ä‰∏™Âì≤Â≠¶ÂÆ∂ËøõË°åÊÄùËÄÉÔºåÈ••È•øÊó∂‰æøËßÜÂõæÂèñÂÖ∂Â∑¶Âè≥Á¶ª‰ªñÊúÄËøëÁöÑÁ≠∑Â≠êÔºåÂè™ÊúâÂú®‰ªñÊãøÂà∞‰∏§Âè™Á≠∑Â≠êÊó∂ÊâçËÉΩËøõÈ§êÔºåËøõÈ§êÂÆåÊØïÔºåÊîæ‰∏ãÁ≠∑Â≠êÁªßÁª≠ÊÄùËÄÉ„ÄÇ 2. ÈóÆÈ¢òÂàÜÊûê Âè™ÊúâÊãøÂà∞‰∏§Âè™Á≠∑Â≠êÊó∂ÔºåÂì≤Â≠¶ÂÆ∂ÊâçËÉΩÂêÉÈ•≠„ÄÇ Â¶ÇÊûúÁ≠∑Â≠êÂ∑≤Ë¢´Âà´‰∫∫ÊãøËµ∞ÔºåÂàôÂøÖÈ°ªÁ≠âÂà´‰∫∫ÂêÉÂÆå‰πãÂêéÊâçËÉΩÊãøÂà∞Á≠∑Â≠ê„ÄÇ ‰ªª‰∏ÄÂì≤Â≠¶ÂÆ∂Âú®Ëá™Â∑±Êú™ÊãøÂà∞‰∏§Âè™Á≠∑Â≠êÂêÉÂÆåÈ•≠ÂâçÔºå‰∏ç‰ºöÊîæ‰∏ãÊâã‰∏≠Â∑≤ÁªèÊãøÂà∞ÁöÑÁ≠∑Â≠ê 3. ‰º™‰ª£Á†ÅËá≥Â§öÂè™ÂÖÅËÆ∏Âõõ‰∏™Âì≤Â≠¶ÂÆ∂ÂêåÊó∂ËøõÈ§êÔºå‰ª•‰øùËØÅËá≥Â∞ëÊúâ‰∏Ä‰∏™Âì≤Â≠¶ÂÆ∂ËÉΩÂ§üËøõÈ§êÔºåÊúÄÁªàÊÄª‰ºöÈáäÊîæÂá∫‰ªñÊâÄ‰ΩøÁî®ËøáÁöÑ‰∏§ÊîØÁ≠∑Â≠êÔºå‰ªéËÄåÂèØ‰ΩøÊõ¥Â§öÁöÑÂì≤Â≠¶ÂÆ∂ËøõÈ§ê„ÄÇÂÆö‰πâ‰ø°Âè∑ÈáècountÔºåÂè™ÂÖÅËÆ∏4‰∏™Âì≤Â≠¶ÂÆ∂ÂêåÊó∂ËøõÈ§êÔºåËøôÊ†∑Â∞±ËÉΩ‰øùËØÅËá≥Â∞ëÊúâ‰∏Ä‰∏™Âì≤Â≠¶ÂÆ∂ÂèØ‰ª•Â∞±È§ê„ÄÇ 12345678910111213141516semaphore chopstick[5]=&#123;1,1,1,1,1&#125;;semaphore count=4; // ËÆæÁΩÆ‰∏Ä‰∏™countÔºåÊúÄÂ§öÊúâÂõõ‰∏™Âì≤Â≠¶ÂÆ∂ÂèØ‰ª•ËøõÊù•void philosopher(int i)&#123; while(true) &#123; think(); wait(count); //ËØ∑Ê±ÇËøõÂÖ•ÊàøÈó¥ËøõÈ§ê ÂΩìcount‰∏∫0Êó∂ ‰∏çËÉΩÂÖÅËÆ∏Âì≤Â≠¶ÂÆ∂ÂÜçËøõÊù•‰∫Ü wait(chopstick[i]); //ËØ∑Ê±ÇÂ∑¶ÊâãËæπÁöÑÁ≠∑Â≠ê wait(chopstick[(i+1)%5]); //ËØ∑Ê±ÇÂè≥ÊâãËæπÁöÑÁ≠∑Â≠ê eat(); signal(chopstick[i]); //ÈáäÊîæÂ∑¶ÊâãËæπÁöÑÁ≠∑Â≠ê signal(chopstick[(i+1)%5]); //ÈáäÊîæÂè≥ÊâãËæπÁöÑÁ≠∑Â≠ê signal(count); //Á¶ªÂºÄÈ•≠Ê°åÈáäÊîæ‰ø°Âè∑Èáè &#125;&#125; 3.2.3 ËØªËÄÖ-ÂÜôËÄÖÈóÆÈ¢ò1. ÈóÆÈ¢òÊèèËø∞‰∏Ä‰∏™Êï∞ÊçÆÊñá‰ª∂ÊàñËÆ∞ÂΩïÂèØË¢´Â§ö‰∏™ËøõÁ®ãÂÖ±‰∫´ÔºåÊàë‰ª¨ÊääÂè™Ë¶ÅÊ±ÇËØªËØ•Êñá‰ª∂ÁöÑËøõÁ®ãÁß∞‰∏∫‚ÄúReaderËøõÁ®ã‚ÄùÔºåÂÖ∂ÂÆÉËøõÁ®ãÂàôÁß∞‰∏∫‚ÄúWriterËøõÁ®ã‚Äù„ÄÇÂÖÅËÆ∏Â§ö‰∏™ËøõÁ®ãÂêåÊó∂ËØª‰∏Ä‰∏™ÂÖ±‰∫´ÂØπË±°ÔºåÂõ†‰∏∫ËØªÊìç‰Ωú‰∏ç‰ºö‰ΩøÊï∞ÊçÆÊñá‰ª∂Ê∑∑‰π±„ÄÇ‰ΩÜ‰∏çÂÖÅËÆ∏‰∏Ä‰∏™WriterËøõÁ®ãÂíåÂÖ∂ÂÆÉReaderËøõÁ®ãÊàñWriterËøõÁ®ãÂêåÊó∂ËÆøÈóÆÂÖ±‰∫´ÂØπË±°ÔºåËøôÊ†∑ÂæàÊúâÂèØËÉΩÈÄ†ÊàêÂÖ±‰∫´Êï∞ÊçÆÊ∑∑‰π±„ÄÇ 2. ÈóÆÈ¢òÂàÜÊûê ÂÖÅËÆ∏Â§ö‰∏™ReaderËøõÁ®ãÂêåÊó∂Êìç‰Ωú‰∏Ä‰∏™ÂÖ±‰∫´ÂØπË±° ‰∏çÂÖÅËÆ∏WriterËøõÁ®ãÂíåÂÖ∂ÂÆÉËøõÁ®ãÂêåÊó∂Êìç‰Ωú‰∏Ä‰∏™ÂÖ±‰∫´ÂØπË±° 3. ‰º™‰ª£Á†Å12345678910111213141516171819202122232425semaphore rmutex = 1,wmutex = 1;int readcount = 0;void reader()&#123; do&#123; wait(rmutex); if(readcount==0) wait(wmutex); readcount++; signal(rmutex); ¬∑¬∑¬∑ perform read operation; ¬∑¬∑¬∑ waitÔºàrmutexÔºâÔºõ if(readcount==0) signal(wmutex); readcount--; signal(rmutex); &#125;while(TRUE);&#125;void writer()&#123; do&#123; wait(wmutex); perfrom write operation; signal(wmutex); &#125;while(TRUE);&#125;]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁΩëÁªúËØ∑Ê±Ç3--Ëß£ÊûêOkHttpÊ∫êÁ†Å]]></title>
    <url>%2Fposts%2F151ac78a.html</url>
    <content type="text"><![CDATA[1. OkHttpÁÆÄ‰ªãokhttpÊòØ‰∏Ä‰∏™Á¨¨‰∏âÊñπÁ±ªÂ∫ìÔºåÁî®‰∫éandroid‰∏≠ËØ∑Ê±ÇÁΩëÁªú„ÄÇ ËøôÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÈ°πÁõÆ,ÊòØÂÆâÂçìÁ´ØÊúÄÁÅ´ÁÉ≠ÁöÑËΩªÈáèÁ∫ßÊ°ÜÊû∂,Áî±ÁßªÂä®ÊîØ‰ªòSquareÂÖ¨Âè∏Ë¥°ÁåÆ„ÄÇÁî®‰∫éÊõø‰ª£Âõ†ÁßªÈô§‰∫ÜHttpClientËÄåÂØºËá¥Ê≤°Áî®ÁöÑVolley„ÄÇ ÁõÆÂâçÊõ¥Â§ö‰∫∫ÈÄâÊã©‰∫ÜRetrofit„ÄÇ 2. Ê∫êÁ†ÅËß£Êûê Êú¨ÊñáÂØπOkHttpÁöÑÊé¢ËÆ®ÂÖ®ÈÉ®Âü∫‰∫éÁõÆÂâçÁöÑÊúÄÊñ∞ÁâàOkHttp:4.0.1ÔºåËÄåËøô‰∏™ÁâàÊú¨‰ΩúËÄÖÂ∑≤Áªè‰ΩøÁî®kotlinÂØπÊ∫êÁ†ÅËøõË°å‰∫ÜÈáçÂÜôÔºåÊâÄ‰ª•Êúâ‰∫õÂ∞è‰ºô‰º¥ÂèØËÉΩÈòÖËØªÁ®çÂæÆÊúâÁÇπÈóÆÈ¢òÔºå‰ΩÜÊòØÂà´ÊãÖÂøÉÔºåÊú¨Êñá‰∏≠ÊâÄÊ∂âÂèäÁöÑÊ∫êÁ†ÅÈòÖËØªËµ∑Êù•Âü∫Êú¨‰∏äÂíåJava‰∏ÄÊ†∑ÔºåÊâÄ‰ª•ËØ∑‰∏ç‰ºökotlinÁöÑÂ∞è‰ºô‰º¥ËøòÊòØËÄêÂøÉÁúã‰∏ãÂéªÔºå‰∏çÂ§™ÊáÇÁöÑËØ≠Ê≥ïÂ∞±ÁôæÂ∫¶‰∏ãÔºåÂêåÊó∂Êàë‰πü‰ºöÂØπÊüê‰∫õËØ≠Ê≥ï‰ΩúÊ≥®Èáä 2.1 OkHttpËØ∑Ê±ÇÊµÅÁ®ã2.1.1 ‰ªéËØ∑Ê±ÇÂ§ÑÁêÜÂºÄÂßãÂàÜÊûêÊàë‰ª¨Êó†ËÆ∫Âú®‰ΩøÁî®OkHttpËøõË°å‰ªÄ‰πàËØ∑Ê±ÇÁöÑÊó∂ÂÄôÈÉΩ‰ºöÂàõÂª∫OkHttpClientÂØπË±°Âπ∂Ë∞ÉÁî®‰ªñÁöÑnewCall()ÊñπÊ≥ïÔºåÈÇ£Êàë‰ª¨Â∞±‰ªéËøô‰∏™ÊñπÊ≥ïÁúãËµ∑Ôºö 123override fun newCall(request: Request): Call &#123;return RealCall.newRealCall(this, request, forWebSocket = false)&#125; ÂèØ‰ª•ÁúãÂà∞ËøîÂõû‰∫Ü‰∏Ä‰∏™RealCallÂØπË±°ÔºåÊâÄ‰ª•‰πüÂ∞±ÊÑèÂë≥ÁùÄÊàë‰ª¨‰ΩøÁî®OkHttpClientÂØπË±°Ë∞ÉÁî®ÁöÑexecute()Êìç‰ΩúÂÆûÈôÖ‰∏äÊòØRealCallÁöÑexecute()Êìç‰ΩúÔºåÈÇ£Êàë‰ª¨Â∞±Êù•ÁúãRealCallÁöÑexecute()ÊñπÊ≥ïÔºö123456789101112131415161718192021override fun execute(): Response &#123; // Ê∑ªÂä†ÂêåÊ≠•ÈîÅ synchronized(this) &#123; // check()ÊòØkotlinÁâπÊúâÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰ªñÊú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ifÔºå // ‰ΩÜÊòØÂΩì‰ªñÁöÑÂà§Êñ≠ËØ≠Âè•ÊòØfalseÁöÑËØùÔºå // ‰ªñÂ∞±‰ºöÊäõÂá∫‰∏Ä‰∏™IllegalStateExceptionÂºÇÂ∏∏ÔºåÂºÇÂ∏∏ÁöÑÂÜÖÂÆπÂ∞±ÊòØÂêéÈù¢ÁöÑËØ≠Âè• check(!executed) &#123; "Already Executed" &#125; executed = true // executedÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºå‰ªñÁöÑ‰ΩúÁî®Â∞±ÊòØÂà§Êñ≠ÊòØ‰∏çÊòØÊâßË°åËøá‰∫ÜÔºå // Â¶ÇÊûúÊâßË°åËøá‰∫ÜËøòÊâßË°å‰∫ÜËøô‰∏™ÊñπÊ≥ïÁöÑËØùÂ∞±ÊäõÂºÇÂ∏∏ &#125; // transmitterÁî®‰∫éËøûÊé•OKHTTPÁöÑÂ∫îÁî®Á®ãÂ∫èÂíåÁΩëÁªúÂ±ÇÔºå‰∏çÁî®Â§öÁÆ° transmitter.timeoutEnter() transmitter.callStart() try &#123; client.dispatcher.executed(this) return getResponseWithInterceptorChain() &#125; finally &#123; client.dispatcher.finished(this) &#125;&#125; ËøôÂùóÂèàË∞ÉÁî®‰∫Üclient.dispatcherÔºåÁÑ∂ÂêéÊâæÂõûÂéªÊâæÂà∞OkHttpClientÁöÑdispatcherÂØπË±°ÔºåÂèëÁé∞‰ªñÂ∞±ÊòØDispatcherÁ±ªÁöÑ‰∏Ä‰∏™ÂØπË±°ÔºåÊé•ÁùÄÊàë‰ª¨ÁªßÁª≠ÁúãDispatcherÁ±ª„ÄÇ 2.1.2 Dispatcher‰ªªÂä°Ë∞ÉÂ∫¶ËøõÂÖ•DispatcherÁ±ªÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÊàêÂëòÂèòÈáèÂÆö‰πâ: Ê≥®Ôºökotlin‰∏≠‰∏Ä‰∏™ÊàêÂëòÂèòÈáèÁöÑ@getÂíå@setÂàÜÂà´ÂØπÂ∫î‰∫ÜJava‰∏≠getÂíåsetÊñπÊ≥ïÔºåÊâÄ‰ª•ËøôÂùóÊàëÊ≤°ÊúâÂÆåÂÆåÂÖ®ÂÖ®Â§çÂà∂Á≤òË¥¥Âà∞ËøôÔºåÊàëÂè™Âèñ‰∫ÜÂÆö‰πâÈÉ®ÂàÜ 123456789101112// ÊúÄÂ§ßÂπ∂ÂèëËØ∑Ê±ÇÊï∞var maxRequests = 64// ÊØè‰∏™‰∏ªÊú∫ÁöÑÊúÄÂ§ßËØ∑Ê±ÇÊï∞var maxRequestsPerHost = 5// Ê∂àË¥πËÄÖÁ∫øÁ®ãval executorService: ExecutorService// Â∞ÜË¶ÅËøêË°åÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÈòüÂàóprivate val readyAsyncCalls = ArrayDeque&lt;AsyncCall&gt;()// Ê≠£Âú®ËøêË°åÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÈòüÈòüÂàóprivate val runningAsyncCalls = ArrayDeque&lt;AsyncCall&gt;()// Ê≠£Âú®ËøêË°åÁöÑÂêåÊ≠•ËØ∑Ê±ÇÈòüÂàóprivate val runningSyncCalls = ArrayDeque&lt;RealCall&gt;() Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãDispatcherÁöÑÊûÑÈÄ†ÊñπÊ≥ï123456// ‰∏ªÊûÑÈÄ†ÊñπÊ≥ïÔºåÊ≤°ÂÜôÂÖ∑‰ΩìÂÆûÁé∞class Dispatcher constructor() &#123;&#125; constructor(executorService: ExecutorService) : this() &#123; this.executorServiceOrNull = executorService&#125; Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰ªñÂ∞Ü‰º†ËøõÊù•ÁöÑexecutorService‰º†Áªô‰∫ÜexecutorServiceOrNullÔºåÈÇ£Êàë‰ª¨Êù•ÁúãÁúãexecutorServiceOrNullÁöÑÂÆö‰πâÔºö123456789101112// executorServiceOrNullËøô‰∏™Â∫îËØ•ÊòØÂõ†‰∏∫kotlinÁöÑÁ©∫ÂÆâÂÖ®Ê£ÄÊü•ÁâπÊÄßËÄåÂÆö‰πâÁöÑÔºåÊú¨Ë¥®‰∏äÂ∞±ÊòØexecutorServiceprivate var executorServiceOrNull: ExecutorService? = null@get:Synchronized@get:JvmName("executorService") val executorService: ExecutorService get() &#123; if (executorServiceOrNull == null) &#123; executorServiceOrNull = ThreadPoolExecutor(0, Int.MAX_VALUE, 60, TimeUnit.SECONDS, SynchronousQueue(), threadFactory("OkHttp Dispatcher", false)) &#125; return executorServiceOrNull!! &#125; Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞executorServiceÁöÑsetÊñπÊ≥ïÔºåÂ∞±ÊòØÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á∫øÁ®ãÊ±†„ÄÇÂÜçÁªìÂêà‰ªñÊúâ‰∏§‰∏™ÊûÑÈÄ†Âô®Â∞±Áü•ÈÅìÔºöÂ¶ÇÊûúÊ≤°ÊúâÁªôDispatcher‰º†ÂÖ•‰∏Ä‰∏™Á∫øÁ®ãÊ±†‰ªñÂ∞±‰ºöËá™Â∑±ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊ±†„ÄÇËøô‰∏™Á∫øÁ®ãÊ±†ÈÄÇÂêàÊâßË°åÂ§ßÈáè‰∏îËÄóÊó∂ËæÉÂ∞ëÁöÑ‰ªªÂä°„ÄÇ ÊûÑÈÄ†Âô®Êàë‰ª¨ÁúãÂÆå‰∫ÜÔºåÊàë‰ª¨Â∞±Êù•Áúã‰ªñÁöÑenqueue()ÊñπÊ≥ïÔºö12345678910111213internal fun enqueue(call: AsyncCall) &#123; synchronized(this) &#123; readyAsyncCalls.add(call) // Mutate the AsyncCall so that it shares the AtomicInteger of an existing running call to // the same host. if (!call.get().forWebSocket) &#123; val existingCall = findExistingCallWithHost(call.host()) if (existingCall != null)call.reuseCallsPerHostFrom(existingCall) &#125; &#125; promoteAndExecute()&#125; Êù•‰∏Ä‰∏™ËØ∑Ê±ÇÂ∞±Êää‰ªñÊ∑ªÂä†Âà∞Â∞±Áª™ËØ∑Ê±ÇÈòüÂàó‰∏≠ÂéªÔºåÁÑ∂ÂêéÂ∞±Êù•Âà§Êñ≠forWebSocketËøô‰∏™Â±ûÊÄß„ÄÇÁúãÂà∞Ëøô‰∏™Â±ûÊÄßÊàëËøòËø∑‰∫Ü‰∏ãÔºåÊúâÁÇπÊêû‰∏çÊáÇÂ•πÊòØÂπ≤ÂòõÁöÑÔºåÁÑ∂ÂêéÁªèËøáÊàëÁöÑ‰∏ÄÁï™ÊêúÁ¥¢ÂêéÔºåÂèëÁé∞ÂéüÊù•OkHttpËøòÂèØ‰ª•ËøõË°åWebSocketÈÄö‰ø°ÔºåËÄåËøô‰∏™Â±ûÊÄßÂ∞±ÊòØ‰∏∫WebSocketÈÄö‰ø°ÂáÜÂ§áÁöÑ„ÄÇ‰∫éÊòØÊàëÂ∞±Âà∞RealCallÈáåÈù¢ÊâæÂú®Âì™ÂÑøÂÆö‰πâ‰∫ÜËøô‰∏™Â±ûÊÄß‰∫ÜÔºåÁÑ∂ÂêéÊàëÂ∞±ÂèëÁé∞‰∫ÜÂú®RealCallÁöÑnewRealCall()ÊñπÊ≥ïËøôÂùóÔºåËøô‰∏™ÊñπÊ≥ï‰º†ÂÖ•ÁöÑÂèÇÊï∞‰∏≠Êúâ‰∏Ä‰∏™BooleanÂÄºÂêçÂ≠óÂ∞±Âè´forWebSocket„ÄÇ123456789101112companion object &#123; fun newRealCall( client: OkHttpClient, originalRequest: Request, forWebSocket: Boolean ): RealCall &#123; // Safely publish the Call instance to the EventListener. return RealCall(client, originalRequest, forWebSocket).apply &#123; transmitter = Transmitter(client, this) &#125; &#125;&#125; ‰∏çÁü•ÈÅìÂ§ßÂÆ∂ÊúâÊ≤°ÊúâÂç∞Ë±°ÔºåÂí±‰ª¨Âú®‰∏äÈù¢ËØ¥ËøáÔºåÊâßË°åOkHttpClient.newCall()ÊñπÊ≥ïÂÆûÈôÖ‰∏äÊòØËøîÂõû‰∫Ü‰∏Ä‰∏™RealCallÂØπË±°Ôºå‰∫éÊòØÂú®ÈÇ£ÊâæÂà∞‰∫ÜËøô‰∏™ÁöÑÁ≠îÊ°àÔºåforWebSocket=falseÊâÄ‰ª•ËØ¥Ëøô‰∏™ifÂí±‰ª¨‰∏çÁî®ÁÆ°ÔºåÁõ¥Êé•ÁúãpromoteAndExecute()ÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031private fun promoteAndExecute(): Boolean &#123; // ‰∏çÁü•ÈÅìÂ§ßÂÆ∂ËøòËÆ∞‰∏çËÆ∞ÂæóÂí±‰ª¨‰πãÂâçËØ¥ÁöÑkotlinÈáåÈù¢ÁöÑcheck()ËØ≠Ê≥ïÔºå // Ëøô‰∏™Âíåcheck‰πü‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÊäõÂá∫ÁöÑÊòØAssertionErrorÂºÇÂ∏∏ assert(!Thread.holdsLock(this)) // mutableListOfÊòØkotlinÈáåÈù¢ÁöÑÂèØÂèòlistÈõÜÂêà val executableCalls = mutableListOf&lt;AsyncCall&gt;() val isRunning: Boolean synchronized(this) &#123; val i = readyAsyncCalls.iterator() while (i.hasNext()) &#123; val asyncCall = i.next() if (runningAsyncCalls.size &gt;= this.maxRequests) break // ÊúÄÂ§ßÂÆπÈáè if (asyncCall.callsPerHost().get() &gt;= this.maxRequestsPerHost) continue // ‰∏ªÊú∫ÊúÄÂ§ßÂÆπÈáè i.remove() asyncCall.callsPerHost().incrementAndGet() executableCalls.add(asyncCall) runningAsyncCalls.add(asyncCall) &#125; isRunning = runningCallsCount() &gt; 0 &#125; for (i in 0 until executableCalls.size) &#123; val asyncCall = executableCalls[i] asyncCall.executeOn(executorService) &#125; return isRunning&#125; È¶ñÂÖàÂ∞ÜÂ∑≤Â∞±Áª™ÈòüÂàóÈÅçÂéÜ‰∏ÄÈÅçÔºåÂà§Êñ≠Ê≠£Âú®ËøêË°åÁöÑÊï∞ÈáèÊòØ‰∏çÊòØÂ§ß‰∫éÂÆö‰πâÁöÑÊúÄÂ§ßËØ∑Ê±ÇÊï∞ÔºåÂ¶ÇÊûúÂ§ß‰∫éÁöÑËØùÁõ¥Êé•ÈÄÄÂá∫Âæ™ÁéØÔºõÂ¶ÇÊûú‰∏çÂ§ß‰∫éÂàôÂú®Âà§Êñ≠Ëøô‰∏™ËØ∑Ê±ÇÁöÑ‰∏ªÊú∫ËØ∑Ê±ÇÊï∞ÊòØ‰∏çÊòØÂ§ß‰∫éÂÆö‰πâÁöÑÊØè‰∏™‰∏ªÊú∫ÊúÄÂ§ßËØ∑Ê±ÇÊï∞ÔºåÂ¶ÇÊûúÂ§ß‰∫éÂ∞±Ë∑≥ËøáËøô‰∏™ËØ∑Ê±ÇÊç¢‰∏ã‰∏Ä‰∏™ËØ∑Ê±ÇÔºõ‰∏çÂ§ß‰∫éÂ∞±ÊääÂÆÉË∞ÉÂÖ•Ê≠£Âú®ËøêË°åÁöÑËØ∑Ê±ÇÈòüÂàóÈáåÈù¢ÔºåÁõ¥Âà∞ÈÅçÂéÜÂÆåÊàê„ÄÇÁÑ∂ÂêéÂà§Êñ≠ËøòÊúâÊ≤°ÊúâÊ≠£Âú®ËøêË°åÁöÑËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊúâÂ∞±isRunningÁΩÆtrue„ÄÇÊé•ÁùÄÂÜçÂèñÂá∫executableCallsÈáåÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÊâßË°åexecutteOn()ÊñπÊ≥ï„ÄÇÊàë‰ª¨ÁªßÁª≠Êù•ÁúãAsyncCallÁöÑexecuteOn()ÊñπÊ≥ïÔºö1234567891011121314151617fun executeOn(executorService: ExecutorService) &#123; assert(!Thread.holdsLock(client.dispatcher)) var success = false try &#123; executorService.execute(this) success = true &#125; catch (e: RejectedExecutionException) &#123; val ioException = InterruptedIOException("executor rejected") ioException.initCause(e) transmitter.noMoreExchanges(ioException) responseCallback.onFailure(this@RealCall, ioException) &#125; finally &#123; if (!success) &#123; client.dispatcher.finished(this) // This call is no longer running! &#125; &#125;&#125; ËøôÊÆµ‰ª£Á†ÅÂ∞±ÊòØÂú®ÊâßË°åÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÔºåÂ¶ÇÊûúÊàêÂäüÊâßË°åÂ∞±Â∞ÜsuccessÁΩÆtrueÔºåÂ¶ÇÊûú‰∏çÊàêÂäüÔºåÂàôÊäõÂºÇÂ∏∏Âπ∂ËøîÂõûÁªôresponseCallbackÁöÑonFailure()ÊñπÊ≥ï„ÄÇÂπ∂‰∏îÂ¶ÇÊûúÊ≤°ÊúâÊàêÂäüÊâßË°å‰πüÂ∞±ÊòØsuccess‰∏∫falseÔºåÈÇ£‰πàÂú®finally‰∏≠Â∞±‰ºöÊâßË°åclient.dispatcher.finished()ÊñπÊ≥ï:1234internal fun finished(call: AsyncCall) &#123; call.callsPerHost().decrementAndGet() finished(runningAsyncCalls, call) &#125; Ëøô‰∏™ÊñπÊ≥ïÂÖàÂ∞Ü‰º†ÂÖ•ÁöÑAsyncCallÁöÑcallsPerHostÁªôÂáè1ÔºåÁÑ∂ÂêéÂÜçË∞ÉÁî®‰∫Üfinished()ÊñπÊ≥ïÔºåÊàë‰ª¨ÂÜçÊù•ÁúãËøô‰∏™finished()ÊñπÊ≥ïÔºö 12345678910111213private fun &lt;T&gt; finished(calls: Deque&lt;T&gt;, call: T) &#123; val idleCallback: Runnable? synchronized(this) &#123; if (!calls.remove(call)) throw AssertionError("Call wasn't in-flight!") idleCallback = this.idleCallback &#125; val isRunning = promoteAndExecute() if (!isRunning &amp;&amp; idleCallback != null) &#123; idleCallback.run() &#125;&#125; ‰ªñËÆ≤Ê≠§Ê¨°ËØ∑Ê±Ç‰ªérunningAsyncCalls‰∏≠ÁßªÈô§ÔºåÁÑ∂ÂêéÊâßË°å‰∫ÜpromoteAndExecute()ÊñπÊ≥ïÔºåÂí±‰ª¨Âú®‰∏äÈù¢ËØ¥ËøáËøô‰∏™ÊñπÊ≥ïÔºå‰ªñÁöÑËøîÂõûÂÄºÂ∞±ÊòØÂà§Êñ≠ÂΩìÂâçËøô‰∏™ËøêË°åÈòüÂàó‰∏≠ËøòÊúâÊ≤°ÊúâËØ∑Ê±ÇÔºåÂ¶ÇÊûúËøòÊúâÂ∞±ËøîÂõûtrueÔºåÊ≤°ÊúâÂ∞±false„ÄÇÊé•ÁùÄ‰∏Ä‰∏™ifÔºåÂà§Êñ≠isRunningÂíåidleCallbackÁöÑÔºåÈÇ£‰πàÂ¶ÇÊûúÂΩìÂâçËøô‰∏™ËØ∑Ê±ÇËøòÊ≤°ÊúâÊâßË°åÁöÑËØùÔºåÂ∞±Ë∞ÉÁî®run()ÊñπÊ≥ïÊâßË°åÂΩìÂâçËØ∑Ê±Ç„ÄÇËøôÊ†∑ÊØè‰∏™ËØ∑Ê±ÇÈÉΩÊâßË°åÂÆåÊØï‰∫Ü„ÄÇÈÇ£Êàë‰ª¨ÂÜçÊù•ÁúãÁúã‰ªñÁöÑrun()ÊñπÊ≥ïÔºö1234567891011121314151617181920override fun run() &#123; threadName("OkHttp $&#123;redactedUrl()&#125;") &#123; var signalledCallback = false transmitter.timeoutEnter() try &#123; val response = getResponseWithInterceptorChain() signalledCallback = true responseCallback.onResponse(this@RealCall, response) &#125; catch (e: IOException) &#123; if (signalledCallback) &#123; // Do not signal the callback twice! Platform.get().log(INFO, "Callback failure for $&#123;toLoggableString()&#125;", e) &#125; else &#123; responseCallback.onFailure(this@RealCall, e) &#125; &#125; finally &#123; client.dispatcher.finished(this) &#125; &#125;&#125; ËøôÂùóË∞ÉÁî®‰∫Ü‰∏Ä‰∏™getResponseWithInterceptorChain()ÊñπÊ≥ïÔºåÂπ∂ËøîÂõû‰∫ÜresponseÔºåÂπ∂Â∞ÜÂÆÉËøîÂõûÁªô‰∫ÜresponseCallback.onResponse()ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂ§±Ë¥•‰∫ÜÂ∞±Â∞ÜÁªìÊûúËøîÂõûÁªôresponseCallback.onFailure()ÊñπÊ≥ï„ÄÇÊúÄÂêéË∞ÉÁî®client.dispatcher.finished()ÊñπÊ≥ï„ÄÇ 2.1.3 InterceptorÊã¶Êà™Âô®2.1.3.1 getResponseWithInterceptorChain()ÊñπÊ≥ïÈ¶ñÂÖàÊàë‰ª¨ÁúãÁúãgetResponseWithInterceptorChain()ÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334@Throws(IOException::class)fun getResponseWithInterceptorChain(): Response &#123; // Build a full stack of interceptors. val interceptors = mutableListOf&lt;Interceptor&gt;() interceptors += client.interceptors interceptors += RetryAndFollowUpInterceptor(client) interceptors += BridgeInterceptor(client.cookieJar) interceptors += CacheInterceptor(client.cache) interceptors += ConnectInterceptor if (!forWebSocket) &#123; interceptors += client.networkInterceptors &#125; interceptors += CallServerInterceptor(forWebSocket) val chain = RealInterceptorChain(interceptors, transmitter, null, 0, originalRequest, this, client.connectTimeoutMillis, client.readTimeoutMillis, client.writeTimeoutMillis) var calledNoMoreExchanges = false try &#123; val response = chain.proceed(originalRequest) if (transmitter.isCanceled) &#123; response.closeQuietly() throw IOException("Canceled") &#125; return response &#125; catch (e: IOException) &#123; calledNoMoreExchanges = true throw transmitter.noMoreExchanges(e) as Throwable &#125; finally &#123; if (!calledNoMoreExchanges) &#123; transmitter.noMoreExchanges(null) &#125; &#125;&#125; È¶ñÂÖàÂ∞±ÂàõÂª∫‰∫Ü‰∏ÄÂ§ßÂ†ÜÁöÑËøûÊé•Âô®Âπ∂Ê∑ªÂä†Âà∞interceptorsÈõÜÂêà‰∏≠„ÄÇÁÑ∂ÂêéÂàõÂª∫‰∫Ü‰∏Ä‰∏™RealInterceptorChainÂØπË±°ÔºåÂπ∂Ë∞ÉÁî®‰∫Ü‰ªñÁöÑproceed()ÊñπÊ≥ïÔºåÊé•ÁùÄ‰∏ªË¶ÅÁõÆÁöÑÂ∞±ÊòØËÆ≤proceed()ËøîÂõûÁöÑresponseÁªôËøîÂõûÂéª„ÄÇÈÇ£Êàë‰ª¨Â∞±Êù•ÁúãÁúãRealInterceptorChainÁöÑproceed()ÊñπÊ≥ïÔºö 1234567891011121314151617181920212223242526272829303132333435363738override fun proceed(request: Request): Response &#123; return proceed(request, transmitter, exchange)&#125; @Throws(IOException::class)fun proceed(request: Request, transmitter: Transmitter, exchange: Exchange?): Response &#123; if (index &gt;= interceptors.size) throw AssertionError() calls++ // If we already have a stream, confirm that the incoming request will use it. check(this.exchange == null || this.exchange.connection()!!.supportsUrl(request.url)) &#123; "network interceptor $&#123;interceptors[index - 1]&#125; must retain the same host and port" &#125; // If we already have a stream, confirm that this is the only call to chain.proceed(). check(this.exchange == null || calls &lt;= 1) &#123; "network interceptor $&#123;interceptors[index - 1]&#125; must call proceed() exactly once" &#125; // Call the next interceptor in the chain. val next = RealInterceptorChain(interceptors, transmitter, exchange, index + 1, request, call, connectTimeout, readTimeout, writeTimeout) val interceptor = interceptors[index] @Suppress("USELESS_ELVIS") val response = interceptor.intercept(next) ?: throw NullPointerException( "interceptor $interceptor returned null") // Confirm that the next interceptor made its required call to chain.proceed(). check(exchange == null || index + 1 &gt;= interceptors.size || next.calls == 1) &#123; "network interceptor $interceptor must call proceed() exactly once" &#125; check(response.body != null) &#123; "interceptor $interceptor returned a response with no body" &#125; return response &#125; È¶ñÂÖàÂ∞±ÊòØ‰∏Ä‰∏™indexÔºåindexÊòØRealInterceptorChainÊûÑÈÄ†Âô®‰∏≠‰º†ÂÖ•ÁöÑÂèÇÊï∞ÔºåÂ•πÊòØÁ¨¨Âõõ‰∏™ÂèÇÊï∞ÔºåÊâÄ‰ª•Êàë‰ª¨ÁúãgetResponseWithInterceptorChain()ÊñπÊ≥ï‰∏≠ÂàõÂª∫RealInterceptorChainÂØπË±°Êó∂ÊûÑÈÄ†Âô®ÁöÑÁ¨¨Âõõ‰∏™‰º†ÂÖ•ÁöÑÂÄº‰∏∫0„ÄÇÁÑ∂ÂêéÂà§Êñ≠indexÁöÑÂÄºÊòØ‰∏çÊòØÂ§ß‰∫éinterceptorsÁöÑÂ§ßÂ∞èÔºåÂ¶ÇÊûúÂ§ß‰∫éÂ∞±ÊäõÂºÇÂ∏∏ÔºåÂê¶ÂàôÂ∞±ÁªßÁª≠‰∏ÄÈ°øÊ£ÄÊü•ÔºÅÔºÅÔºÅÁÑ∂ÂêéÂÜçÂàõÂª∫RealInterceptorChainÂØπË±°ÔºåÊ≠§Êó∂ÂàõÂª∫ÁöÑÂØπË±°‰º†ÂÖ•ÁöÑindex‰∏∫Ê≠§Êó∂ÁöÑindex+1ÔºåÁÑ∂ÂêéÂÜçË∞ÉÁî®interceptorÁöÑintercept()ÊñπÊ≥ïÔºåÂπ∂ËøîÂõûresponse„ÄÇinterceptorÁöÑintercept()‰ΩúÁî®ÊòØÂΩìÂ≠òÂú®Â§ö‰∏™Êã¶Êà™Âô®Êó∂ÈÉΩ‰ºöÂú®‰∏äÈù¢‰ª£Á†ÅÊ≥®Èáä1Â§ÑÈòªÂ°ûÔºåÂπ∂Á≠âÂæÖ‰∏ã‰∏Ä‰∏™Êã¶Êà™Âô®ÁöÑË∞ÉÁî®ËøîÂõû„ÄÇ 2.1.3.2 InterceptorÊ∫êÁ†ÅÈÇ£Áé∞Âú®Êàë‰ª¨ÂÜçÊù•ËÆ≤Âá†‰∏™ÈáçË¶ÅÁöÑÊã¶Êà™Âô®Âêß„ÄÇOkHttp‰∏≠InterceptorÁöÑÂÆûÁé∞Á±ªÊúâÔºö ConnectInterceptorÔºöËøûÊé•Êã¶Êà™Âô®„ÄÇ CallServerInterceptorÔºöËØ∑Ê±ÇÊúçÂä°Âô®Êã¶Êà™Âô® CacheInterceptorÔºöÁºìÂ≠òÊã¶Êà™Âô® BridgeInterceptorÔºöÊ°•Ê¢ÅÊã¶Êà™Âô®„ÄÇ ÂÖ∂‰∏≠ËæÉ‰∏∫ÈáçË¶ÅÁöÑÂ∞±ÊòØConnectInterceptorÂíåCallServerInterceptorÔºåÈÇ£Êàë‰ª¨Êù•ÁúãÁúãËøô‰∏§‰∏™„ÄÇ 2.1.3.2.1 ConnectInterceptorËøô‰∏™Á±ª‰∏ªË¶ÅÁî®Êù•ÂÆûÁé∞ÁΩëÁªúËØ∑Ê±ÇËøûÊé•„ÄÇÊàë‰ª¨Êù•Áúã‰∏ã‰ªñÁöÑinterceptÊñπÊ≥ïÔºö123456789101112@Throws(IOException::class)override fun intercept(chain: Interceptor.Chain): Response &#123; val realChain = chain as RealInterceptorChain val request = realChain.request() val transmitter = realChain.transmitter() // We need the network to satisfy this request. Possibly for validating a conditional GET. val doExtensiveHealthChecks = request.method != "GET" val exchange = transmitter.newExchange(chain, doExtensiveHealthChecks) return realChain.proceed(request, transmitter, exchange)&#125; Ëøô‰∏™ÊñπÊ≥ïÂÖàÂ∞Ü‰º†ÂÖ•ÁöÑchainÂØπË±°ÈÄ†ÂûãÊàê‰∫ÜRealInterceptorChainÁöÑÂØπË±°ÔºåËøô‰∏™Á±ªÊàë‰ª¨Âú®‰∏äÈù¢ÊèêÂà∞ËøáÔºåÁÑ∂ÂêéË∞ÉÁî®‰ªñÁöÑresponse()Âíåtransmitter()ÊñπÊ≥ïÔºåÂàÜÂà´ÂæóÂà∞ÂΩìÂâçchainÁöÑresponseÂíåtransmitter„ÄÇÁÑ∂ÂêéÊâßË°å‰∫ÜrequestÁöÑmethod()ÊñπÊ≥ïÔºåÂà§Êñ≠requestÁöÑÁ±ªÂûãÊòØ‰∏çÊòØGETÔºåÂ¶ÇÊûúÊòØdoExtensiveHealthChecksÂ∞±‰∏∫falseÔºåÂê¶Âàô‰∏∫trueÔºåÊé•ÁùÄÊäädoExtensiveHealthChecks‰º†ÂÖ•transmitterÁöÑnewExchange()ÊñπÊ≥ï‰∏≠ÂéªÔºåËøô‰∏™ÊñπÊ≥ïÊàë‰ª¨Á≠â‰ºöÂÜçËØ¥ÔºåÁÑ∂ÂêéÂÜçË∞ÉÁî®‰∫Üproceed()ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊàë‰ª¨Âú®‰∏äÈù¢ËØ¥Ëøá„ÄÇ 2.1.3.2.2 CallServerInterceptorËøô‰∏™Á±ªÊòØÁΩëÁªúËØ∑Ê±ÇÁöÑÊú¨Ë¥®„ÄÇÂÆÉÁöÑinterceptÊñπÊ≥ïÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103@Throws(IOException::class) override fun intercept(chain: Interceptor.Chain): Response &#123; val realChain = chain as RealInterceptorChain val exchange = realChain.exchange() val request = realChain.request() val requestBody = request.body val sentRequestMillis = System.currentTimeMillis() // ÂÜôÂÖ•ËØ∑Ê±ÇÂ§¥ exchange.writeRequestHeaders(request) var responseHeadersStarted = false var responseBuilder: Response.Builder? = null // ÂÜôÂÖ•ËØ∑Ê±Ç‰Ωì‰ø°ÊÅØ if (HttpMethod.permitsRequestBody(request.method) &amp;&amp; requestBody != null) &#123; // Â¶ÇÊûúËØ∑Ê±Ç‰∏äÊúâ‚Äúexpect:100 continue‚ÄùÂ§¥ // ËØ∑Á≠âÂæÖ‚Äúhttp/1.1 100 continue‚ÄùÂìçÂ∫îÔºåÁÑ∂ÂêéÂÜç‰º†ËæìËØ∑Ê±Ç‰∏ª‰Ωì. // Â¶ÇÊûúÊàë‰ª¨Ê≤°ÊúâÂæóÂà∞ÔºåËøîÂõûÊàë‰ª¨ÂæóÂà∞ÁöÑÔºà‰æãÂ¶Ç4xxÂìçÂ∫îÔºâÔºåËÄå‰∏ç‰º†ËæìËØ∑Ê±Ç‰Ωì„ÄÇ if ("100-continue".equals(request.header("Expect"), ignoreCase = true)) &#123; exchange.flushRequest() responseHeadersStarted = true exchange.responseHeadersStart() responseBuilder = exchange.readResponseHeaders(true) &#125; if (responseBuilder == null) &#123; if (requestBody.isDuplex()) &#123; // ÂáÜÂ§á‰∏Ä‰∏™ÂèåÂ∑•‰∏ª‰ΩìÔºå‰ª•‰æøÂ∫îÁî®Á®ãÂ∫èÁ®çÂêéÂèØ‰ª•ÂèëÈÄÅËØ∑Ê±Ç‰∏ª‰Ωì„ÄÇ exchange.flushRequest() val bufferedRequestBody = exchange.createRequestBody(request, true).buffer() requestBody.writeTo(bufferedRequestBody) &#125; else &#123; // Â¶ÇÊûúÊª°Ë∂≥‚Äúexpect:100 continue‚ÄùÈ¢ÑÊúüÔºåÂàôÁºñÂÜôËØ∑Ê±ÇÊ≠£Êñá„ÄÇ val bufferedRequestBody = exchange.createRequestBody(request, false).buffer() requestBody.writeTo(bufferedRequestBody) bufferedRequestBody.close() &#125; &#125; else &#123; exchange.noRequestBody() if (!exchange.connection()!!.isMultiplexed) &#123; // Â¶ÇÊûú‰∏çÊª°Ë∂≥‚Äúexpect:100 continue‚ÄùÁöÑË¶ÅÊ±ÇÔºåËØ∑Èò≤Ê≠¢ÈáçÁî®HTTP/1ËøûÊé•„ÄÇ // Âê¶ÂàôÔºåÊàë‰ª¨‰ªçÁÑ∂Êúâ‰πâÂä°‰º†ËæìËØ∑Ê±Ç‰∏ª‰Ωì‰ª•‰ΩøËøûÊé•‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ exchange.noNewExchangesOnConnection() &#125; &#125; &#125; else &#123; exchange.noRequestBody() &#125; // ÁªìÊùüËØ∑Ê±Ç if (requestBody == null || !requestBody.isDuplex()) &#123; exchange.finishRequest() &#125; if (!responseHeadersStarted) &#123; exchange.responseHeadersStart() &#125; if (responseBuilder == null) &#123; responseBuilder = exchange.readResponseHeaders(false)!! &#125; // ËØªÂèñÂìçÂ∫îÂ§¥‰ø°ÊÅØ var response = responseBuilder .request(request) .handshake(exchange.connection()!!.handshake()) .sentRequestAtMillis(sentRequestMillis) .receivedResponseAtMillis(System.currentTimeMillis()) .build() var code = response.code if (code == 100) &#123; // ÊúçÂä°Âô®ÂèëÈÄÅ‰∫Ü‰∏Ä‰∏™100ÁªßÁª≠ÔºåÂç≥‰ΩøÊàë‰ª¨Ê≤°ÊúâËØ∑Ê±Ç„ÄÇ // ÂÜçÊ¨°Â∞ùËØïËØªÂèñÂÆûÈôÖÂìçÂ∫î response = exchange.readResponseHeaders(false)!! .request(request) .handshake(exchange.connection()!!.handshake()) .sentRequestAtMillis(sentRequestMillis) .receivedResponseAtMillis(System.currentTimeMillis()) .build() code = response.code &#125; exchange.responseHeadersEnd(response) // openResponseBody Ëé∑ÂèñÂìçÂ∫î‰Ωì‰ø°ÊÅØ response = if (forWebSocket &amp;&amp; code == 101) &#123; // ËøûÊé•Ê≠£Âú®ÂçáÁ∫ßÔºå‰ΩÜÊàë‰ª¨ÈúÄË¶ÅÁ°Æ‰øùÊã¶Êà™Âô®ÁúãÂà∞ÈùûÁ©∫ÁöÑÂìçÂ∫î‰∏ª‰Ωì„ÄÇ response.newBuilder() .body(EMPTY_RESPONSE) .build() &#125; else &#123; response.newBuilder() .body(exchange.openResponseBody(response)) .build() &#125; if ("close".equals(response.request.header("Connection"), ignoreCase = true) || "close".equals(response.header("Connection"), ignoreCase = true)) &#123; exchange.noNewExchangesOnConnection() &#125; if ((code == 204 || code == 205) &amp;&amp; response.body?.contentLength() ?: -1L &gt; 0L) &#123; throw ProtocolException( "HTTP $code had non-zero Content-Length: $&#123;response.body?.contentLength()&#125;") &#125; //ËøîÂõû‰∏Ä‰∏™ÂìçÂ∫î return response&#125; ÂÖ∑‰ΩìËøáÁ®ãÂèØ‰ª•Áúã‰ª£Á†Å‰∏≠ÁöÑÊ≥®ÈáäÔºåÂÆÉ‰∏ªË¶ÅÊòØÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÊï∞ÊçÆÂíåÊé•ÂèóÊúçÂä°Âô®ËøîÂõûÁöÑÊï∞ÊçÆ„ÄÇ 2.1.4 TransmiterTransmitterÁ±ªÊòØOkHttpÁöÑÂ∫îÁî®Â±ÇÂíåÁΩëÁªúÂ±ÇÁöÑ‰∏Ä‰∏™Ê°•Ê¢ÅÁ±ª„ÄÇ Êàë‰ª¨ÂÖàÊù•ÁúãÁúãËØ•Á±ªÁöÑÂàùÂßãÂåñÔºö12345678910111213class Transmitter( private val client: OkHttpClient, private val call: Call) &#123; private val connectionPool: RealConnectionPool = client.connectionPool.delegate private val eventListener: EventListener = client.eventListenerFactory.create(call) private val timeout = object : AsyncTimeout() &#123; override fun timedOut() &#123; cancel() &#125; &#125;.apply &#123; timeout(client.callTimeoutMillis.toLong(), MILLISECONDS) &#125; Transmitter‰∏ªË¶ÅÁöÑ‰∏Ä‰∫õÊàêÂëòÂèòÈáèÂ∞±Ëøô‰∫õÔºåÈ¶ñÂÖàÊûÑÈÄ†Âô®‰∏≠‰º†ÂÖ•‰∫Ü‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™OkHttpClientÔºå‰∏Ä‰∏™Call„ÄÇÁÑ∂ÂêéÂèàÂàõÂª∫‰∫Ü‰∏Ä‰∏™ËøûÊé•Ê±†connectionPoolÔºåËøòÊúâ‰∏Ä‰∏™ÁõëÂê¨Âô®ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊâ©Â±ïËøô‰∏™Á±ªÊù•ÁõëÂê¨Á®ãÂ∫èÁöÑHTTPÁöÑË∞ÉÁî®Êï∞Èáè„ÄÅÂ§ßÂ∞èÂíåÊåÅÁª≠Êó∂Èó¥„ÄÇ 2.1.5 RealConnectionÊàë‰ª¨ÂÖàÁúãÁúã‰ªñÁöÑ‰∏Ä‰∫õÂ±ûÊÄßÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546class RealConnection( val connectionPool: RealConnectionPool, private val route: Route) : Http2Connection.Listener(), Connection &#123; // ‰ª•‰∏ãÂ≠óÊÆµÁî±connectÔºàÔºâÂàùÂßãÂåñÔºå‰ªé‰∏çÈáçÊñ∞ÂàÜÈÖç„ÄÇ // Â∫ïÂ±Çsocket private var rawSocket: Socket? = null /** * Â∫îÁî®Â±ÇÂ•óÊé•Â≠ó„ÄÇÂ¶ÇÊûúÊ≠§ËøûÊé•‰∏ç‰ΩøÁî®SSLÔºåÂàôÂèØ‰ª•ÊòØ[sslsocket]ÂàÜÂ±ÇÂú®[rawsocket]‰∏äÔºå‰πüÂèØ‰ª•ÊòØ[rawsocket]Êú¨Ë∫´„ÄÇ */ // Â∫îÁî®Â±Çsocket private var socket: Socket? = null // Êè°Êâã private var handshake: Handshake? = null // ÂçèËÆÆ private var protocol: Protocol? = null // http2ÁöÑËøûÊé• private var http2Connection: Http2Connection? = null // ‰∏éÊúçÂä°Âô®‰∫§‰∫íÁöÑËæìÂÖ•ËæìÂá∫ÊµÅ private var source: BufferedSource? = null private var sink: BufferedSink? = null // Ë∑üË∏™ËøûÊé•Áä∂ÊÄÅ‰∏ãÁöÑÂ≠óÊÆµÁî±ËøûÊé•Ê±†‰øùÊä§„ÄÇ /** * Â¶ÇÊûú‰∏∫trueÔºåÂàô‰∏çËÉΩÂú®Ê≠§ËøûÊé•‰∏äÂàõÂª∫Êñ∞ÁöÑ‰∫§Êç¢„ÄÇ‰∏ÄÊó¶ÊòØtrueÁöÑÔºåËøôÊÄªÊòØtrueÁöÑ„ÄÇ * Áî±[ConnectionPool]ÁõëËßÜ„ÄÇ */ var noNewExchanges = false /** * Âª∫Á´ãÂèØËÉΩÁî±‰∫éÊâÄÈÄâË∑ØÁî±ËÄåÂØºËá¥ÁöÑÊµÅÊó∂Âá∫Áé∞ÈóÆÈ¢òÁöÑÊ¨°Êï∞„ÄÇÁî±[ConnectionPool]‰øùÊä§„ÄÇ */ internal var routeFailureCount = 0 internal var successCount = 0 private var refusedStreamCount = 0 /** * Ê≠§ËøûÊé•ÂèØ‰ª•ÊâøËΩΩÁöÑÊúÄÂ§ßÂπ∂ÂèëÊµÅÊï∞„ÄÇ * Â¶ÇÊûú‚Äúallocations.sizeÔºàÔºâ&lt;allocationlimit‚ÄùÔºåÂàôÂèØ‰ª•Âú®Ê≠§ËøûÊé•‰∏äÂàõÂª∫Êñ∞ÊµÅ„ÄÇ */ private var allocationLimit = 1 Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúã‰ªñÁöÑconnect()ÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788fun connect( connectTimeout: Int, readTimeout: Int, writeTimeout: Int, pingIntervalMillis: Int, connectionRetryEnabled: Boolean, call: Call, eventListener: EventListener) &#123; check(protocol == null) &#123; "already connected" &#125; // Á∫øË∑ØÁöÑÈÄâÊã© var routeException: RouteException? = null val connectionSpecs = route.address.connectionSpecs val connectionSpecSelector = ConnectionSpecSelector(connectionSpecs) if (route.address.sslSocketFactory == null) &#123; if (ConnectionSpec.CLEARTEXT !in connectionSpecs) &#123; throw RouteException(UnknownServiceException( "CLEARTEXT communication not enabled for client")) &#125; val host = route.address.url.host if (!Platform.get().isCleartextTrafficPermitted(host)) &#123; throw RouteException(UnknownServiceException( "CLEARTEXT communication to $host not permitted by network security policy")) &#125; &#125; else &#123; if (Protocol.H2_PRIOR_KNOWLEDGE in route.address.protocols) &#123; throw RouteException(UnknownServiceException( "H2_PRIOR_KNOWLEDGE cannot be used with HTTPS")) &#125; &#125; // ËøûÊé•ÂºÄÂßã while (true) &#123; try &#123; // Â¶ÇÊûúË¶ÅÊ±ÇÈößÈÅìÊ®°ÂºèÔºåÂª∫Á´ãÈÄöÈÅìËøûÊé•ÔºåÈÄöÂ∏∏‰∏çÊòØËøôÁßç if (route.requiresTunnel()) &#123; connectTunnel(connectTimeout, readTimeout, writeTimeout, call, eventListener) if (rawSocket == null) &#123; // Êàë‰ª¨Êó†Ê≥ïËøûÊé•ÈößÈÅìÔºå‰ΩÜÈÄÇÂΩìÂÖ≥Èó≠‰∫ÜÊàë‰ª¨ÁöÑËµÑÊ∫ê„ÄÇ break &#125; &#125; else &#123; // ‰∏ÄËà¨ÈÉΩËµ∞ËøôÊù°ÈÄªËæë‰∫ÜÔºåÂÆûÈôÖ‰∏äÂæàÁÆÄÂçïÂ∞±ÊòØsocketÁöÑËøûÊé• connectSocket(connectTimeout, readTimeout, call, eventListener) &#125; // httpsÁöÑÂª∫Á´ã establishProtocol(connectionSpecSelector, pingIntervalMillis, call, eventListener) eventListener.connectEnd(call, route.socketAddress, route.proxy, protocol) break &#125; catch (e: IOException) &#123; socket?.closeQuietly() rawSocket?.closeQuietly() socket = null rawSocket = null source = null sink = null handshake = null protocol = null http2Connection = null eventListener.connectFailed(call, route.socketAddress, route.proxy, null, e) if (routeException == null) &#123; routeException = RouteException(e) &#125; else &#123; routeException.addConnectException(e) &#125; if (!connectionRetryEnabled || !connectionSpecSelector.connectionFailed(e)) &#123; throw routeException &#125; &#125; &#125; if (route.requiresTunnel() &amp;&amp; rawSocket == null) &#123; throw RouteException(ProtocolException( "Too many tunnel connections attempted: $MAX_TUNNEL_ATTEMPTS")) &#125; val http2Connection = this.http2Connection if (http2Connection != null) &#123; synchronized(connectionPool) &#123; allocationLimit = http2Connection.maxConcurrentStreams() &#125; &#125;&#125; È¶ñÂÖàÊ£ÄÊü•ÊòØÂê¶Â∑≤ÁªèÂª∫Á´ãËøûÊé•ÔºåÂ¶ÇÊûúÂ∑≤ÁªèÂª∫Á´ãÂ∞±ÊäõÂºÇÂ∏∏ÔºåÊ≤°ÊúâÁöÑËØùÂ∞±ÁªßÁª≠„ÄÇÊé•ÁùÄÂ∞±ÂæóÂà∞‰∫ÜConnectionSpecsÔºåÁÑ∂ÂêéÊ†πÊçÆ‰ªñÂª∫Á´ã‰∫Ü‰∏Ä‰∏™connectionSpecSelectorÈõÜÂêà„ÄÇÊé•ÁùÄÂà§Êñ≠ÊòØ‰∏çÊòØÂÆâÂÖ®ËøûÊé•Ôºå‰πüÂ∞±ÊòØsslËøûÊé•ÔºåÂ¶ÇÊûú‰∏çÊòØÁöÑËØùÂ∞±Âà§Êñ≠‰∫Ü‰∏Ä‰∫õÂ±ûÊÄßÔºåÂÖàÁ°ÆÂÆöÊòØ‰∏çÊòØÊòéÊñáÁÑ∂ÂêéÂÜçÁ°ÆÂÆö‰∏ªÊú∫ËÉΩ‰∏çËÉΩÊé•ÂèóÊòéÊñáÊìç‰Ωú„ÄÇÊé•ÁùÄÂ∞±ÂºÄÂßãËøûÊé•ÔºåÂà§Êñ≠ÊòØ‰∏çÊòØË¶ÅËøõË°åÈößÈÅìÈÄö‰ø°ÔºåÂ¶ÇÊûúÊòØÂ∞±Ë∞ÉÁî®connectTunnel()Âª∫Á´ãÈößÈÅìÈÄö‰ø°ÔºåÂ¶ÇÊûú‰∏çÊòØÂ∞±Ë∞ÉÁî®connectSocket()Âª∫Á´ãÊôÆÈÄöÁöÑÈÄö‰ø°„ÄÇÁÑ∂ÂêéÈÄöËøáestablishProtocol()Âª∫Á´ãÂçèËÆÆ„ÄÇÂ¶ÇÊûúÊòØHTTP/2Â∞±ËÆæÁΩÆÁõ∏ÂÖ≥Â±ûÊÄß„ÄÇ ÁÑ∂ÂêéÊàë‰ª¨Â∞±Êù•ÁúãÁúã‰ªñÂÖ∑‰ΩìÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂÖàÁúãÁúãconnectSocket()ÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243@Throws(IOException::class)private fun connectSocket( connectTimeout: Int, readTimeout: Int, call: Call, eventListener: EventListener) &#123; val proxy = route.proxy val address = route.address // Ê†πÊçÆ‰ª£ÁêÜÁ±ªÂûãÈÄâÊã©socketÁ±ªÂûãÊòØ‰ª£ÁêÜËøòÊòØÁõ¥Ëøû val rawSocket = when (proxy.type()) &#123; Proxy.Type.DIRECT, Proxy.Type.HTTP -&gt; address.socketFactory.createSocket()!! else -&gt; Socket(proxy) &#125; this.rawSocket = rawSocket eventListener.connectStart(call, route.socketAddress, proxy) rawSocket.soTimeout = readTimeout try &#123; // ËøûÊé•socketÔºå‰πãÊâÄ‰ª•ËøôÊ†∑ÂÜôÊòØÂõ†‰∏∫ÊîØÊåÅ‰∏çÂêåÁöÑÂπ≥Âè∞ // ÈáåÈù¢ÂÆûÈôÖ‰∏äÊòØ socket.connect(address, connectTimeout); Platform.get().connectSocket(rawSocket, route.socketAddress, connectTimeout) &#125; catch (e: ConnectException) &#123; throw ConnectException("Failed to connect to $&#123;route.socketAddress&#125;").apply &#123; initCause(e) &#125; &#125; // ‰∏ãÈù¢ÁöÑTry/CatchÂùóÊòØ‰∏ÄÁßçÈÅøÂÖçAndroid 7.0Â¥©Ê∫ÉÁöÑ‰º™ÈªëÂÆ¢ÊñπÊ≥ï // More details: // https://github.com/square/okhttp/issues/3245 // https://android-review.googlesource.com/#/c/271775/ try &#123; // ÂæóÂà∞ËæìÂÖ•ÔºèËæìÂá∫ÊµÅ source = rawSocket.source().buffer() sink = rawSocket.sink().buffer() &#125; catch (npe: NullPointerException) &#123; if (npe.message == NPE_THROW_WITH_NULL) &#123; throw IOException(npe) &#125; &#125;&#125; È¶ñÂÖàÂÖàÂà§Êñ≠ËøûÊé•Á±ªÂûãÔºåÂ¶ÇÊûúÊòØÁõ¥ËøûÊàñËÄÖHTTPËøûÊé•Â∞±Áõ¥ËøûÔºåÂê¶ÂàôÁöÑËØùËµ∞Socket‰ª£ÁêÜÔºåÁÑ∂ÂêéÈÄöËøáeventListener.connectStart()ÊñπÊ≥ïÂàõÂª∫ËøûÊé•ÔºåÂÜçËÆæÂÆöË∂ÖÊó∂-&gt;ÂÆåÊàêËøûÊé•-&gt;ÂàõÂª∫Áî®‰∫éI/OÁöÑsourceÂíåsink„ÄÇ Êàë‰ª¨Êé•ÁùÄÂÜçÊù•ÁúãconnectTunnel()ÊñπÊ≥ïÔºö123456789101112131415161718192021222324@Throws(IOException::class)private fun connectTunnel( connectTimeout: Int, readTimeout: Int, writeTimeout: Int, call: Call, eventListener: EventListener) &#123; var tunnelRequest: Request = createTunnelRequest() val url = tunnelRequest.url for (i in 0 until MAX_TUNNEL_ATTEMPTS) &#123; connectSocket(connectTimeout, readTimeout, call, eventListener) tunnelRequest = createTunnel(readTimeout, writeTimeout, tunnelRequest, url) ?: break // Â∑≤ÊàêÂäüÂàõÂª∫ÈößÈÅì„ÄÇ // ‰ª£ÁêÜÂÜ≥ÂÆöÂú®Ë∫´‰ªΩÈ™åËØÅË¥®ËØ¢ÂêéÂÖ≥Èó≠ËøûÊé•„ÄÇ // Êàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøûÊé•Ôºå‰ΩÜËøôÊ¨°ÈúÄË¶Å‰ΩøÁî®Ë∫´‰ªΩÈ™åËØÅÂá≠ÊçÆ„ÄÇ rawSocket?.closeQuietly() rawSocket = null sink = null source = null eventListener.connectEnd(call, route.socketAddress, route.proxy, null) &#125;&#125; Â§ß‰ΩìÂ∞±ÊòØÂÖàÂàõÂª∫ÈößÈÅìËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂª∫Á´ãsocketËøûÊé•ÔºåÂÜçÂèëÈÄÅËØ∑Ê±ÇÂª∫Á´ãÈößÈÅì„ÄÇ 3. ËØ∑Ê±ÇÊµÅÁ®ãÂõæÈÇ£Êàë‰ª¨ÊúÄÂêéÊù•ÊÄªÁªì‰∏ã 3.1 ÂêåÊ≠•ËØ∑Ê±ÇÊòØÂ¶Ç‰ΩïÊìç‰ΩúÁöÑÔºü 3.2 ÂºÇÊ≠•ËØ∑Ê±ÇÊòØÂ¶Ç‰ΩïÊìç‰ΩúÁöÑÔºü]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Ê∫êÁ†Å</tag>
        <tag>kotlin</tag>
        <tag>OkHttp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁΩëÁªúËØ∑Ê±Ç2--Ëß£ÊûêVolleyÊ∫êÁ†Å]]></title>
    <url>%2Fposts%2Fdf8fd75e.html</url>
    <content type="text"><![CDATA[Êú¨ÊñáÂ§ßÁØáÂπÖÂèÇËÄÉÊ≠§ÁØáÊñáÁ´†ÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÁªìÂêà‰∏§ÁØáÊñáÁ´†Áúã‰∏Ä‰∏ã 1. VolleyÁÆÄ‰ªãÂú®ÂæàÊó©‰ª•ÂâçÔºåÂ¶ÇÊûúAndroidÂºÄÂèëËÄÖÊÉ≥‰ΩøÁî®ÁΩëÁªúËØ∑Ê±ÇÁöÑËØùÔºåÂøÖÈ°ªËá™Â∑±ÈÄöËøáHttpClientÊàñËÄÖHttpURLConnectionÁºñÂÜô‰ª£Á†ÅÊù•ËÆøÈóÆ„ÄÇ‰ΩÜÊòØ‰ªñ‰∏§ÁöÑÁî®Ê≥ïËøòÊòØÂæàÂ§çÊùÇÁöÑÔºåÂ¶ÇÊûú‰∏çÈÄÇÂΩìÁöÑÂ∞ÅË£ÖÁöÑËØùÔºåÂ∞±‰ºöÊúâÂæàÂ§öÂ§ö‰Ωô‰ª£Á†ÅÁîöËá≥ÊïàÁéáÈôç‰Ωé„ÄÇÊâÄ‰ª•ÂΩìÊó∂Âá∫Áé∞‰∫ÜÂæàÂ§öÁ¨¨‰∏âÊñπÁΩëÁªúÈÄö‰ø°Ê°ÜÊû∂Ôºå‰ΩÜÊòØÈÉΩÊòØÁ¨¨‰∏âÊñπÁöÑÔºåËÄåË∞∑Ê≠åÂÆòÊñπ‰∏ÄÁõ¥Ê≤°Êúâ‰Ωú‰∏∫„ÄÇÊúÄÁªàÂú®2013Âπ¥ÔºåË∞∑Ê≠åÁªà‰∫éÊÑèËØÜÂà∞‰∫ÜÈóÆÈ¢òÔºå‰∫éÊòØ‰ªñ‰ª¨Êé®Âá∫‰∫Ü‰∏Ä‰∏™ÂÆòÊñπÁöÑÂÖ®Êñ∞ÁöÑÁΩëÁªúÊ°ÜÊû∂‚Äî‚ÄîVolley„ÄÇVolleyÂÆÉÂèàËÉΩÈùûÂ∏∏ÁÆÄÂçïÁöÑËøõË°åHTTPÈÄö‰ø°ÔºåÂèàËÉΩËΩªÊùæÂä†ËΩΩÁΩëÁªú‰∏äÁöÑÂõæÁâá„ÄÇ‰ªñÁöÑËÆæËÆ°ÁõÆÁöÑÂ∞±ÊòØÂ∫îÂØπÊï∞ÊçÆÈáè‰∏çÂ§ß‰ΩÜÊòØÈ¢ëÂèëÁöÑÁΩëÁªúÊìç‰ΩúÔºå‰ΩÜÊòØÂØπ‰∫é‰∏ãËΩΩÁ≠âÈúÄË¶ÅÂ§ßÊï∞ÊçÆÈáèÁöÑÁΩëÁªúÊìç‰ΩúÔºå‰ªñÂ∞±‰∏çÂ§™ÈÄÇÂêà„ÄÇ 2. Ê∫êÁ†ÅËß£Êûê2.1 ‰ªéRequestQueueÂÖ•ÊâãÂ¶ÇÊûú‰Ω†‰ΩøÁî®VolleyÁöÑËØùÔºåÂ∞±‰ºöÂèëÁé∞Volley‰∏çÁÆ°ËøõË°å‰ªÄ‰πàÊìç‰ΩúÔºåÈ¶ñÂÖàÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÂÖàÂàõÂª∫RequestQueueÂØπË±°„ÄÇÊâÄ‰ª•Êàë‰ª¨Â∞±ÂèØ‰ª•ËÆ§ÂÆö‰ªñ‰∏∫VolleyÁöÑÂÖ•Âè£„ÄÇÂàõÂª∫RequestQueueÁöÑÊñπÊ≥ïÊòØRequestQueue mQueue = Volley.newRequestQueue(getApplicationContext());,Êàë‰ª¨Â∞±ÁúãÁúãnewRequestQueueÂπ≤‰∫Ü‰ªÄ‰πàÔºö1234567891011121314151617181920212223242526272829public static RequestQueue newRequestQueue(Context context, BaseHttpStack stack) &#123; BasicNetwork network; if (stack == null) &#123; if (Build.VERSION.SDK_INT &gt;= 9) &#123; network = new BasicNetwork(new HurlStack()); &#125; else &#123; // Âú®Android 2.3‰πãÂâçÔºåHttpURLConnectionÊòØ‰∏çÂèØÈù†ÁöÑ„ÄÇ // ËØ∑ÂèÇÈòÖÔºöhttp://android-developers.blogspot.com/2011/09/androids-http-clients.html // Âú®Â∞ÜÊù•ÁöÑÊüê‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨Â∞ÜÊääminsdkversionÁßªÂà∞Android 2.2‰πã‰∏äÔºå // Âπ∂ÂèØ‰ª•Âà†Èô§Ëøô‰∏™ÂõûÈÄÄÔºàËøûÂêåÊâÄÊúâApacheHTTP‰ª£Á†ÅÔºâ„ÄÇ String userAgent = "volley/0"; try &#123; String packageName = context.getPackageName(); PackageInfo info = context.getPackageManager().getPackageInfo(packageName, /* flags= */ 0); userAgent = packageName + "/" + info.versionCode; &#125; catch (NameNotFoundException e) &#123; &#125; network = new BasicNetwork( new HttpClientStack(AndroidHttpClient.newInstance(userAgent))); &#125; &#125; else &#123; network = new BasicNetwork(stack); &#125; return newRequestQueue(context, network);&#125; Ë∞ÉÁî®ÊñπÊ≥ïÂêéÔºåÂÖàÊü•ÁúãAndroidÁâàÊú¨ÊòØÂê¶Â§ß‰∫éÁ≠â‰∫é2.3ÔºåÂ¶ÇÊûúÂ§ß‰∫éÂàôË∞ÉÁî®Âü∫‰∫éHttpURLConnectionÁöÑHurlStackÔºåÂê¶ÂàôË∞ÉÁî®Âü∫‰∫éHttpClientÁöÑHttpClientStack„ÄÇÊé•‰∏ãÊù•ÂàõÂª∫BasicNetworkÂπ∂Ë∞ÉÁî®newRequestQueue(context, network)ÊñπÔºåÊàë‰ª¨ÂÜçÊù•ÁúãÁúãËøô‰∏™newRequestQueue()ÊñπÊ≥ïÔºö1234567891011121314151617181920private static RequestQueue newRequestQueue(Context context, Network network) &#123; final Context appContext = context.getApplicationContext(); // ÂØπÁºìÂ≠òÁõÆÂΩï‰ΩøÁî®ÊÉ∞ÊÄß‰æõÂ∫îÂïÜÔºå‰ª•‰æøÂèØ‰ª•Âú®‰∏ªÁ∫øÁ®ã‰∏äË∞ÉÁî®newRequestQueueÔºàÔºâÔºå // ËÄå‰∏ç‰ºöÂØºËá¥‰∏•Ê†ºÁöÑÊ®°ÂºèÂÜ≤Á™Å„ÄÇ DiskBasedCache.FileSupplier cacheSupplier = new DiskBasedCache.FileSupplier() &#123; private File cacheDir = null; @Override public File get() &#123; if (cacheDir == null) &#123; cacheDir = new File(appContext.getCacheDir(), DEFAULT_CACHE_DIR); &#125; return cacheDir; &#125; &#125;; RequestQueue queue = new RequestQueue(new DiskBasedCache(cacheSupplier), network); queue.start(); return queue;&#125; ÂèØ‰ª•ÁúãÂà∞ÔºåËøô‰∏™ÊñπÊ≥ï‰∏ªË¶Å‰∏∫VolleyÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á°¨ÁõòÁºìÂ≠òDiskBasedCacheÔºåÁÑ∂ÂêéÈÄöËøáËøô‰∏™Á£ÅÁõòÁºìÂ≠òÂíåNetworkÂàõÂª∫‰∫Ü‰∏Ä‰∏™RequestQueueÂØπË±°ÔºåÂπ∂Ë∞ÉÁî®‰∫Üstart()ÊñπÊ≥ïÔºåÊé•‰∏ãÊù•Êàë‰ª¨Áúã‰∏ãstart()ÊñπÊ≥ï:123456789101112131415public void start() &#123; stop(); // Á°Æ‰øùÂΩìÂâçËøêË°åÁöÑÊâÄÊúâË∞ÉÂ∫¶Á®ãÂ∫èÈÉΩÂ∑≤ÂÅúÊ≠¢„ÄÇ // ÂàõÂª∫ÁºìÂ≠òË∞ÉÂ∫¶Âô®Âπ∂ÂºÄÂßãÂÆÉ„ÄÇ mCacheDispatcher = new CacheDispatcher(mCacheQueue, mNetworkQueue, mCache, mDelivery); mCacheDispatcher.start(); // ÂàõÂª∫ËææÂà∞Ê±†Â§ßÂ∞èÁöÑÁΩëÁªúË∞ÉÂ∫¶Á®ãÂ∫èÔºàÂíåÁõ∏Â∫îÁöÑÁ∫øÁ®ãÔºâ„ÄÇ for (int i = 0; i &lt; mDispatchers.length; i++) &#123; NetworkDispatcher networkDispatcher = new NetworkDispatcher(mNetworkQueue, mNetwork, mCache, mDelivery); mDispatchers[i] = networkDispatcher; networkDispatcher.start(); &#125;&#125; CacheDispatcherÊòØ‰∏Ä‰∏™ÁºìÂ≠òË∞ÉÂ∫¶Á∫øÁ®ãÔºåÂπ∂Ë∞ÉÁî®‰∫Üstart()ÊñπÊ≥ï„ÄÇÂú®Âæ™ÁéØ‰∏≠Ë∞ÉÁî®NetworkDispatcherÁöÑstart()ÊñπÊ≥ï„ÄÇNetworkDispatcherÊòØÁΩëÁªúË∞ÉÂ∫¶Á∫øÁ®ãÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãmDispatchers.length‰∏∫4ÔºåÈªòËÆ§ÂºÄÂêØ‰∫Ü4‰∏™Ë∞ÉÂ∫¶Á∫øÁ®ãÔºåÂ§ñÂä†1‰∏™ÁºìÂ≠òË∞ÉÂ∫¶Á∫øÁ®ãÔºåÊÄªÂÖ±5‰∏™Á∫øÁ®ã„ÄÇÊé•‰∏ãÊù•Volley‰ºöÂàõÂª∫ÂêÑÁßçRequestÔºåÂπ∂Ë∞ÉÁî®RequestQueueÁöÑadd()ÊñπÊ≥ïÔºö123456789101112131415161718192021public &lt;T&gt; Request&lt;T&gt; add(Request&lt;T&gt; request) &#123; // Â∞ÜËØ∑Ê±ÇÊ†áËÆ∞‰∏∫Â±û‰∫éÊ≠§ÈòüÂàóÔºåÂπ∂Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÂΩìÂâçËØ∑Ê±ÇÈõÜ„ÄÇ request.setRequestQueue(this); synchronized (mCurrentRequests) &#123; //mCurrentRequestsÊòØ‰∏Ä‰∏™HashSet mCurrentRequests.add(request); &#125; // ÊåâÊ∑ªÂä†ÁöÑÈ°∫Â∫èÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇ request.setSequence(getSequenceNumber()); request.addMarker("add-to-queue"); sendRequestEvent(request, RequestEvent.REQUEST_QUEUED); // Â¶ÇÊûúËØ∑Ê±ÇÊòØ‰∏çÂèØÊâßË°åÁöÑÔºåË∑≥ËøáÁºìÂ≠òÈòüÂàóÔºåÁÑ∂ÂêéÁõ¥Êé•ËøõÂÖ•ÁΩëÁªú„ÄÇ if (!request.shouldCache()) &#123; mNetworkQueue.add(request); return request; &#125; mCacheQueue.add(request); return request;&#125; ËøôÂùóÂú∞ÊñπÁöÑ‰ª£Á†ÅÂ∞±ÂæàÁÆÄÂçï‰∫ÜÔºåÂ∞±ÊòØÊ†πÊçÆrequestÁöÑshouldCache()ÊñπÊ≥ïÊù•ËøîÂõûrequestÁöÑmShouldCacheÂ±ûÊÄßÊù•Âà§Êñ≠ÊòØÂê¶ÂèØ‰ª•ÁºìÂ≠òÔºåÈªòËÆ§ÊòØÂèØ‰ª•ÁöÑ„ÄÇÂ¶ÇÊûúËÉΩÁºìÂ≠òÔºåÂ∞ÜÊ≠§ËØ∑Ê±ÇÂä†ÂÖ•mCacheQueueÈòüÂàóÔºå‰∏çÂÜçÈáçÂ§çËØ∑Ê±ÇÔºõ‰∏çÂèØ‰ª•ÁöÑËØùÂ∞±Â∞ÜËØ∑Ê±ÇÂä†ÂÖ•ÁΩëÁªúËØ∑Ê±ÇÈòüÂàómNetworkQueue„ÄÇ 2.2 CacheDispatcherÁºìÂ≠òË∞ÉÂ∫¶Á∫øÁ®ãRequestQueueÁöÑadd()ÊñπÊ≥ïÂπ∂Ê≤°ÊúâËØ∑Ê±ÇÁΩëÁªúÊàñËÄÖÂØπÁºìÂ≠òËøõË°åÊìç‰Ωú„ÄÇÂΩìÂ∞ÜËØ∑Ê±ÇÊ∑ªÂä†Âà∞ÁΩëÁªúËØ∑Ê±ÇÈòü ÂàóÊàñËÄÖÁºìÂ≠òÈòüÂàóÊó∂ÔºåÂú®ÂêéÂè∞ÁöÑÁΩëÁªúË∞ÉÂ∫¶Á∫øÁ®ãÂíåÁºìÂ≠òË∞ÉÂ∫¶Á∫øÁ®ãËΩÆËØ¢ÂêÑËá™ÁöÑËØ∑Ê±ÇÈòüÂàóÔºåËã•ÂèëÁé∞ÊúâËØ∑Ê±Ç‰ªªÂä°ÂàôÂºÄ ÂßãÊâßË°å„ÄÇ‰∏ãÈù¢ÂÖàÁúãÁúãÁºìÂ≠òË∞ÉÂ∫¶Á∫øÁ®ã„ÄÇ È¶ñÂÖàÂÖàÊù•ÁúãÁúãCacheDispatcherÁöÑadd()ÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627@Overridepublic void run() &#123; if (DEBUG) VolleyLog.v("start new dispatcher"); Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND); // Process.THREAD_PRIORITY_BACKGROUNDÈªòËÆ§ÂÄº‰∏∫10 // ËøõË°åÈòªÂ°ûË∞ÉÁî®‰ª•ÂàùÂßãÂåñÁºìÂ≠ò„ÄÇ mCache.initialize(); while (true) &#123; try &#123; processRequest(); &#125; catch (InterruptedException e) &#123; // ÂèØËÉΩË¢´ÊâìÊñ≠‰∫ÜÔºåÂõ†‰∏∫ÊòØÊó∂ÂÄôË¶ÅÈÄÄÂá∫‰∫Ü„ÄÇ if (mQuit) &#123; Thread.currentThread().interrupt(); return; &#125; VolleyLog.e( "Ignoring spurious interrupt of CacheDispatcher thread; " + "use quit() to terminate it"); // ÂøΩÁï•cachedispatcherÁ∫øÁ®ãÁöÑÂÅá‰∏≠Êñ≠Ôºõ // ‰ΩøÁî®quitÔºàÔºâÁªàÊ≠¢ÂÆÉ &#125; &#125;&#125; ËøôÂùóÂèØ‰ª•ÁúãÂá∫‰∏ªË¶ÅÂ∞±ÊòØÂàùÂßãÂåñ‰∫ÜÁºìÂ≠òÈòüÂàóÔºåÁÑ∂ÂêéÂºÄ‰∫Ü‰∏™Ê≠ªÂæ™ÁéØÔºå‰∏ÄÁõ¥Ë∞ÉÁî®processRequest()ÔºåÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™ÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182private void processRequest() throws InterruptedException &#123; // ‰ªéCacheQueue‰∏≠ÂèñÂá∫‰∏Ä‰∏™ÂèØÁî®ÁöÑrequest final Request&lt;?&gt; request = mCacheQueue.take(); processRequest(request);&#125;@VisibleForTestingvoid processRequest(final Request&lt;?&gt; request) throws InterruptedException &#123; request.addMarker("cache-queue-take"); request.sendEvent(RequestQueue.RequestEvent.REQUEST_CACHE_LOOKUP_STARTED); try &#123; //requestÂ¶ÇÊûúË¢´ÂèñÊ∂à‰∫ÜÔºåÂ∞±Áõ¥Êé•ËøîÂõû if (request.isCanceled()) &#123; request.finish("cache-discard-canceled"); return; &#125; Cache.Entry entry = mCache.get(request.getCacheKey()); // Ê≤°ÊúâÁºìÂ≠òÂ∞±ÊäärequestÊ∑ªÂä†Âà∞NetworkQueue‰∏≠ if (entry == null) &#123; request.addMarker("cache-miss"); // Ê≤°ÊúâÁºìÂ≠òÔºåÂπ∂‰∏îÁ≠âÂæÖÈòüÂàó‰∏≠‰πüÊ≤°ÊúâÊ≠§requestÔºåÈÇ£‰πàÂ∞±Áõ¥Êé•Âä†ÂÖ•Âà∞NetworkQueue‰∏≠ if (!mWaitingRequestManager.maybeAddToWaitingRequests(request)) &#123; mNetworkQueue.put(request); &#125; return; &#125; // Â¶ÇÊûúÁºìÂ≠òËøáÊúü‰∫ÜÔºå‰πüÊòØ‰∏ÄÊ†∑ÊäärequestÊ∑ªÂä†Âà∞NetworkQueue‰∏≠ if (entry.isExpired()) &#123; request.addMarker("cache-hit-expired"); request.setCacheEntry(entry); if (!mWaitingRequestManager.maybeAddToWaitingRequests(request)) &#123; mNetworkQueue.put(request); &#125; return; &#125; // ÊúâÁºìÂ≠òÂπ∂‰∏îÊ≤°ÊúâËøáÊúü request.addMarker("cache-hit"); // Ê†πÊçÆÁºìÂ≠òÁöÑÂÜÖÂÆπËß£Êûê Response&lt;?&gt; response = request.parseNetworkResponse( new NetworkResponse(entry.data, entry.responseHeaders)); request.addMarker("cache-hit-parsed"); // ÊòØÂê¶ÈúÄË¶ÅÊõ¥Êñ∞ if (!entry.refreshNeeded()) &#123; // ‰∏çÈúÄË¶ÅÊõ¥Êñ∞ÔºåÁõ¥Êé•Â∞ÜÁªìÊûúË∞ÉÂ∫¶Âà∞‰∏ªÁ∫øÁ®ã mDelivery.postResponse(request, response); &#125; else &#123; request.addMarker("cache-hit-refresh-needed"); request.setCacheEntry(entry); response.intermediate = true; // Âà§Êñ≠ÊòØÂê¶ÊúâÁõ∏ÂêåÁºìÂ≠òÈîÆÁöÑ‰ªªÂä°Âú®ÊâßË°å if (!mWaitingRequestManager.maybeAddToWaitingRequests(request)) &#123; // ÈúÄË¶ÅÊõ¥Êñ∞ÁªìÊûúÔºåÂÖàÂ∞ÜÁªìÊûúË∞ÉÂ∫¶Âà∞‰∏ªÁ∫øÁ®ãÔºåÁÑ∂ÂêéÊâßË°ånew runnable()&#123;&#125; // runnable‰∏≠Â∞±ÊòØÂ∞ÜrequestÊ∑ªÂä†Âà∞NetworkQueue‰∏≠ÔºåÊõ¥Êñ∞‰∏Ä‰∏ãÂÜÖÂÆπ mDelivery.postResponse( request, response, new Runnable() &#123; @Override public void run() &#123; try &#123; mNetworkQueue.put(request); &#125; catch (InterruptedException e) &#123; // Restore the interrupted status Thread.currentThread().interrupt(); &#125; &#125; &#125;); &#125; else &#123; // requestÂ∑≤ÁªèÂä†ÂÖ•Âà∞mWaitingRequests‰∏≠ // Áõ¥Êé•ÊääÁªìÊûúË∞ÉÂ∫¶Âà∞‰∏ªÁ∫øÁ®ã mDelivery.postResponse(request, response); &#125; &#125; &#125; finally &#123; request.sendEvent(RequestQueue.RequestEvent.REQUEST_CACHE_LOOKUP_FINISHED); &#125;&#125; Êàë‰ª¨Âú®processRequest‰∏≠ÂèØ‰ª•ÁúãÂà∞Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÁªèÂ∏∏Âá∫Áé∞ÔºåÈÇ£Â∞±ÊòØmWaitingRequestManager.maybeAddToWaitingRequests(request)ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠ÂΩìÂâçËøô‰∏™requestÊòØÂê¶ÊúâÂ≠òÂú®Áõ∏ÂêåÁºìÂ≠òÈîÆÁöÑËØ∑Ê±ÇÂ∑≤ÁªèÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåÂ¶ÇÊûúÊúâÔºåÈÇ£‰πàÂ∞±Â∞ÜËøô‰∏™requestÂä†ÂÖ•Âà∞‰∏Ä‰∏™Á≠âÂæÖÈòüÂàó‰∏≠ÔºåÁ≠âÂà∞Áõ∏ÂêåÁºìÂ≠òÈîÆÁöÑËØ∑Ê±ÇÂÆåÊàê„ÄÇ ÊÄªÁªì‰∏Ä‰∏ãCacheDispatcher‰∏ªË¶ÅÊ≠•È™§Ôºö ‰ªéCacheQueue‰∏≠Âæ™ÁéØÂèñÂá∫requestÔºõ Â¶ÇÊûúÁºìÂ≠ò‰∏¢Â§±ÔºåÂä†ÂÖ•Âà∞NetworkQueue‰∏≠Ôºõ Â¶ÇÊûúÁºìÂ≠òËøáÊúüÔºåÂä†ÂÖ•Âà∞NetworkQueue‰∏≠Ôºõ Â∞ÜÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆËß£ÊûêÊàêResponseÂØπË±°Ôºõ Â¶ÇÊûú‰∏çÈúÄË¶ÅÊõ¥Êñ∞ÔºåÁõ¥Êé•Â∞ÜÁªìÊûúÂõûË∞ÉÂà∞‰∏ªÁ∫øÁ®ãÔºåÂõûË∞ÉÊìç‰ΩúÁ≠â‰ªãÁªçÂÆåNetworkDispatcher‰πãÂêé‰∏ÄËµ∑Ê∑±ÂÖ•ÂâñÊûêÔºõ Â¶ÇÊûúÈúÄË¶ÅÊõ¥Êñ∞ÔºåÂÖàÂ∞ÜÁªìÊûúÂõûË∞ÉÂà∞‰∏ªÁ∫øÁ®ãÔºåÁÑ∂ÂêéÂÜçÂ∞ÜrequestÂä†ÂÖ•Âà∞NetworkQueue‰∏≠„ÄÇ ‰∏ãÈù¢Êù•ÁúãÁúãÁΩëÁªúË∞ÉÂ∫¶Á∫øÁ®ã„ÄÇ 2.3 NetWorkDispatcherÁΩëÁªúË∞ÉÂ∫¶Á∫øÁ®ãNetworkDispatcherÁöÑrunÊñπÊ≥ï‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫:123456789101112131415161718@Overridepublic void run() &#123; Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND); while (true) &#123; try &#123; processRequest(); &#125; catch (InterruptedException e) &#123; // Êàë‰ª¨ÂèØËÉΩË¢´ÊâìÊñ≠‰∫ÜÔºåÂõ†‰∏∫ÊòØÊó∂ÂÄôÈÄÄÂá∫‰∫Ü„ÄÇ if (mQuit) &#123; Thread.currentThread().interrupt(); return; &#125; VolleyLog.e( "Ignoring spurious interrupt of NetworkDispatcher thread; " + "use quit() to terminate it"); &#125; &#125;&#125; Áî±Ê≠§ÂèØ‰ª•ÁúãÂá∫ÔºåNetWordDispatchÂíåCacheDispatchÈùûÂ∏∏Á±ª‰ºº„ÄÇ‰ªñÁöÑrun()ÊñπÊ≥ïÂíåCacheDispatchÁöÑÊñπÊ≥ïÂü∫Êú¨‰∏ÄÊ†∑ÔºåËøôÂ∞±‰∏çÂ§öÂÅö‰ªãÁªçÔºå‰∏ãÈù¢Êù•ÁúãÁúã‰ªñÁöÑprocessRequest()ÊñπÊ≥ï„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263private void processRequest() throws InterruptedException &#123; // ‰ªéNetworkQueue‰∏≠ÂèñÂá∫request Request&lt;?&gt; request = mQueue.take(); processRequest(request);&#125;@VisibleForTestingvoid processRequest(Request&lt;?&gt; request) &#123; long startTimeMs = SystemClock.elapsedRealtime(); request.sendEvent(RequestQueue.RequestEvent.REQUEST_NETWORK_DISPATCH_STARTED); try &#123; request.addMarker("network-queue-take"); // Â¶ÇÊûúrequestË¢´ÂèñÊ∂à‰∫ÜÔºåÈÇ£‰πàÂ∞±‰∏çÊâßË°åÊ≠§request if (request.isCanceled()) &#123; request.finish("network-discard-cancelled"); request.notifyListenerResponseNotUsable(); return; &#125; addTrafficStatsTag(request); // ËøòËÆ∞ÂæóËøô‰∏™mNetwork‰πàÔºåÂÆÉÂ∞±ÊòØVolley.newRequestQueue()ÊñπÊ≥ïÈáåÁöÑBasicNetworkÂØπË±°Ôºå‰∏Ä‰ºöÊàë‰ª¨Êù•ÁúãÁúãmNetwork.performRequest()ÊñπÊ≥ïÊòØÂ¶Ç‰ΩïÂæóÂà∞NetworkResponseÁöÑ NetworkResponse networkResponse = mNetwork.performRequest(request); request.addMarker("network-http-complete"); // notModifiedÊòØÊúçÂä°Á´ØËøîÂõû304ÔºåhasHadResponseDelivered()ÊòØrequestÂ∑≤ÁªèÂõûË∞ÉËøá‰∫Ü if (networkResponse.notModified &amp;&amp; request.hasHadResponseDelivered()) &#123; request.finish("not-modified"); request.notifyListenerResponseNotUsable(); return; &#125; // Â∞ÜNetworkResponseËß£ÊûêÊàêResponseÂØπË±°ÔºåÂú®Â≠êÁ∫øÁ®ã‰∏≠ÊâßË°å Response&lt;?&gt; response = request.parseNetworkResponse(networkResponse); request.addMarker("network-parse-complete"); // Â∞ÜrequestÂÜôÂÖ•ÁºìÂ≠ò if (request.shouldCache() &amp;&amp; response.cacheEntry != null) &#123; mCache.put(request.getCacheKey(), response.cacheEntry); request.addMarker("network-cache-written"); &#125; request.markDelivered(); // ÂõûË∞ÉÁªìÊûúËá≥‰∏ªÁ∫øÁ®ã mDelivery.postResponse(request, response); request.notifyListenerResponseReceived(response); &#125; // ‰ª•‰∏ãÈÉΩÊòØÂ§ÑÁêÜÂºÇÂ∏∏ÈîôËØØÔºåÁÑ∂Âêé‰πüÈúÄË¶ÅÂõûË∞ÉËá≥‰∏ªÁ∫øÁ®ã catch (VolleyError volleyError) &#123; volleyError.setNetworkTimeMs(SystemClock.elapsedRealtime() - startTimeMs); parseAndDeliverNetworkError(request, volleyError); request.notifyListenerResponseNotUsable(); &#125; catch (Exception e) &#123; VolleyLog.e(e, "Unhandled exception %s", e.toString()); VolleyError volleyError = new VolleyError(e); volleyError.setNetworkTimeMs(SystemClock.elapsedRealtime() - startTimeMs); mDelivery.postError(request, volleyError); request.notifyListenerResponseNotUsable(); &#125; finally &#123; request.sendEvent(RequestQueue.RequestEvent.REQUEST_NETWORK_DISPATCH_FINISHED); &#125;&#125; ÈÄöËøáNetworkDispatcher.processRequest()ÊñπÊ≥ïÂèØ‰ª•ÂèëÁé∞Ôºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ãÂá†Ê≠•Ôºö ÈÄöËøáBasicNetwork.performRequest(request)ÂæóÂà∞NetworkResponseÂØπË±°Ôºõ ÈÄöËøárequest.parseNetworkResponse(networkResponse)Ëß£ÊûêÂæóÂà∞ResponseÂØπË±°Ôºõ ÈÄöËøámDeliveryÂ∞ÜÊàêÂäüÁªìÊûúÊàñËÄÖÂ§±Ë¥•ÁªìÊûúÂõûË∞ÉÂà∞‰∏ªÁ∫øÁ®ã„ÄÇ Áé∞Âú®Êàë‰ª¨‰æùÊ¨°Êù•ÂàÜÊûêËøô‰∏âÊ≠•Ôºö ËØ∑Ê±ÇÁΩëÁªúÔºåÂæóÂà∞NetworkResponse Êàë‰ª¨ÁúãÁúãBasicNetworkÁöÑperformRequest()ÊñπÊ≥ïÔºö 123456789101112131415161718192021222324252627@Overridepublic NetworkResponse performRequest(Request&lt;?&gt; request) throws VolleyError &#123; long requestStart = SystemClock.elapsedRealtime(); while (true) &#123; HttpResponse httpResponse = null; byte[] responseContents = null; List&lt;Header&gt; responseHeaders = Collections.emptyList(); try &#123; // Gather headers. Map&lt;String, String&gt; additionalRequestHeaders = getCacheHeaders(request.getCacheEntry()); httpResponse = mBaseHttpStack.executeRequest(request, additionalRequestHeaders); int statusCode = httpResponse.getStatusCode(); responseHeaders = httpResponse.getHeaders(); // Handle cache validation. if (statusCode == HttpURLConnection.HTTP_NOT_MODIFIED) &#123; Entry entry = request.getCacheEntry(); if (entry == null) &#123; return new NetworkResponse( HttpURLConnection.HTTP_NOT_MODIFIED, /* data= */ null, /* notModified= */ true, SystemClock.elapsedRealtime() - requestStart, responseHeaders); &#125; ‚Ä¶‚Ä¶‚Ä¶‚Ä¶ÁúÅÁï• ÈÄöËøá‰∏äÈù¢Ê∫êÁ†ÅÂèØ‰ª•ÁúãÂá∫ÔºåBasicNetworkÂ∞±ÊòØÂ∞ÅË£Ö‰∫Ü‰∏Ä‰∏ãNetworkResponseÔºåÂπ∂Ê≤°ÊúâÊ∂âÂèäÂà∞ÁΩëÁªúËØ∑Ê±ÇÔºåÊàë‰ª¨ÁªßÁª≠Ê∑±ÂÖ•Âà∞BaseHttpStack.executeRequest(request, additionalRequestHeaders)Ê∫êÁ†Å‰∏≠„ÄÇ123public abstract HttpResponse executeRequest( Request&lt;?&gt; request, Map&lt;String, String&gt; additionalHeaders) throws IOException, AuthFailureError; ËøôÊó∂ÂèëÁé∞Ëøô‰∏™BaseHttpStackÂ∞±ÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåËÄåËøô‰∏™executeRequest()‰πüÂ∞±ÊòØ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ï„ÄÇÊàëÂΩìÊó∂Â∞±Âç°Âú®Ëøô‰∫ÜÔºåË∞ÉÁî®‰∫Ü‰∏Ä‰∏™ÊäΩË±°Á±ªÁöÑÊäΩË±°ÊñπÊ≥ïÔºåËøôÂíãÊìç‰ΩúÂòõ„ÄÇÁÑ∂ÂêéÊàëÂ∞±Â•ΩÂ•ΩÂÜçÁúã‰∫Ü‰∏ÄÈÅçÔºåÊâæÂà∞BasicNetworkÁöÑÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂØπmBaseHttpStckÂÆö‰πâÁöÑÂú∞ÊñπÔºåÂèëÁé∞Ëøô‰∏™ÊòØÊûÑÈÄ†ÂáΩÊï∞‰º†ËøõÊù•ÁöÑÔºåÁÑ∂ÂêéÂ∞±ÊÉ≥Âà∞‰∫ÜÂú®Ë∞ÉÁî®Volley.newRequestQueue()Êó∂ÔºåÊòØÊ†πÊçÆAndroidÁâàÊú¨‰º†ÂÖ•‰∫Ü‰∏çÂêåÁöÑStackÔºåÈÇ£Êàë‰ª¨Â∞±Êù•ÁúãÁúãHurlStack.executeRequest()ÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Overridepublic HttpResponse executeRequest(Request&lt;?&gt; request, Map&lt;String, String&gt; additionalHeaders) throws IOException, AuthFailureError &#123; String url = request.getUrl(); HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(); map.putAll(additionalHeaders); // request.getheadersÔºàÔºâ‰ºòÂÖà‰∫éÁªôÂÆöÁöÑÈôÑÂä†ÔºàÁºìÂ≠òÔºâÂ§¥. map.putAll(request.getHeaders()); if (mUrlRewriter != null) &#123; String rewritten = mUrlRewriter.rewriteUrl(url); if (rewritten == null) &#123; throw new IOException("URL blocked by rewriter: " + url); &#125; url = rewritten; &#125; URL parsedUrl = new URL(url); HttpURLConnection connection = openConnection(parsedUrl, request); boolean keepConnectionOpen = false; try &#123; for (String headerName : map.keySet()) &#123; connection.setRequestProperty(headerName, map.get(headerName)); &#125; setConnectionParametersForRequest(connection, request); // ‰ΩøÁî®Êù•Ëá™httpurlConnectionÁöÑÊï∞ÊçÆÂàùÂßãÂåñhttpResponse„ÄÇ int responseCode = connection.getResponseCode(); if (responseCode == -1) &#123; // Â¶ÇÊûúÊó†Ê≥ïÊ£ÄÁ¥¢ÂìçÂ∫î‰ª£Á†ÅÔºågetResponseCodeÔºàÔºâÂ∞ÜËøîÂõû-1„ÄÇ // ÂêëÂëºÂè´ËÄÖÂèëÂá∫‰ø°Âè∑ÔºåËØ¥ÊòéËøûÊé•ÊúâÈóÆÈ¢ò„ÄÇ throw new IOException("Could not retrieve response code from HttpUrlConnection."); &#125; if (!hasResponseBody(request.getMethod(), responseCode)) &#123; return new HttpResponse(responseCode, convertHeaders(connection.getHeaderFields())); &#125; // ÈúÄË¶Å‰øùÊåÅËøûÊé•ÊâìÂºÄÔºåÁõ¥Âà∞Ë∞ÉÁî®Êñπ‰ΩøÁî®ÊµÅ„ÄÇÂåÖË£ÖÊµÅÔºå‰ª•‰æøcloseÔºàÔºâÂ∞ÜÊñ≠ÂºÄËøûÊé•„ÄÇ keepConnectionOpen = true; return new HttpResponse( responseCode, convertHeaders(connection.getHeaderFields()), connection.getContentLength(), new UrlConnectionInputStream(connection)); &#125; finally &#123; if (!keepConnectionOpen) &#123; connection.disconnect(); &#125; &#125;&#125; ÂèØ‰ª•ÁúãÂà∞Ôºå‰∏ªË¶ÅÂ∞±ÊòØÂÄüÂä©‰∫ÜHttpURLConnectionÂØπË±°Êù•ËØ∑Ê±ÇÁΩëÁªúÔºåÂπ∂Ê†πÊçÆ‰∏çÂêåÁöÑÊù°‰ª∂ËøîÂõû‰∏çÂêåÁöÑHttpResponseÂØπË±°„ÄÇ Ëß£ÊûêNetworkResponse, ÂæóÂà∞ResponseÔºöËß£ÊûêËøáÁ®ãÊòØÂÆö‰πâÂú®RequestÁ±ª‰∏≠Ôºå‰ΩÜÊòØ‰ªñÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºå‰∏çÂêåÁöÑRequestÈÉΩÊúâËá™Â∑±ÁöÑÂÆûÁé∞ÔºåÊàë‰ª¨Áé∞Âú®Â∞±‰ª•JsonRequest‰∏∫‰æãÁúãÁúãÔºöÁÑ∂ÂêéÂèëÁé∞‰ªñÂèàÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåÈÇ£Êàë‰ª¨Â∞±ÁúãÁúãJsonRequestÂÖ∂‰∏≠‰∏Ä‰∏™ÂÆûÁé∞Á±ªJsonObjectRequestÁöÑparseNetworkResponse()ÊñπÊ≥ïÔºö 123456789101112131415@Overrideprotected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) &#123; try &#123; String jsonString = new String( response.data, HttpHeaderParser.parseCharset(response.headers, PROTOCOL_CHARSET)); return Response.success( new JSONObject(jsonString), HttpHeaderParser.parseCacheHeaders(response)); &#125; catch (UnsupportedEncodingException e) &#123; return Response.error(new ParseError(e)); &#125; catch (JSONException je) &#123; return Response.error(new ParseError(je)); &#125;&#125; Ëøô‰∏™Â∞±‰∏çÁî®Â§öËØ¥‰∫ÜÔºåÊ†πÊçÆËøîÂõûÊù•ÁöÑresponseÂª∫‰∫Ü‰∏Ä‰∏™StringÁÑ∂ÂêéÊääËøô‰∏™StringÊîæÂà∞ResponseÈáåÈù¢ÂéªÁÑ∂ÂêéÂÜçËøîÂõûÂéª„ÄÇ ÂõûË∞É‰∏ªÁ∫øÁ®ãÂõûË∞É‰∏ªË¶ÅÊòØÈÄöËøáDeliveryÁöÑpostResponse()ÊñπÊ≥ïÂÆûÁé∞ÁöÑÔºåÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™ÊñπÊ≥ï,ÊâæËøáÂéªÂèàÊâæÂà∞‰∫Ü‰∏Ä‰∏™ResponseDeliveryÊäΩË±°Á±ªÔºåÁÑ∂ÂêéÂèàÂæóÊâæ‰ªñÁöÑÂÆûÁé∞Á±ªÔºåËøôÊó∂Â§ßÂÆ∂Â∫îËØ•ËÆ∞ÂæóRequestQueue()ÁöÑÊó∂ÂÄôÂàùÂßãÂåñ‰∫Ü‰∏Ä‰∏™DeliveryÔºö 1234567public RequestQueue(Cache cache, Network network, int threadPoolSize) &#123; this( cache, network, threadPoolSize, new ExecutorDelivery(new Handler(Looper.getMainLooper())));&#125; ‰ªñËøîÂõû‰∫Ü‰∏Ä‰∏™ExecutorDeliveryÔºåÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™Á±ªÔºåÁÑ∂ÂêéÂ∞±ÊÉäÂñúÁöÑÂèëÁé∞ÔºåÊàë‰ª¨Áªà‰∫éÊâæÂà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑ‰∏úË•ø‰∫ÜÔºö123456789101112131415/** * Creates a new response delivery interface. * * @param handler &#123;@link Handler&#125; to post responses on */public ExecutorDelivery(final Handler handler) &#123; // Make an Executor that just wraps the handler. mResponsePoster = new Executor() &#123; @Override public void execute(Runnable command) &#123; handler.post(command); &#125; &#125;;&#125; Áü•ÈÅì‰∫ÜÂÆÉÁöÑÂàùÂßãÂåñÔºåÊàë‰ª¨ÂÜçÊù•ÁúãÁúãÂÆÉÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÂõûË∞ÉÁöÑÔºö Volley‰∏≠ÂõûË∞ÉÊòØÈÄöËøápostResponse()ÊñπÊ≥ïÁöÑ : 12345678910public void postResponse(Request&lt;?&gt; request, Response&lt;?&gt; response) &#123; postResponse(request, response, null);&#125;@Overridepublic void postResponse(Request&lt;?&gt; request, Response&lt;?&gt; response, Runnable runnable) &#123; request.markDelivered(); request.addMarker("post-response"); mResponsePoster.execute(new ResponseDeliveryRunnable(request, response, runnable));&#125; postResponse()ÊúÄÁªà‰ºöË∞ÉÁî®mResponsePosterÂØπË±°ÁöÑexecute()ÊñπÊ≥ïÔºå‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™ResponseDeliveryRunnableÂØπË±°ÔºåÂÆÉÂÆûÁé∞‰∫ÜRunnableÊé•Âè£Ôºåexecute()ÊñπÊ≥ï‰ºöÈÄöËøáHandler.post(runnable)Â∞ÜResponseDeliveryRunnableÊîæÂÖ•Ê∂àÊÅØÈòüÂàó„ÄÇÊúÄÂêéÊàë‰ª¨Êù•ÁúãÁúãËøô‰∏™ResponseDeliveryRunnableÁöÑrun()ÊñπÊ≥ïÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÂÅö‰∫Ü‰ªÄ‰πàÊìç‰ΩúÔºö 12345678910111213141516171819202122232425262728293031@SuppressWarnings("unchecked")@Overridepublic void run() &#123; // If this request has canceled, finish it and don't deliver. if (mRequest.isCanceled()) &#123; mRequest.finish("canceled-at-delivery"); return; &#125; if (mResponse.isSuccess()) &#123; // ÊâßË°åÊàêÂäüÁöÑÂõûË∞ÉÔºåÂú®ÂÖ∑‰ΩìÁöÑRequestÂÆûÁé∞Á±ª‰∏≠ÔºåÊØîÂ¶ÇStringRequestÂ∞±‰ºöË∞ÉÁî®listener.onResponse(string)ÂõûË∞É mRequest.deliverResponse(mResponse.result); &#125; else &#123; // ÊâßË°åÂ§±Ë¥•ÁöÑÂõûË∞ÉÔºåÂú®request‰∏≠ÔºåÁõ¥Êé•ÂõûË∞É‰∫Ülistener.onErrorResponse(error) mRequest.deliverError(mResponse.error); &#125; // intermediateÈªòËÆ§‰∏∫falseÔºå‰ΩÜÊòØÂú®CacheDispatcherÁöÑrun()‰∏≠ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊõ¥Êñ∞ÁºìÂ≠òÔºåÈÇ£‰πàÂ∞±‰ºöÁΩÆ‰∏∫true if (mResponse.intermediate) &#123; mRequest.addMarker("intermediate-response"); &#125; else &#123; mRequest.finish("done"); &#125; // Â¶ÇÊûú‰º†ÂÖ•‰∫Ürunnable‰∏ç‰∏∫Á©∫ÔºåÈÇ£Â∞±Â∞±ÊâßË°årunnable.run()ÊñπÊ≥ï // ÂõûÂøÜ‰∏ãÂú®CacheDispatcherÁöÑrun()ÊñπÊ≥ï‰∏≠ÔºåÂ¶ÇÊûúrequestÊúâÁºìÂ≠òÔºå‰ΩÜÊòØÈúÄË¶ÅÊõ¥Êñ∞ÁºìÂ≠òÁöÑÊó∂ÂÄôÔºåmDeliveryÊòØ‰∏çÊòØË∞ÉÁî®ÁöÑÂ∏¶runnableÁöÑÊñπÊ≥ï if (mRunnable != null) &#123; mRunnable.run(); &#125;&#125; 3 ËØ∑Ê±ÇÊµÅÁ®ãÂõæÊúÄÂêéÈôÑ‰∏äVolleyÁöÑËØ∑Ê±ÇÊµÅÁ®ãÂõæ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Ê∫êÁ†Å</tag>
        <tag>kotlin</tag>
        <tag>Volley</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªü2--ËøõÁ®ãÁöÑÊèèËø∞ÂíåÊéßÂà∂]]></title>
    <url>%2Fposts%2F2e847144.html</url>
    <content type="text"><![CDATA[Â§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãÊàë‰ΩøÁî®ÂπïÂ∏ÉËΩØ‰ª∂ÁîªÁöÑÊÄùÁª¥ÂØºÂõæÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÊÉ≥‰ΩøÁî®ÂπïÂ∏ÉÂèØ‰ª•ÈÄöËøáÊàëÁöÑÈÇÄËØ∑ÈìæÊé•Ê≥®ÂÜåÔºåÂèØÂÖçË¥πËé∑Âæó‰∏Ä‰∏™ÊúàÈ´òÁ∫ß‰ºöÂëòhttps://mubu.com/inv/477598 [TOC] 2.1 ËøõÁ®ãÁöÑÊèèËø∞2.1.1 ËøõÁ®ãÁöÑÂÆö‰πâÂíåÁâπÂæÅ2.1.1.1 ËøõÁ®ãÁöÑÂÆö‰πâ‰∏∫‰∫ÜËÉΩÂ§ü‰ΩøÁ®ãÂ∫èÂπ∂ÂèëÊâßË°åÔºåÂπ∂‰∏îÂèØ‰ª•ÂØπÂπ∂ÂèëÊâßË°åÁöÑÁ®ãÂ∫èÂä†‰ª•ÊèèËø∞ÂíåÊéßÂà∂Ôºå‰∫∫‰ª¨ÂºïÂÖ•‰∫Ü‚ÄúËøõÁ®ã‚ÄùÁöÑÊ¶ÇÂøµ„ÄÇ‰∏∫‰∫Ü‰ΩøÂèÇ‰∏éÂπ∂ÂèëÊâßË°åÁöÑÊØè‰∏™Á®ãÂ∫èÈÉΩËÉΩÁã¨Á´ãÂú∞ËøêË°åÔºåÊìç‰ΩúÁ≥ªÁªüÂøÖÈ°ª‰∏∫‰πãÈÖçÁΩÆ‰∏Ä‰∏™‰∏ìÈó®ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÁß∞‰∏∫ËøõÁ®ãÊï∞ÊçÆÂùóÔºàPCBÔºâ„ÄÇ‰ªñÁî®Êù•Á∫™ÂΩïËøõÁ®ãÁöÑÂêÑÁßçÂ±ûÊÄßÔºåÊèèËø∞ËøõÁ®ãÁöÑÂä®ÊÄÅÂèòÂåñËøáÁ®ã„ÄÇ‰∏ªË¶ÅÂåÖÂê´ÊúâËøõÁ®ãÁöÑÊèèËø∞‰ø°ÊÅØÔºàËøõÁ®ãÊ†áËØÜÁ¨¶ÔºåËøõÁ®ãÂêçÔºåÁî®Êà∑Ê†áËØÜÁ¨¶ÔºåËøõÁ®ãÁªÑÂÖ≥Á≥ªÁ≠âÔºâ„ÄÅËøõÁ®ãÊéßÂà∂‰ø°ÊÅØÔºàÂΩìÂâçÁä∂ÊÄÅÔºå‰ºòÂÖàÁ∫ßÔºå‰ª£Á†ÅÊâßË°åÂÖ•Âè£Âú∞ÂùÄÔºå‰øùÂ≠òÁöÑÁ£ÅÁõòÂú∞ÂùÄÁ≠âÁ≠âÔºâ„ÄÅÊâÄÊã•ÊúâÁöÑËµÑÊ∫êÂíå‰ΩøÁî®ÊÉÖÂÜµÔºàËôöÊãüÂú∞ÂùÄÁ©∫Èó¥ÁöÑÁä∂ÊÄÅÔºåÊñá‰ª∂ÊâìÂºÄÂàóË°®Á≠âÔºâÂíåCPUÁé∞Âú∫‰ø°ÊÅØÁ≠âÂÜÖÂÆπ„ÄÇPCBÊòØÁ≥ªÁªüÊÑüÁü•ËøõÁ®ãÂ≠òÂú®ÁöÑÂîØ‰∏ÄÊ†áÂøó„ÄÇÊâÄ‰ª•‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÊääËøõÁ®ãÂÆû‰ΩìÂ∞±ÁÆÄÁß∞‰∏∫ËøõÁ®ãÔºåÂàõÂª∫ËøõÁ®ãÔºåÂÆûË¥®‰∏äÊòØÂàõÂª∫ËøõÁ®ãÂÆû‰Ωì‰∏≠ÁöÑPCBÔºõÊí§ÈîÄËøõÁ®ãÔºåÂÆûË¥®‰∏äÊòØÊí§ÈîÄËøõÁ®ãÁöÑPCB„ÄÇÂØπ‰∫éËøõÁ®ãÁöÑÂÆö‰πâÔºåÊØîËæÉÂÖ∏ÂûãÁöÑÊúâÔºö ËøõÁ®ãÊòØÁ®ãÂ∫èÁöÑ‰∏ÄÊ¨°ÊâßË°å ËøõÁ®ãÊòØ‰∏Ä‰∏™Á®ãÂ∫èÂèäÂÖ∂Êï∞ÊçÆÂú®Â§ÑÁêÜÊú∫‰∏äÈ°∫Â∫èÊâßË°åÊó∂ÊâÄÂèëÁîüÁöÑÊ¥ªÂä® ËøõÁ®ãÊòØÂÖ∑ÊúâÁã¨Á´ãÂäüËÉΩÁöÑÁ®ãÂ∫èÂú®‰∏Ä‰∏™Êï∞ÊçÆÈõÜÂêà‰∏äËøêË°åÁöÑËøáÁ®ãÔºåÂÆÉÊòØÁ≥ªÁªüËøõË°åËµÑÊ∫êÂàÜÈÖçÂíåË∞ÉÂ∫¶ÁöÑ‰∏Ä‰∏™Áã¨Á´ãÂçï‰Ωç 2.1.1.2 ËøõÁ®ãÁöÑÁâπÂæÅ ÁªìÊûÑÊÄßËøõÁ®ãÂÆû‰ΩìÊòØÁî±Á®ãÂ∫èÊÆµ„ÄÅÊï∞ÊçÆÊÆµÂèäËøõÁ®ãÊéßÂà∂Âø´‰∏âÈÉ®ÂàÜÁªÑÊàê„ÄÇ Âä®ÊÄÅÊÄßËøõÁ®ãÁöÑÂÆûË¥®ÊòØËøõÁ®ãÂÆû‰ΩìÁöÑÊâßË°åËøáÁ®ãÔºåËÄå‰∏îËøõÁ®ã‚ÄúÁî±ÂàõÂª∫ËÄå‰∫ßÁîüÔºåÁî±Ë∞ÉÂ∫¶ËÄåÊâßË°åÔºåÁî±Êí§ÈîÄËÄåÊ∂à‰∫°‚Äù„ÄÇ Âπ∂ÂèëÊÄßÂ§ö‰∏™ËøõÁ®ãÂÆû‰ΩìÂêåÂ≠ò‰∫éÂÜÖÂ≠ò‰∏≠Ôºå‰∏îËÉΩÂú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÂêåÊó∂ËøêË°å„ÄÇ Áã¨Á´ãÊÄßËøõÁ®ãÂÆû‰ΩìÊòØ‰∏Ä‰∏™ËÉΩÁã¨Á´ãËøêË°å„ÄÅÁã¨Á´ãËé∑ÂæóËµÑÊ∫êÂíåÁã¨Á´ãÊé•Êî∂Ë∞ÉÂ∫¶ÁöÑÂü∫Êú¨Âçï‰Ωç„ÄÇ ÂºÇÊ≠•ÊÄßËøõÁ®ãÊòØÊåâÂºÇÊ≠•ÊñπÂºèËøêË°åÁöÑ„ÄÇ 2.1.2 ËøõÁ®ãÁöÑÂü∫Êú¨Áä∂ÊÄÅÂèäËΩ¨Êç¢2.1.2.1 ËøõÁ®ãÁöÑ‰∏âÁßçÂü∫Êú¨Áä∂ÊÄÅËøõÁ®ã‰∏ªË¶ÅÂàÜ‰∏∫‰∏âÁßçÂü∫Êú¨Áä∂ÊÄÅÔºö ËøêË°åÊÄÅÊåáËøõÁ®ãÂ∑≤ÁªèËé∑Âæó‰∫ÜCPUÔºå‰ªñÊ≠£Âú®CPU‰∏äÊâßË°å„ÄÇ Â∞±Áª™ÊÄÅÊåáËøõÁ®ãÂ∑≤ÁªèÂáÜÂ§áÂ∞±Áª™ÔºåÂáÜÂ§áÂ•Ω‰∫ÜË¢´CPUÊâßË°åÁöÑÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÁ≥ªÁªü‰∏≠ÊúâÂæàÂ§öÂ§Ñ‰∫éÂ∞±Áª™ÊÄÅÁöÑËøõÁ®ãÔºåÈÄöÂ∏∏Êää‰ªñ‰ª¨Êåâ‰∏ÄÂÆöÁöÑÁ≠ñÁï•ÊéíÊàê‰∏Ä‰∏™ÈòüÂàóÔºåËøô‰∏™ÈòüÂàóÁß∞‰∏∫Â∞±Áª™ÈòüÂàó„ÄÇ Á≠âÂæÖÊÄÅÊåáÊ≠£Âú®ËøêË°åÁöÑËøõÁ®ãÁî±‰∫éÂèëÁîüÊüê‰∫ã‰ª∂ÔºàÂ¶ÇI/OËØ∑Ê±Ç„ÄÅÁî≥ËØ∑ÁºìÂÜ≤Âå∫Â§±Ë¥•Á≠âÈóÆÈ¢òÔºâÊöÇÊó∂Êó†Ê≥ïÁªßÁª≠ÊâßË°åÊó∂ÁöÑÁä∂ÊÄÅ„ÄÇÊ≠§Êó∂ÂºïËµ∑ËøõÁ®ãË∞ÉÂ∫¶ÔºåOSÊääÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªôÂ∞±Áª™‰∏≠ÁöÑËøõÁ®ãÔºåËÆ©ÂèóÈòªÁöÑËøõÁ®ãÂ§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ„ÄÇ 2.1.2.2 ‰∏âÁßçÁä∂ÊÄÅÁöÑËΩ¨Êç¢ 2.1.2.3 ÂàõÂª∫Áä∂ÊÄÅÂíåÁªàÊ≠¢Áä∂ÊÄÅ‰∏∫‰∫ÜÊª°Ë∂≥ËøõÁ®ãÊéßÂà∂ÂùóÂØπÊï∞ÊçÆÂèäÊìç‰ΩúÁöÑÂÆåÊï¥ÊÄßË¶ÅÊ±Ç‰ª•ÂèäÂ¢ûÂº∫ÁÆ°ÁêÜÁöÑÁÅµÊ¥ªÊÄßÔºåÈÄöÂ∏∏Âú®Á≥ªÁªü‰∏≠Âèà‰∏∫ËøõÁ®ãÂºïÂÖ•‰∫Ü‰∏§ÁßçÂ∏∏ËßÅÁöÑÁä∂ÊÄÅÔºöÂàõÂª∫Áä∂ÊÄÅÂíåÁªàÊ≠¢Áä∂ÊÄÅ„ÄÇ 2.1.3 ËøõÁ®ãÁÆ°ÁêÜ‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑÂú®ÊúÄÂºÄÂßãÊàëÂ∑≤ÁªèÁªèÊèêÂà∞‰∫ÜËøõÁ®ãÊéßÂà∂ÂùóPCBËøô‰∏™‰∏úË•øÔºåÁé∞Âú®Êàë‰ª¨Â∞±Ëøõ‰∏ÄÊ≠•Êù•‰∫ÜËß£‰ªñ„ÄÇ 2.1.3.1 ËøõÁ®ãÊéßÂà∂Âùó‰∏≠ÁöÑ‰ΩúÁî®PCBÁöÑ‰ΩúÁî®‰∏ªË¶ÅÂ∞±ÊòØ‰Ωø‰∏Ä‰∏™Âú®Â§öÈÅìÁ®ãÂ∫èÁéØÂ¢É‰∏ã‰∏çËÉΩÁã¨Á´ãËøêË°åÁöÑÁ®ãÂ∫èÁß∞‰∏∫‰∏Ä‰∏™ËÉΩÁã¨Á´ãËøêË°åÁöÑÂü∫Êú¨Âçï‰ΩçÔºå‰∏Ä‰∏™ËÉΩ‰∏éÂÖ∂ÂÆÉËøõÁ®ãÂπ∂ÂèëÊâßË°åÁöÑËøõÁ®ã„ÄÇ ‰Ωú‰∏∫Áã¨Á´ãËøêË°åÂü∫Êú¨Âçï‰ΩçÁöÑÊ†áÂøó„ÄÇ ÂΩì‰∏Ä‰∏™Á®ãÂ∫èÈÖçÁΩÆ‰∫ÜPCB‰πãÂêéÔºåÂ∞±Ë°®Á§∫‰ªñÂ∑≤ÊòØ‰∏Ä‰∏™ËÉΩÂú®Â§öÈÅìÁ®ãÂ∫èÁéØÂ¢É‰∏ãÁã¨Á´ãËøêË°åÁöÑ„ÄÅÂêàÊ≥ïÁöÑÂü∫Êú¨Âçï‰ΩçÔºå‰πüÂ∞±ÂÖ∑ÊúâÂèñÂæóOSÊúçÂä°ÁöÑÊùÉÂà©„ÄÇÂΩìÁ≥ªÁªüÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøõÁ®ãÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏∫‰ªñÂàõÂª∫‰∫Ü‰∏Ä‰∏™PCBÔºåËøõÁ®ãÁªìÊùüÂêéÊî∂ÂõûPCB„ÄÇ ËÉΩÂÆûÁé∞Èó¥Êñ≠ÊÄßËøêË°åÊñπÂºè„ÄÇ Âú®Â§öÈÅìÁ®ãÂ∫èËøêË°åÁéØÂ¢É‰∏ãÔºåÁî±‰∫éÂ≠òÂú®Êó∂Èó¥ÁâáÊàñËÄÖÊúâÁ≠âÂæÖI/OËØ∑Ê±ÇÁöÑÊÉÖÂÜµÔºåÊâÄ‰ª•ËøõÁ®ã‰∏ÄËà¨ÈÉΩÊòØÂá∫‰∫éËµ∞Ëµ∞ÂÅúÂÅúÁöÑÁä∂ÊÄÅÔºåÂΩì‰∏Ä‰∏™ËøõÁ®ãË¢´ÈòªÂ°ûÁöÑÊó∂ÂÄôÔºå‰ªñÂ∫îËØ•Êúâ‰∏ÄÁßçËÉΩ‰øùÂ≠òÂΩìÂâçËøêË°åÁä∂ÊÄÅÁöÑËÉΩÂäõ‰πüÂ∞±ÊòØ‰øùÊä§Áé∞Âú∫Êú∫Âà∂ÔºåÊñπ‰æøÂú®Ê≠§Ë¢´Ë∞ÉÂ∫¶ÊâßË°åÊó∂ÊÅ¢Â§çÈòªÂ°ûÂâçÁöÑÁä∂ÊÄÅ„ÄÇÊâÄ‰ª•Â∞±ÈúÄË¶ÅÂú®PCBÈáåÈù¢Êèê‰æõ‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑÊù•‰øùÂ≠òËØ•ËøõÁ®ãË¢´‰∏≠Êñ≠Êó∂ÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØ„ÄÇ Êèê‰æõËøõÁ®ãÁÆ°ÁêÜÊâÄÈúÄË¶ÅÁöÑ‰ø°ÊÅØ„ÄÇ Ëøô‰∏™Â∞±‰∏çÁî®Â§öËØ¥Âêß„ÄÇ Êèê‰æõËøõÁ®ãË∞ÉÂ∫¶ÊâÄÈúÄË¶ÅÁöÑ‰ø°ÊÅØ„ÄÇ Âè™ÊúâÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅÁöÑËøõÁ®ãÊâçËÉΩË¢´Ë∞ÉÂ∫¶ÊâßË°åÔºåËÄåÂú®PCB‰∏≠Â∞±Êèê‰æõ‰∫ÜËøõÁ®ãÂ§Ñ‰∫é‰ΩïÁßçÁä∂ÊÄÅÁöÑ‰ø°ÊÅØ„ÄÇ ÂÆûÁé∞‰∏éÂÖ∂ÂÆÉËøõÁ®ãÁöÑÂêåÊ≠•‰∏éÈÄö‰ø°„ÄÇ 2.1.3.2 ËøõÁ®ãÊéßÂà∂Âùó‰∏≠ÁöÑ‰ø°ÊÅØÊ†πÊçÆ‰∏äÈù¢ËøõÁ®ãÊéßÂà∂Âùó‰ΩúÁî®ÁöÑÊèèËø∞ÔºåÂØπÂ∫îÁöÑËøõÁ®ãÊéßÂà∂Âùó‰∏≠Â∞±ÈúÄË¶ÅÂåÖÂê´‰ª•‰∏ã‰ø°ÊÅØ„ÄÇ ËøõÁ®ãÊ†áËØÜÁ¨¶ ËøõÁ®ãÊ†áËØÜÁ¨¶Áî®‰∫éÂîØ‰∏ÄÂú∞Ê†áËØÜ‰∏Ä‰∏™ËøõÁ®ã„ÄÇ‰∏Ä‰∏™ËøõÁ®ãÈÄöÂ∏∏ÂÖ∑Êúâ‰∏§ÁßçÊ†áËØÜÁ¨¶Ôºö Â§ñÈÉ®Ê†áËØÜÁ¨¶ ‰∏∫‰∫ÜÊñπ‰æøÁî®Êà∑ÔºàËøõÁ®ãÔºâÂØπËøõÁ®ãÁöÑËÆøÈóÆÔºåËøõÁ®ãÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™Áî®‰∫éÁî®Êà∑ÔºàËøõÁ®ãÔºâËÆøÈóÆÁöÑÊ†áËØÜÁ¨¶„ÄÇ ÂÜÖÈÉ®Ê†áËØÜÁ¨¶ ‰∏∫‰∫ÜÊñπ‰æøÁ≥ªÁªüÂØπËøõÁ®ãÁöÑ‰ΩøÁî®ÔºåÂú®OS‰∏≠Âèà‰∏∫ËøõÁ®ãËÆæÁΩÆ‰∫ÜÂÜÖÈÉ®Ê†áËØÜÁ¨¶„ÄÇÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™ËøõÁ®ãÁöÑÂ∫èÂè∑„ÄÇ Â§ÑÁêÜÊú∫Áä∂ÊÄÅ Â§ÑÁêÜÊú∫Áä∂ÊÄÅ‰ø°ÊÅØ‰πüÁß∞‰∏∫Â§ÑÁêÜÊú∫ÁöÑ‰∏ä‰∏ãÊñáÔºå‰∏ªË¶ÅÊòØÁî±Â§ÑÁêÜÊú∫ÁöÑÂêÑÁßçÂØÑÂ≠òÂô®‰∏≠ÁöÑÂÜÖÂÆπÁªÑÊàêÁöÑ„ÄÇËøô‰∫õÂØÑÂ≠òÂô®‰ø°ÊÅØÂåÖÊã¨ÈÄöÁî®ÂØÑÂ≠òÂô®„ÄÅÊåá‰ª§ÂØÑÂ≠òÂô®„ÄÅÁ®ãÂ∫èÁä∂ÊÄÅÂ≠óPSWÂíåÁî®Êà∑Ê†àÊåáÈíà„ÄÇ ËøõÁ®ãË∞ÉÂ∫¶‰ø°ÊÅØ Âú®OSËøõË°åË∞ÉÂ∫¶ÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ª‰∫ÜËß£ËøõÁ®ãÁöÑÁä∂ÊÄÅÂèäÊúâÂÖ≥ËøõÁ®ãË∞ÉÂ∫¶ÁöÑ‰ø°ÊÅØÔºåËøô‰∫õ‰ø°ÊÅØÂåÖÊã¨ÔºöËøõÁ®ãÁä∂ÊÄÅ„ÄÅËøõÁ®ã‰ºòÂÖàÁ∫ß„ÄÅËøõÁ®ãË∞ÉÂ∫¶ÊâÄÈúÄÂÖ∂‰ªñ‰ø°ÊÅØÔºà‰∏éÊâÄÈááÁî®ÁöÑÁöÑË∞ÉÂ∫¶ÁÆóÊ≥ïÊúâÂÖ≥ÔºâÂíå‰∫ã‰ª∂ÔºàÈòªÂ°ûÂéüÂõ†Ôºâ„ÄÇ ËøõÁ®ãÊéßÂà∂‰ø°ÊÅØ Áî®‰∫éËøõÁ®ãÊéßÂà∂ÊâÄÂøÖÈ°ªÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨ÔºöÁ®ãÂ∫èÂíåÊï∞ÊçÆÁöÑÂú∞ÂùÄ„ÄÅËøõÁ®ãÂêåÊ≠•ÂíåÈÄö‰ø°Êú∫Âà∂„ÄÅËµÑÊ∫êÊ∏ÖÂçïÂíåÈìæÊé•ÊåáÈíà„ÄÇ 2.1.3.3 ËøõÁ®ãÊéßÂà∂ÂùóÁöÑÁªÑÁªáÊñπÂºè‰∏Ä‰∏™Á≥ªÁªü‰∏≠ÊúâÂæàÂ§ö‰∏™PCBÔºå‰∏∫‰∫ÜÂØπ‰ªñ‰ª¨ËøõË°åÊúâÊïàÁöÑÁÆ°ÁêÜÔºåÂ∫îËØ•Áî®ÈÄÇÂΩìÁöÑÊñπÂºèÂ∞ÜËøô‰∫õPCBÁªÑÁªáËµ∑Êù•ÔºåÂ∏∏Áî®ÁöÑÁªÑÁªáÊñπÂºèÊúâ‰∏âÁßç Á∫øÊÄßÊñπÂºèÁõ¥Êé•Â∞ÜÊâÄÊúâPCBÊîæÂú®‰∏ÄÂº†Á∫øÊÄßË°®‰∏≠Ôºå‰ºòÁÇπÊòØÁÆÄÂçïÔºåÂºÄÈîÄÂ∞èÔºå‰ΩÜÊòØÊØèÊ¨°Êü•ÊâæËµ∑Êù•ÂæàÈ∫ªÁÉ¶„ÄÇ ÈìæÊé•ÊñπÂºèÊääÂÖ∑ÊúâÁõ∏ÂêåÁä∂ÊÄÅÁöÑPCBÂàÜÂà´ÈÄöËøáPCB‰∏≠ÁöÑÈìæÊé•Â≠óÈìæÊé•Êàê‰∏Ä‰∏™ÈòüÂàó„ÄÇ Á¥¢ÂºïÊñπÂºèÊ†πÊçÆÊâÄÊúâËøõÁ®ãÁä∂ÊÄÅÁöÑ‰∏çÂêåÂª∫Á´ãÂá†Âº†Á¥¢ÂºïË°®ÔºåÂπ∂Êää‰∏™Á¥¢ÂºïË°®Âú®ÂÜÖÂ≠òÁöÑÈ¶ñÂú∞ÂùÄÁ∫™ÂΩïÂú®ÂÜÖÂ≠òÁöÑ‰∏Ä‰∫õ‰∏ìÁî®ÂçïÂÖÉ‰∏≠„ÄÇ 2.2 ËøõÁ®ãÊéßÂà∂2.2.1 ËøõÁ®ãÁöÑÂ±ÇÊ¨°ÁªìÊûÑÂú®OS‰∏≠ÔºåÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ãÂàõÂª∫Âè¶‰∏Ä‰∏™ËøõÁ®ãÔºåÈÄöÂ∏∏ÊääÂàõÂª∫ËøõÁ®ãÁöÑËøõÁ®ãÁß∞‰∏∫Áà∂ËøõÁ®ãÔºåË¢´ÂàõÂª∫ÁöÑËøõÁ®ãÁß∞‰∏∫Â≠êËøõÁ®ã„ÄÇÁÑ∂ÂêéÂ≠êËøõÁ®ãÂèØ‰ª•‰Ωú‰∏∫Áà∂ËøõÁ®ãÁªßÁª≠ÂéªÂàõÂª∫Â≠êËøõÁ®ãÔºåËøõËÄåÂΩ¢Êàê‰∏Ä‰∏™ËøõÁ®ãÂÆ∂Êóè„ÄÇ 2.2.2 ËøõÁ®ãÁöÑÂàõÂª∫ÊØèÂΩìÂá∫Áé∞‰∫ÜÂàõÂª∫Êñ∞ËøõÁ®ãÁöÑËØ∑Ê±ÇÂêéÔºåOS‰æøË∞ÉÁî®ËøõÁ®ãÂàõÂª∫ÂéüËØ≠CreatÊåâ‰∏ãËø∞Ê≠•È™§ÂàõÂª∫Êñ∞ËøõÁ®ãÔºö Áî≥ËØ∑Á©∫ÁôΩPCBÔºå‰∏∫Êñ∞ËøõÁ®ãÁî≥ËØ∑Ëé∑ÂæóÂîØ‰∏ÄÁöÑÊï∞Â≠óÊ†áËØÜÁ¨¶ÔºåÂπ∂‰ªéPCBÈõÜÂêà‰∏≠Á¥¢Âèñ‰∏Ä‰∏™Á©∫ÁôΩPCB„ÄÇ ‰∏∫Êñ∞ËøõÁ®ãÂàÜÈÖçÂÖ∂ËøêË°åÊâÄÈúÄÁöÑËµÑÊ∫êÔºåÂåÖÊã¨ÂêÑÁßçÁâ©ÁêÜÂíåÈÄªËæëËµÑÊ∫ê„ÄÇ ÂàùÂßãÂåñËøõÁ®ãÊéßÂà∂ÂùóPCB„ÄÇ Â¶ÇÊûúËøõÁ®ãÂ∞±Áª™ÈòüÂàóËÉΩÂ§üÊé•Á∫≥Êñ∞ËøõÁ®ãÔºå‰æøÂ∞ÜÊñ∞ËøõÁ®ãÊèíÂÖ•Â∞±Áª™ÈòüÂàó„ÄÇ 2.2.3 ËøõÁ®ãÁöÑÁªàÊ≠¢ Ê†πÊçÆË¢´ÁªàÊ≠¢ËøõÁ®ãÁöÑÊ†áËØÜÁ¨¶Ôºå‰ªéPCBÈõÜÂêà‰∏≠Ê£ÄÁ¥¢Âá∫ËøõÁ®ãÁöÑPCBÔºå‰ªé‰∏≠ËØªÂá∫ËØ•ËøõÁ®ãÁöÑÁä∂ÊÄÅ„ÄÇ Ëã•Ë¢´ÁªàÊ≠¢ËøõÁ®ãÊ≠£Â§Ñ‰∫éÊâßË°åÁä∂ÊÄÅÔºåÂ∫îÁ´ãÂç≥ÁªàÊ≠¢ËØ•ËøõÁ®ãÁöÑÊâßË°åÔºåÂπ∂ÁΩÆË∞ÉÂ∫¶Ê†áÂøó‰ΩçÁúüÔºåÁî®‰∫éÊåáÁ§∫ËØ•ËøõÁ®ãË¢´ÁªàÊ≠¢ÂêéÂ∫îÈáçÊñ∞ËøõË°åË∞ÉÂ∫¶„ÄÇ Ëã•ËØ•ËøõÁ®ãËøòÊúâÂ≠êÂ≠ôËøõÁ®ãÔºåËøòÂ∫îÂ∞ÜÂÖ∂ÊâÄÊúâÂ≠êÂ≠ôËøõÁ®ã‰πüÈÉΩ‰∫à‰ª•ÁªàÊ≠¢Ôºå‰ª•Èò≤ÂÆÉ‰ª¨Áß∞‰∏∫‰∏çÂèØÊéßÁöÑËøõÁ®ã„ÄÇ Â∞ÜË¢´ÁªàÊ≠¢ËøõÁ®ãÊâÄÊã•ÊúâÁöÑÁöÑÂÖ®ÈÉ®ËµÑÊ∫êÊàñËÄÖÂΩíËøòÁªôÂÖ∂Áà∂ËøõÁ®ãÔºåÊàñËÄÖÂΩíËøòÁªôÁ≥ªÁªü„ÄÇ Â∞ÜË¢´ÁªàÊ≠¢ËøõÁ®ãÔºàPCBÔºâ‰ªéÊâÄÂú®ÈòüÂàóÔºàÊàñÈìæË°®Ôºâ‰∏≠ÁßªÂá∫ÔºåÁ≠âÂæÖÂÖ∂‰ªñÁ®ãÂ∫èÊù•ÊêúÈõÜ‰ø°ÊÅØ„ÄÇ]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êìç‰ΩúÁ≥ªÁªü1--Êìç‰ΩúÁ≥ªÁªüÊ¶ÇËø∞]]></title>
    <url>%2Fposts%2F62248b34.html</url>
    <content type="text"><![CDATA[Â§ßÂÆ∂ÂèØ‰ª•Áúã‰∏ãÊàë‰ΩøÁî®ÂπïÂ∏ÉËΩØ‰ª∂ÁîªÁöÑÊÄùÁª¥ÂØºÂõæÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÊÉ≥‰ΩøÁî®ÂπïÂ∏ÉÂèØ‰ª•ÈÄöËøáÊàëÁöÑÈÇÄËØ∑ÈìæÊé•Ê≥®ÂÜåÔºåÂèØÂÖçË¥πËé∑Âæó‰∏Ä‰∏™ÊúàÈ´òÁ∫ß‰ºöÂëòhttps://mubu.com/inv/477598 Áé∞Â¶Ç‰ªä‰∏ªÊµÅÁöÑÊìç‰ΩúÁ≥ªÁªü1.1.1 PC1.1.1.1 WindowsMicrosoft WindowsÊòØÂæÆËΩØÂÖ¨Âè∏Êé®Âá∫ÁöÑ‰∏ÄÁ≥ªÂàóÊìç‰ΩúÁ≥ªÁªü„ÄÇÂÖ∂ÈóÆ‰∏ñÊó∂Èó¥‰∏∫1985Âπ¥ÔºåËµ∑Âàù‰∏∫ËøêË°å‰∫éMS-DOS‰πã‰∏ãÁöÑÊ°åÈù¢ÁéØÂ¢ÉÔºåÂÖ∂ÂêéÁª≠ÁâàÊú¨ÈÄêÊ∏êÂèëÂ±ïÊàê‰∏∫‰∏ªË¶Å‰∏∫‰∏™‰∫∫ËÆ°ÁÆóÊú∫ÂíåÊúçÂä°Âô®Áî®Êà∑ËÆæËÆ°ÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåÂπ∂ÊúÄÁªàËé∑Âæó‰∫Ü‰∏ñÁïå‰∏™‰∫∫ËÆ°ÁÆóÊú∫Êìç‰ΩúÁ≥ªÁªüÁöÑÂûÑÊñ≠Âú∞‰Ωç„ÄÇÊ≠§Êìç‰ΩúÁ≥ªÁªüÂèØ‰ª•Âú®Âá†Áßç‰∏çÂêåÁ±ªÂûãÁöÑÂπ≥Âè∞‰∏äËøêË°åÔºåÂ¶Ç‰∏™‰∫∫ËÆ°ÁÆóÊú∫„ÄÅÁßªÂä®ËÆæÂ§á„ÄÅÊúçÂä°Âô®ÂíåÂµåÂÖ•ÂºèÁ≥ªÁªüÁ≠âÁ≠âÔºåÂÖ∂‰∏≠Âú®‰∏™‰∫∫ËÆ°ÁÆóÊú∫ÁöÑÈ¢ÜÂüüÂ∫îÁî®ÂÜÖÊúÄ‰∏∫ÊôÆÈÅç„ÄÇWindowsÊìç‰ΩúÁ≥ªÁªüÂΩìÂâçÊúÄÊñ∞ÁöÑÁ®≥ÂÆöÁâàÊòØ‰∫é2015Âπ¥7Êúà29Êó•ÂèëÂ∏ÉÁöÑ Windows 10„ÄÇWindows ServerÂΩìÂâçÊúÄÊñ∞ÁöÑÁ®≥ÂÆöÁâàÊòØ2018Âπ¥10Êúà2Êó•ÂèëÂ∏ÉÁöÑWindows Server 2019„ÄÇWindows PhoneÂΩìÂâçÊúÄÊñ∞ÁöÑÁ®≥ÂÆöÁâàÊòØWindows10 MobileÔºå‰ΩÜÊòØÂ∑≤ÂÅúÊ≠¢ÂºÄÂèëÊñ∞ÁâàÊú¨Ôºå‰ªÖÂØπÁé∞ÊúâÁâàÊú¨ËøõË°åÂÆâÂÖ®Ë°•‰∏ÅÂíåÁª¥Êä§ÔºåÁõ¥Âà∞2019Âπ¥12Êúà„ÄÇ 1.1.1.2 macOSmacOSÔºà2011Âπ¥Âèä‰πãÂâçÁß∞Mac OS XÔºå2012Âπ¥Ëá≥2015Âπ¥Áß∞OS XÔºâÊòØËãπÊûúÂÖ¨Âè∏Êé®Âá∫ÁöÑÂü∫‰∫éÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢Êìç‰ΩúÁ≥ªÁªüÔºå‰∏∫È∫¶ÈáëÂ°îÔºàMacintoshÔºâÁöÑ‰∏ªÊìç‰ΩúÁ≥ªÁªü„ÄÇStatCounterÂú®2018Âπ¥8ÊúàÁöÑÊï∞ÊçÆË°®Á§∫ÔºåÂú®Ê°åÈù¢Êìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåmacOSÁöÑ‰ΩøÁî®‰ªΩÈ¢ù‰∏∫12.65%ÔºåÊ¨°‰∫éWindowsÁöÑ82.51%‰ΩçÂ±ÖÁ¨¨‰∫å„ÄÇmacOSÂΩìÂâçÊúÄÊñ∞ÁöÑÁ®≥ÂÆöÁâàÊòØ2018Âπ¥9Êúà25Êó•ÂèëÂ∏ÉÁöÑmacOS 10.14 MojaveÔºå2019Âπ¥6Êúà4Êó•Êé®Âá∫macOS 10.15 CatalinaÁöÑÁ¨¨‰∏Ä‰∏™ÊµãËØïÁâàÊú¨„ÄÇ 1.1.1.3 LinuxLinuxÊòØ‰∏ÄÁßçËá™Áî±ÂíåÂºÄÊîæÊ∫êÁ†ÅÁöÑÁ±ªUNIX Êìç‰ΩúÁ≥ªÁªü„ÄÇËØ•Êìç‰ΩúÁ≥ªÁªüÁöÑÂÜÖÊ†∏Áî±ÊûóÁ∫≥ÊñØ¬∑ÊâòÁì¶ÂÖπÂú®1991Âπ¥10Êúà5Êó•È¶ñÊ¨°ÂèëÂ∏ÉÔºåÂú®Âä†‰∏äÁî®Êà∑Á©∫Èó¥ÁöÑÂ∫îÁî®Á®ãÂ∫è‰πãÂêéÔºåÊàê‰∏∫ Linux Êìç‰ΩúÁ≥ªÁªü„ÄÇLinux‰πüÊòØËá™Áî±ËΩØ‰ª∂ÂíåÂºÄÊîæÊ∫ê‰ª£Á†ÅËΩØ‰ª∂ÂèëÂ±ï‰∏≠ÊúÄËëóÂêçÁöÑ‰æãÂ≠ê„ÄÇÂè™Ë¶ÅÈÅµÂæ™ GNU ÈÄöÁî®ÂÖ¨ÂÖ±ËÆ∏ÂèØËØÅÔºàGPLÔºâÔºå‰ªª‰Ωï‰∏™‰∫∫ÂíåÊú∫ÊûÑÈÉΩÂèØ‰ª•Ëá™Áî±Âú∞‰ΩøÁî® Linux ÁöÑÊâÄÊúâÂ∫ïÂ±ÇÊ∫ê‰ª£Á†ÅÔºå‰πüÂèØ‰ª•Ëá™Áî±Âú∞‰øÆÊîπÂíåÂÜçÂèëÂ∏É„ÄÇÂ§ßÂ§öÊï∞ Linux Á≥ªÁªüËøòÂåÖÊã¨ÂÉèÊèê‰æõ GUI ÁöÑ X Window ‰πãÁ±ªÁöÑÁ®ãÂ∫è„ÄÇÈô§‰∫Ü‰∏ÄÈÉ®ÂàÜ‰∏ìÂÆ∂‰πãÂ§ñÔºåÂ§ßÂ§öÊï∞‰∫∫ÈÉΩÊòØÁõ¥Êé•‰ΩøÁî® Linux ÂèëË°åÁâàÔºåËÄå‰∏çÊòØËá™Â∑±ÈÄâÊã©ÊØè‰∏ÄÊ†∑ÁªÑ‰ª∂ÊàñËá™Ë°åËÆæÁΩÆ„ÄÇ 1.1.1.4 UnixUNIXÊìç‰ΩúÁ≥ªÁªüÔºàÂ∞§Â∞ºÊñØÔºâÔºåÊòØ‰∏Ä‰∏™Âº∫Â§ßÁöÑÂ§öÁî®Êà∑„ÄÅÂ§ö‰ªªÂä°Êìç‰ΩúÁ≥ªÁªüÔºåÊîØÊåÅÂ§öÁßçÂ§ÑÁêÜÂô®Êû∂ÊûÑÔºåÊåâÁÖßÊìç‰ΩúÁ≥ªÁªüÁöÑÂàÜÁ±ªÔºåÂ±û‰∫éÂàÜÊó∂Êìç‰ΩúÁ≥ªÁªüÔºåÊúÄÊó©Áî±KenThompson„ÄÅDennis RitchieÂíåDouglas McIlroy‰∫é1969Âπ¥Âú®AT&amp;TÁöÑË¥ùÂ∞îÂÆûÈ™åÂÆ§ÂºÄÂèë„ÄÇÂÆÉÁöÑÂïÜÊ†áÊùÉÁî±ÂõΩÈôÖÂºÄÊîæÊ†áÂáÜÁªÑÁªáÊâÄÊã•ÊúâÔºåÂè™ÊúâÁ¨¶ÂêàÂçï‰∏ÄUNIXËßÑËåÉÁöÑUNIXÁ≥ªÁªüÊâçËÉΩ‰ΩøÁî®UNIXËøô‰∏™ÂêçÁß∞ÔºåÂê¶ÂàôÂè™ËÉΩÁß∞‰∏∫Á±ªUNIXÔºàUNIX-likeÔºâ„ÄÇ 1.1.2 ÁßªÂä®Á´Ø1.1.2.1 AndroidAndroidÔºåÂ∏∏ËßÅÁöÑÈùûÂÆòÊñπ‰∏≠ÊñáÂêçÁß∞‰∏∫ÂÆâÂçìÔºåÊòØ‰∏Ä‰∏™Âü∫‰∫éLinuxÂÜÖÊ†∏ÁöÑÂºÄÊîæÊ∫ê‰ª£Á†ÅÁßªÂä®Êìç‰ΩúÁ≥ªÁªüÔºåÁî±GoogleÊàêÁ´ãÁöÑOpen Handset AllianceÊåÅÁª≠È¢ÜÂØº‰∏éÂºÄÂèëÔºå‰∏ªË¶ÅËÆæËÆ°Áî®‰∫éËß¶Êë∏Â±èÁßªÂä®ËÆæÂ§áÂ¶ÇÊô∫ËÉΩÊâãÊú∫ÂíåÂπ≥ÊùøÁîµËÑë‰∏éÂÖ∂‰ªñ‰æøÊê∫ÂºèËÆæÂ§á„ÄÇAndroid Inc.‰∫é2003Âπ¥10ÊúàÁî±ÂÆâËø™¬∑È≤ÅÂÆæ„ÄÅÂà©Â•á¬∑Á±≥Á∫≥Â∞î„ÄÅÂ∞ºÂÖã¬∑Â∏≠Â∞îÊñØ„ÄÅÂÖãÈáåÊñØ¬∑ÊÄÄÁâπÂú®Âä†Â∑ûÂ∏ïÁΩóÂ••ÂõæÂàõÂª∫„ÄÇAndroidÊúÄÂàùÁî±ÂÆâËø™¬∑È≤ÅÂÆæÁ≠â‰∫∫ÂºÄÂèëÂà∂‰ΩúÔºåÊúÄÂàùÂºÄÂèëËøô‰∏™Á≥ªÁªüÁöÑÊó©ÊúüÊñπÂêëÊòØÂàõÂª∫‰∏Ä‰∏™Êï∞Â≠óÁõ∏Êú∫ÁöÑÂÖàËøõÊìç‰ΩúÁ≥ªÁªüÔºå‰ΩÜÊòØÂêéÊù•ÂèëÁé∞Â∏ÇÂú∫ÈúÄÊ±Ç‰∏çÂ§üÂ§ßÔºåÂä†‰∏äÊô∫ËÉΩÊâãÊú∫Â∏ÇÂú∫Âø´ÈÄüÊàêÈïøÔºå‰∫éÊòØAndroidÊàê‰∏∫‰∏ÄÊ¨æÈù¢ÂêëÊô∫ËÉΩÊâãÊú∫ÁöÑÊìç‰ΩúÁ≥ªÁªü„ÄÇ‰∫é2005Âπ¥7Êúà11Êó•Android Inc.Ë¢´ÁæéÂõΩÁßëÊäÄ‰ºÅ‰∏öGoogleÊî∂Ë¥≠„ÄÇ2017Âπ¥3ÊúàÔºåAndroidÂÖ®ÁêÉÁΩëÁªúÊµÅÈáèÂíåËÆæÂ§áË∂ÖË∂äMicrosoft WindowsÔºåÊ≠£ÂºèÊàê‰∏∫ÂÖ®ÁêÉÁ¨¨‰∏ÄÂ§ßÊìç‰ΩúÁ≥ªÁªü„ÄÇ 1.1.2.2 iOSiOSÔºàÂéüÂêç‰∏∫iPhone OSÔºâÊòØËãπÊûúÂÖ¨Âè∏‰∏∫ÂÖ∂ÁßªÂä®ËÆæÂ§áÊâÄÂºÄÂèëÁöÑ‰∏ìÊúâÁßªÂä®Êìç‰ΩúÁ≥ªÁªüÔºå‰∏∫ÂÖ∂ÂÖ¨Âè∏ÁöÑËÆ∏Â§öÁßªÂä®ËÆæÂ§áÊèê‰æõÊìç‰ΩúÁïåÈù¢ÔºåÊîØÊåÅËÆæÂ§áÂåÖÊã¨iPhone„ÄÅiPadÂíåiPod touch„ÄÇiPhone OSËá™iOS 4Ëµ∑‰æøÊîπÂêç‰∏∫iOSÔºåÂÆÉÊòØÁªßAndroidÂêéÂÖ®ÁêÉÁ¨¨‰∫åÂ§ßÊúÄÂèóÊ¨¢ËøéÁöÑÁßªÂä®Êìç‰ΩúÁ≥ªÁªüÔºåÂ∏ÇÂç†ÁéáÂ∑≤‰∏äÂçáËá≥Á∫¶24.5% Ôºå‰ΩÜ‰ªçËøú‰Ωé‰∫éGoogleÂºÄÂèëÁöÑAndroidÁ≥ªÁªüÁöÑ72.2%„ÄÇ 1.2 Êìç‰ΩúÁ≥ªÁªüÁöÑÁÆÄ‰ªã‰∏é‰ΩúÁî®1.2.1 Êìç‰ΩúÁ≥ªÁªüÁöÑÁÆÄ‰ªãÊìç‰ΩúÁ≥ªÁªüÊòØÈÖçÁΩÆÂú®ËÆ°ÁÆóÊú∫Á°¨‰ª∂‰∏äÁöÑÁ¨¨‰∏ÄÂ±ÇËΩØ‰ª∂ÔºåÊòØÂØπÁ°¨‰ª∂Á≥ªÁªüÁöÑÈ¶ñÊ¨°Êâ©ÂÖÖ„ÄÇ‰∏ªË¶Å‰ΩúÁî®ÊòØÂØπÁÆ°ÁêÜÂ•ΩËÆ°ÁÆóÊú∫Á°¨‰ª∂ËÆæÂ§áÔºåÊèêÈ´ò‰ªñ‰ª¨ÁöÑÂà©Áî®ÁéáÂíåÁ≥ªÁªüÁöÑÂêûÂêêÈáèÔºåÂπ∂‰∏∫Áî®Êà∑ÂíåÂ∫îÁî®Á®ãÂ∫èÊèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïÊé•Âè£Ôºå‰æø‰∫éÁî®Êà∑‰ΩøÁî®„ÄÇ 1.2.2 Êìç‰ΩúÁ≥ªÁªüÁöÑÁõÆÁöÑ Êñπ‰æøÊÄß Â¶ÇÊûú‰∏Ä‰∏™ËÆ°ÁÆóÊú∫Ê≤°ÊúâOSÔºåÈÇ£‰πà‰ªñ‰ºöÈùûÂ∏∏ÈöæÁî®„ÄÇÁî®Êà∑‰∏çÁÆ°ËøõË°åÂï•Êìç‰ΩúÈÉΩÂæóÈÄöËøáÊú∫Âô®ËØ≠Ë®ÄÁºñÂÜôÁ®ãÂ∫èÁÑ∂ÂêéËøêË°åÔºåËÄåÂ¶ÇÊûúÊúâOSÁöÑËØùÔºåÁî®Êà∑Â∞±ÂèØ‰ª•‰ΩøÁî®ÂêÑÁßçÂêÑÊ†∑ÁöÑËØ≠Ë®ÄÁºñÂÜôÁ®ãÂ∫èÔºåÁÑ∂ÂêéÈÄöËøáÁºñËØëÂ∞ÜÈ´òÁ∫ßËØ≠Ë®ÄÁºñËØëÊàêÊú∫Âô®‰ª£Á†ÅÔºåÊñπ‰æø‰∫ÜÁî®Êà∑„ÄÇ ÊúâÊïàÊÄß ÊúâÊïàÊÄßÂàÜ‰∏§Â±ÇÂê´‰πâ‚Äî‚ÄîÊèêÈ´òÁ≥ªÁªüËµÑÊ∫êÁöÑÂà©Áî®ÁéáÂíåÊèêÈ´òÁ≥ªÁªüÁöÑÂêûÂêêÈáè„ÄÇÊó©ÊúüÊ≤°ÊúâOSÁöÑËÆ°ÁÆóÊú∫‰∏≠ÔºåÂ§ÑÁêÜÊú∫ÂíåI/OËÆæÂ§áÁ≠âÁªèÂ∏∏Â§Ñ‰∫éÁ©∫Èó≤Áä∂ÊÄÅÔºåÂêÑÁßçËµÑÊ∫ê‰∏çËÉΩÂæóÂà∞ÂêàÁêÜÂà©Áî®ÔºåÊâÄ‰ª•ÊèêÈ´òÁ≥ªÁªüËµÑÊ∫êÂà©Áî®ÁéáÊòØÊé®Âä®OSÂèëÂ±ïÁöÑ‰∏ªË¶ÅÂä®Âäõ„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåOSÂèØ‰ª•ÈÄöËøáÂêàÁêÜÁªÑÁªáËÆ°ÁÆóÊú∫ÁöÑÂ∑•‰ΩúÊµÅÁ®ãÔºåÂä†ÈÄüÁ®ãÂ∫èÁöÑËøêË°åÔºåÁº©Áü≠Á®ãÂ∫èÁöÑËøêË°åÂë®ÊúüÔºå‰ªéËÄåÊèêÈ´òÁ≥ªÁªüÁöÑÂêûÂêêÈáè„ÄÇ ÂèØÊâ©ÂÖÖÊÄß ‰∏∫‰∫ÜÈÄÇÂ∫îÁé∞Âú®Ë∂äÊù•Ë∂äÂ§öÁöÑËÆ°ÁÆóÊú∫Á°¨‰ª∂‰ª•Âèä‰ΩìÁ≥ªÁªìÊûÑÔºåOSÂøÖ‰øÆÊúâËâØÂ•ΩÁöÑÂèØÊâ©ÂÖÖÊÄß„ÄÇ ÂºÄÊîæÊÄß OSÈúÄË¶ÅÈÅµÂæ™‰∏ñÁïåÊ†áÂáÜËßÑËåÉÔºåÂá°ÈÅµÂæ™ÂõΩÈôÖÊ†áÂáÜÊâÄÂºÄÂèëÁöÑÁ°¨‰ª∂ÂíåËΩØ‰ª∂ÈÉΩËÉΩÂΩºÊ≠§ÂÖºÂÆπÔºåÊñπ‰æøÂú∞ÂÆûÁé∞‰∫íËÅî„ÄÇ 1.2.3 Êìç‰ΩúÁ≥ªÁªüÁöÑ‰ΩúÁî® OS‰Ωú‰∏∫Áî®Êà∑‰∏éËÆ°ÁÆóÊú∫Á°¨‰ª∂Á≥ªÁªü‰πãÈó¥ÁöÑÊé•Âè£ OSÂ§Ñ‰∫éÁî®Êà∑ÂíåÁ°¨‰ª∂‰πãÈó¥ÔºåÊñπ‰æøÁî®Êà∑ÈÄöËøáOS‰ΩøÁî®Á°¨‰ª∂„ÄÇÊàñËÄÖËØ¥ÔºåÁî®Êà∑Âú®OSÁöÑÂ∏ÆÂä©‰∏ãËÉΩÂ§üÊñπ‰æø„ÄÅÂø´Êç∑„ÄÅÂèØÈù†Âú∞ÊìçÁ∫µËÆ°ÁÆóÊú∫Á°¨‰ª∂ÂíåËøêË°åËá™Â∑±ÁöÑÁ®ãÂ∫è„ÄÇ OS‰Ωú‰∏∫ËÆ°ÁÆóÊú∫Á≥ªÁªüËµÑÊ∫êÁöÑÁÆ°ÁêÜËÄÖ ËÆ°ÁÆóÊú∫Á≥ªÁªüËµÑÊ∫ê‰∏ªË¶ÅÂèØÂàÜ‰∏∫Â§ÑÁêÜÊú∫„ÄÅÂ≠òÂÇ®Âô®„ÄÅI/OËÆæÂ§á‰ª•ÂèäÊñá‰ª∂„ÄÇOS‰∏ªË¶ÅÂäüËÉΩ‰πüÂ∞±ÊòØÂØπËøôÂõõÁ±ªËµÑÊ∫êËøõË°åÊúâÊïàÁöÑÁÆ°ÁêÜ„ÄÇÂ§ÑÁêÜÊú∫ÁÆ°ÁêÜÊòØÁî®‰∫éÂàÜÈÖçÂíåÊéßÂà∂Â§ÑÁêÜÊú∫ÔºõÂ≠òÂÇ®Âô®ÁÆ°ÁêÜ‰∏ªË¶ÅË¥üË¥£ÂÜÖÂ≠òÁöÑÂàÜÈÖç‰∏éÂõûÊî∂ÔºõI/OËÆæÂ§áÁÆ°ÁêÜÊòØË¥üË¥£I/OËÆæÂ§áÁöÑÂàÜÈÖç‰∏éÊìçÁ∫µÔºõÊñá‰ª∂ÁÆ°ÁêÜÊòØÁî®‰∫éÂÆûÁé∞ÂØπÊñá‰ª∂ÁöÑÂ≠òÂèñ„ÄÅÂÖ±‰∫´Âíå‰øùÊä§„ÄÇ OSÂÆûÁé∞‰∫ÜÂØπËÆ°ÁÆóÊú∫ËµÑÊ∫êÁöÑÊäΩË±° Âú®Ë£∏Êú∫‰∏≠ÔºåÁî®Êà∑Â¶ÇÊûúÊÉ≥Ë¶ÅÂØπËÆ°ÁÆóÂô®ËøõË°åÊìç‰ΩúÔºåÂøÖÈ°ªÂØπÁâ©ÁêÜÊé•Âè£ÁöÑÂÆûÁé∞ÁªÜËäÇÊúâÂÖÖÂàÜÁöÑ‰∫ÜËß£„ÄÇ‰ΩÜÂú®Êìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåÁî®Êà∑Âπ∂‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÂÖ∑‰ΩìÁöÑÁâ©ÁêÜÔºåËÄåÁî±Êìç‰ΩúÁ≥ªÁªüÊù•ÂÆûÁé∞ÂÖ∑‰ΩìÁöÑÊìç‰ΩúÁªÜËäÇÔºåÂπ∂Âêë‰∏äËÆ≤Êìç‰ΩúËÆæÂ§áÊäΩË±°‰∏∫‰∏ÄÁªÑÊï∞ÊçÆÁªìÊûÑ‰ª•Âèä‰∏ÄÁªÑÊìç‰ΩúÂëΩ‰ª§„ÄÇÊ≠§Êó∂Âú®Áî®Êà∑ÁúºÈáåÔºåÁúãÂà∞ÁöÑÊòØ‰∏ÄÂè∞ÊØîË£∏Êú∫ÂäüËÉΩÊõ¥Âº∫Ôºå‰ΩøÁî®Êõ¥Êñπ‰æøÁöÑÊú∫Âô®„ÄÇ 1.2.4 Êé®Âä®Êìç‰ΩúÁ≥ªÁªüÂèëÂ±ïÁöÑ‰∏ªË¶ÅÂä®Âäõ ‰∏çÊñ≠ÊèêÈ´òËÆ°ÁÆóÊú∫ËµÑÊ∫êÂà©Áî®Áéá Êñπ‰æøÁî®Êà∑ Âô®‰ª∂ÁöÑ‰∏çÊñ≠Êõ¥Êñ∞Êç¢‰ª£ ËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÁªìÊûÑÁöÑ‰∏çÊñ≠ÂèëÂ±ï ‰∏çÊñ≠ÊèêÂá∫Êñ∞ÁöÑÂ∫îÁî®ÈúÄÊ±Ç 1.3 Êìç‰ΩúÁ≥ªÁªüÁöÑÂèëÂ±ï1.3.1 ÂçïÈÅìÊâπÂ§ÑÁêÜÁ≥ªÁªüÂú®ËØ¥ÂçïÈÅìÊâπÂ§ÑÁêÜ‰πãÂâçÁé∞Ë¶ÅÂºïÂÖ•‰∏Ä‰∏™Ê¶ÇÂøµ‚Äî‚Äî‰Ωú‰∏ö„ÄÇ‰Ωú‰∏öÂåÖÊã¨Áî®Êà∑Á®ãÂ∫è„ÄÅÊï∞ÊçÆ„ÄÅ‰Ωú‰∏öËØ¥Êòé‰π¶„ÄÇËøôÊ†∑ÊØè‰∏Ä‰∏™Â§ÑÁêÜÂØπË±°ÈÉΩÊòØ‰Ωú‰∏ö„ÄÇ 1. Â§ÑÁêÜËøáÁ®ãÊØè‰∏™ÂçïÈÅìÊâπÂ§ÑÁêÜÁ≥ªÁªüÈÉΩÊúâ‰∏Ä‰∏™Á≥ªÁªüÊìç‰ΩúÂëò„ÄÇÁî®Êà∑ÂÖàÂ∞Ü‰Ωú‰∏ö‰∫§ÁªôÁ≥ªÁªüÊìç‰ΩúÂëòÔºåÁÑ∂ÂêéÊìç‰ΩúÁ≥ªÁªüÊìç‰ΩúÂëòÂ∞±Â∞Ü‰∏Ä‰∏™‰∏™‰Ωú‰∏öÁªÑÊàê‰∏ÄÊâπ‰Ωú‰∏öÔºåËæìÂÖ•Âà∞ËÆ°ÁÆóÊú∫‰∏≠ÔºåÂú®Á≥ªÁªü‰∏≠ÂΩ¢Êàê‰∏Ä‰∏™Ëá™Âä®ËΩ¨Êé•ÁöÑ‰Ωú‰∏öÊµÅÔºåÁÑ∂ÂêéÂêØÂä®Êìç‰ΩúÁ≥ªÁªüÂØπ‰Ωú‰∏öËá™Âä®„ÄÅ‰æùÊ¨°ÁöÑÂ§ÑÁêÜÔºåÂ§ÑÁêÜÂÆåÊàêÂêéÂÜçÂ∞ÜÂ§ÑÁêÜÁªìÊûúËøîÂõûÁªôÁ≥ªÁªüÊìç‰ΩúÂëòÔºåÊìç‰ΩúÂëòÂú®ËøîÂõûÁªôÁî®Êà∑„ÄÇËøôÊ†∑Â∞±ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™ÂçïÈÅìÊâπÂ§ÑÁêÜËøáÁ®ã„ÄÇ 2. Áº∫ÁÇπÁ≥ªÁªüËµÑÊ∫êÂæó‰∏çÂà∞ÂÖÖÂàÜÂà©Áî®„ÄÇËøôÊòØÂõ†‰∏∫Âú®ÂÜÖÂ≠ò‰∏≠‰ªÖÊúâ‰∏ÄÈÅìÁ®ãÂ∫èÔºåÊØèÈÄ¢Á®ãÂ∫èÂú®ËøêË°å‰∏≠ÂèëÂá∫I/OËØ∑Ê±ÇÂêéÔºåCPU‰æøÂ§Ñ‰∫éÁ≠âÂæÖÁä∂ÊÄÅÔºåÂøÖÈ°ªÂú®I/OÂÆåÊàêÂêéÊâçÁªßÁª≠ËøêË°å„ÄÇ 1.3.2 Â§öÈÅìÊâπÂ§ÑÁêÜÁ≥ªÁªü1. Â§ÑÁêÜËøáÁ®ãÂú®ËØ•Á≥ªÁªü‰∏≠ÔºåÁî®Êà∑ÊâÄÊèê‰∫§ÁöÑ‰Ωú‰∏öÂÖàÊîæÂú®Â§ñÂ≠ò‰∏≠ÔºåÂπ∂ÊéíÊàê‰∏Ä‰∏™ÈòüÂàóÔºåÁß∞‰∏∫‚ÄúÂêéÂ§áÈòüÂàó‚Äú„ÄÇÁÑ∂ÂêéÁî±‰Ωú‰∏öË∞ÉÂ∫¶Á®ãÂ∫èÊåâ‰∏ÄÂÆöÁöÑÁÆóÊ≥ïÔºå‰ªéÂêéÂ§áÈòüÂàó‰∏≠ÈÄâÊã©Ëã•Âπ≤‰Ωú‰∏öË∞ÉÂÖ•ÂÜÖÂ≠ò„ÄÇÁî±‰∫éÂêåÊó∂Âú®ÂÜÖÂ≠ò‰∏≠Ë£ÖÊúâËã•Âπ≤ÈÅìÁ®ãÂ∫èÔºåËøôÊ†∑‰æøÂèØ‰ª•Âú®ËøêË°åÁ®ãÂ∫èAÊó∂ÔºåÂà©Áî®ÂÖ∂I/OÊìç‰ΩúÊöÇÂÅúÊâßË°åÊó∂ÁöÑCPUÁ©∫Ê°£ÊúüÔºåÂÜçË∞ÉÂ∫¶Âè¶‰∏ÄÈÅìÁ®ãÂ∫èBËøêË°å„ÄÇ 2. ‰ºòÁº∫ÁÇπ ‰ºòÁÇπ ËµÑÊ∫êÂà©Áî®ÁéáÈ´ò Á≥ªÁªüÂêûÂêêÈáèÂ§ß Áº∫ÁÇπ Âπ≥ÂùáÂë®ËΩ¨Êó∂Èó¥Èïø Êó†‰∫§‰∫íËÉΩÂäõ 1.3.3 ÂàÜÊó∂Á≥ªÁªü1. ËøêË°åÊñπÂºè ‰Ωú‰∏öÁõ¥Êé•ËøõÂÖ•ÂÜÖÂ≠ò„ÄÇÂõ†‰∏∫‰Ωú‰∏öÂú®Á£ÅÁõò‰∏ä‰∏çÂèØËøêË°åÔºåÊâÄ‰ª•‰Ωú‰∏öÂ∫îÁõ¥Êé•ËøõÂÖ•ÂÜÖÂ≠ò ÈááÁî®ËΩÆËΩ¨ËøêË°åÊñπÂºè„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™‰Ωú‰∏öÁã¨Âç†CPUËøûÁª≠ËøêË°åÔºåÈÇ£‰πàÂÖ∂‰ªñ‰Ωú‰∏öÊ≤°Ê≥ïËøêË°å„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºåÂºïÂÖ•‰∫ÜÊó∂Èó¥ÁâáÊ¶ÇÂøµ„ÄÇ‰∏Ä‰∏™Êó∂Èó¥ÁâáÊòØ‰∏Ä‰∏™ÂæàÁü≠ÁöÑÊó∂Èó¥ÔºåÁ≥ªÁªüËßÑÂÆö‰∫ÜÊØè‰∏™‰Ωú‰∏öÊØèÊ¨°Âè™ËÉΩËøêË°å‰∏Ä‰∏™Êó∂Èó¥ÁâáÔºåÁÑ∂ÂêéÂ∞±ÊöÇÂÅúËØ•‰Ωú‰∏öÁöÑËøêË°åÔºåÂπ∂Á´ãÂç≥Ë∞ÉÂ∫¶‰∏ã‰∏Ä‰∏™‰Ωú‰∏öËøêË°å„ÄÇÂ¶ÇÊûúÂú®‰∏çÈïøÁöÑÊó∂Èó¥ÂÜÖËÉΩ‰ΩøÊâÄÊúâÁöÑ‰Ωú‰∏öÈÉΩÊâßË°å‰∏Ä‰∏™Êó∂Èó¥ÁâáÁöÑÊó∂Èó¥Ôºå‰æøÂèØ‰ª•‰ΩøÊØè‰∏™Áî®Êà∑ÈÉΩËÉΩÂèäÊó∂Âú∞‰∏éËá™Â∑±ÁöÑ‰Ωú‰∏öËøõË°å‰∫§‰∫íÔºå‰ªéËÄå‰ΩøÁî®Êà∑ÁöÑËØ∑Ê±ÇÁöÑÂà∞ÂèäÊó∂ÂìçÂ∫î„ÄÇ 2. ÁâπÂæÅ Â§öË∑ØÊÄß Áã¨Á´ãÊÄß ÂèäÊó∂ÊÄß ‰∫§‰∫íÊÄß 1.3.4 ÂÆûÊó∂Á≥ªÁªüÂÆûÊó∂Á≥ªÁªüÊòØÊåáÁ≥ªÁªüËÉΩÂèäÊó∂ÂìçÂ∫îÂ§ñÈÉ®‰∫ã‰ª∂ÁöÑËØ∑Ê±ÇÔºåÂú®ËßÑÂÆöÊó∂Èó¥ÂÜÖÂÆåÊàêÂØπËØ•‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÔºåÂπ∂ÊéßÂà∂ÊâÄÊúâÂÆûÊó∂‰ªªÂä°ÂçèË∞É‰∏ÄËá¥Âú∞ËøêË°å„ÄÇÂÆûÊó∂Á≥ªÁªü‰∏ªË¶ÅÂ∫îÁî®‰∫éÔºö Â∑•‰∏öÔºàÊ≠¶Âô®ÔºâÊéßÂà∂Á≥ªÁªü ‰ø°ÊÅØÊü•ËØ¢Á≥ªÁªü Â§öÂ™í‰ΩìÁ≥ªÁªü ÂµåÂÖ•ÂºèÁ≥ªÁªü 1.4 Êìç‰ΩúÁ≥ªÁªüÁöÑÂü∫Êú¨ÁâπÂæÅ1.4.1 Âπ∂ÂèëÊ≠£ÊòØÁ≥ªÁªü‰∏≠ÊúâËøô‰∏ÄÁâπÂæÅÔºåÊâç‰ΩøÂæóOSËÉΩÊúâÊïàÂú∞ÊèêÈ´òÁ≥ªÁªü‰∏≠ÁöÑËµÑÊ∫êÂà©Áî®ÁéáÔºåÂ¢ûÂä†Á≥ªÁªüÁöÑÂêûÂêêÈáè„ÄÇ Âπ∂Âèë‰∏éÂπ∂Ë°åÂπ∂Ë°åÊòØÊåá‰∏§‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Âú®Âêå‰∏ÄÊó∂ÂàªÂèëÁîüÔºåÂæÆËßÇ‰∏äÊòØÂêå‰∏ÄÊó∂ÂàªÂ§ö‰∏™Á∫øÁ®ãÂú®CPU‰∏äËøêË°å„ÄÇÂπ∂ÂèëÊòØÊåáÂÆèËßÇ‰∏ä‰∏§‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Âú®Âêå‰∏ÄÊó∂Èó¥ÂèëÁîüÔºåÂæÆËßÇ‰∏äÁº∫ÊòØÊüê‰∏ÄÊó∂ÂàªCPU‰∏äÂè™Êúâ‰∏Ä‰∏™ËøõÁ®ã„ÄÇ 1.4.2 ÂÖ±‰∫´ËµÑÊ∫êÂÖ±‰∫´ÔºåÂç≥Êìç‰ΩúÁ≥ªÁªü‰∏≠ÁöÑËµÑÊ∫êÂèØ‰æõÂ§ö‰∏™Âπ∂ÂèëÊâßË°åÁöÑËøõÁ®ãÂÖ±Âêå‰ΩøÁî®ÔºåÁî±‰∫éËµÑÊ∫êÂ±ûÊÄß‰∏çÂêåÔºåÂ§ö‰∏™ËøõÁ®ãÂØπËµÑÊ∫êÁöÑÂÖ±‰∫´ÊñπÂºè‰πü‰∏çÂêå„ÄÇÂèØÂàÜ‰∏∫Ôºö‰∫íÊñ•ÂÖ±‰∫´ÊñπÂºèÂíåÂêåÊó∂ËÆøÈóÆÊñπÂºè„ÄÇ 1. ‰∫íÊñ•ÂÖ±‰∫´ÊñπÂºè‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÂè™ÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ãËÆøÈóÆËØ•ËµÑÊ∫êÔºåÂ¶ÇÁ£ÅÂ∏¶Êú∫,ÊâìÂç∞Êú∫Á≠â„ÄÇËôΩÁÑ∂ÂèØ‰ª•‰æõÂ§ö‰∏™ËøõÁ®ã‰ΩøÁî®Ôºå‰ΩÜÊòØ‰∏∫‰∫ÜÊâìÂç∞ÊàñËÆ∞ÂΩïÁªìÊûú‰∏çÈÄ†ÊàêÊ∑∑Ê∑ÜÔºåÂ∫îËßÑÂÆö‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÂè™ÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ãËÆøÈóÆËØ•ËµÑÊ∫ê„ÄÇ 2. ÂêåÊó∂ËÆøÈóÆÊñπÂºèÊüê‰∫õËµÑÊ∫êÔºå‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊòØÂèØ‰ª•ÂÖÅËÆ∏Â§ö‰∏™ËøõÁ®ã‚ÄúÂêåÊó∂‚ÄùÂêåÊó∂ÂØπ‰ªñ‰ª¨ËøõË°åËÆøÈóÆÔºåËøô‰∏™ÂêåÊó∂ÊòØÂÆèËßÇ‰∏äÁöÑÔºåÂú®ÂæÆËßÇ‰∏äÂèØËÉΩÊòØÂàÜÊó∂ÂÖ±‰∫´„ÄÇ 1.4.3 ËôöÊãüÂú®OS‰∏≠ÔºåÊääÈÄöËøáÊüêÁßçÊäÄÊúØÂ∞Ü‰∏Ä‰∏™Áâ©ÁêÜÂÆû‰ΩìÂèò‰∏∫Ëã•Âπ≤‰∏™ÈÄªËæë‰∏äÁöÑÂØπÂ∫îÁâ©ÁöÑÂäüËÉΩÁß∞‰∏∫‚ÄùËôöÊãü‚Äú„ÄÇ 1.4.4 ÂºÇÊ≠•Âú®Â§öÈÅìÁéØÂ¢É‰∏ãÔºåÂÖÅËÆ∏Â§ö‰∏™Á®ãÂ∫èÂπ∂ÂèëÊâßË°å„ÄÇ‰ΩÜÁî±‰∫éËµÑÊ∫êÊúâÈôêÔºåËøõÁ®ãÁöÑÊâßË°å‰∏çÊòØ‰∏ÄË¥ØÂà∞Â∫ï„ÄÇËÄåÊòØËµ∞Ëµ∞ÂÅúÂÅúÔºå‰ª•‰∏çÂèØÈ¢ÑÁü•ÁöÑÈÄüÂ∫¶ÂêëÂâçÊé®ËøõÔºåËøôÂ∞±ÊòØËøõÁ®ãÁöÑÂºÇÊ≠•„ÄÇ 1.5 Êìç‰ΩúÁ≥ªÁªüÁöÑ‰∏ªË¶ÅÂäüËÉΩÊìç‰ΩúÁ≥ªÁªüÁöÑ‰∏ªË¶ÅÂäüËÉΩÂ∫îÂàÜ‰∏∫Â§ÑÁêÜÊú∫ÁÆ°ÁêÜ„ÄÅÂ≠òÂÇ®Âô®ÁÆ°ÁêÜ„ÄÅËÆæÂ§áÁÆ°ÁêÜÂíåÊñá‰ª∂ÁÆ°ÁêÜ„ÄÇÊ≠§Â§ñÔºåËøòÂ∫îÂêëÁî®Êà∑Êèê‰æõÊñπ‰æøÁöÑÁî®Êà∑Êé•Âè£„ÄÇ 1.5.1 Â§ÑÁêÜÊú∫ÁÆ°ÁêÜÂäüËÉΩ1. ËøõÁ®ãÊéßÂà∂Âú®Â§öÈÅìÁ®ãÂ∫èÁéØÂ¢É‰∏≠Ôºå‰∏∫‰∫Ü‰Ωø‰Ωú‰∏öËÉΩÂπ∂ÂèëÊâßË°åÔºåÂøÖÈ°ª‰∏∫ÊØèÈÅì‰Ωú‰∏öÂàõÂª∫‰∏Ä‰∏™ÊàñÂá†‰∏™ËøõÁ®ãÔºåÂπ∂‰∏∫‰πãÂàÜÈÖçÂøÖË¶ÅÁöÑËµÑÊ∫ê„ÄÇÂΩìËøõÁ®ãËøêË°åÁªìÊùüÊó∂ÔºåÂ∫îÁ´ãÂç≥Êí§ÈîÄËØ•ËøõÁ®ãÔºå‰ª•‰æøËÉΩÂèäÊó∂ÂõûÊî∂ËØ•ËøõÁ®ãÊâÄÂç†Áî®ÁöÑÂêÑÁßçËµÑÊ∫êÔºå‰æõÂÖ∂ÂÆÉËøõÁ®ã‰ΩøÁî®„ÄÇ 2. ËøõÁ®ãÂêåÊ≠•‰∏∫‰∫Ü‰ΩøÂ§ö‰∏™ËøõÁ®ãËÉΩÊúâÊù°‰∏çÁ¥äÁöÑËøêË°åÔºåÁ≥ªÁªü‰∏≠ÂøÖÈ°ªËÆæÁΩÆÁõ∏Â∫îÁöÑËøõÁ®ãÂêåÊ≠•Êú∫Âà∂„ÄÇËØ•Êú∫Âà∂ÁöÑ‰∏ªË¶Å‰ªªÂä°ÊòØ‰∏∫Â§ö‰∏™ËøõÁ®ãÁöÑËøêË°åËøõË°åÂçèË∞É„ÄÇ 3. ËøõÁ®ãÈÄö‰ø°Â¶ÇÊûú‰∏ÄÁªÑÁõ∏‰∫íÂêà‰ΩúÁöÑËøõÁ®ãÂéªÂÆåÊàê‰∏Ä‰∏™ÂÖ±ÂêåÁöÑ‰ªªÂä°Êó∂ÔºåÂú®‰ªñ‰ª¨‰πãÈó¥ÂæÄÂæÄÈúÄË¶Å‰∫§Êç¢‰ø°ÊÅØ„ÄÇ 4. Ë∞ÉÂ∫¶Âú®‰º†ÁªüOS‰∏≠ÔºåË∞ÉÂ∫¶ÂåÖÊã¨‰Ωú‰∏öË∞ÉÂ∫¶ÂíåËøõÁ®ãË∞ÉÂ∫¶„ÄÇ ‰Ωú‰∏öË∞ÉÂ∫¶ ‰Ωú‰∏öË∞ÉÂ∫¶ÁöÑÂü∫Êú¨‰ªªÂä°Â∞±ÊòØ‰ªéÂêéÂ§áÈòüÂàó‰∏≠ÊåâÁÖß‰∏ÄÂÆöÁöÑÁÆóÊ≥ïÈÄâÊã©Âá∫Ëã•Âπ≤‰∏™‰Ωú‰∏öÔºå‰∏∫‰ªñ‰ª¨ÂàÜÈÖçÊâÄÈúÄËµÑÊ∫êÔºåÂú®Ëøô‰∫õ‰Ωú‰∏öË∞ÉÂÖ•ÂÜÖÂ≠òÂêéÔºåÂàÜÂà´‰∏∫‰ªñ‰ª¨ÂàõÂª∫ËøõÁ®ãÔºåÊòØ‰ªñ‰ª¨ÈÉΩÁß∞‰∏∫ÂèØËÉΩËé∑ÂæóÂ§ÑÁêÜÊú∫ÁöÑÂ∞±Áª™ËøõÁ®ãÔºåÂπ∂Â∞Ü‰ªñ‰ª¨ÊèíÂÖ•Â∞±Áª™ÈòüÂàó‰∏≠„ÄÇ ËøõÁ®ãË∞ÉÂ∫¶ ËøõÁ®ãË∞ÉÂ∫¶ÁöÑ‰ªªÂä°ÊòØ‰ªéËøõÁ®ãÁöÑÂ∞±Áª™ÈòüÂàó‰∏≠ÊåâÁÖß‰∏ÄÂÆöÁöÑÁÆóÊ≥ïÈÄâÂá∫‰∏Ä‰∏™ËøõÁ®ãÔºåÂ∞ÜÂ§ÑÁêÜÊú∫ÂàÜÈÖçÁªô‰ªñÔºåÂπ∂‰∏∫‰ªñËÆæÁΩÆËøêË°åÁ∫øÁ®ãÔºå‰ΩøÂÖ∂ÊäïÂÖ•ÊâßË°å„ÄÇ 1.5.2 Â≠òÂÇ®Âô®ÁÆ°ÁêÜÂäüËÉΩÂ≠òÂÇ®Âô®ÁÆ°ÁêÜËßÜ‰∏∫Â§öÈÅìÁ®ãÂ∫èÁöÑËøêË°åÊèê‰æõËâØÂ•ΩÁöÑÁéØÂ¢ÉÔºåÊèêÈ´òÂ≠òÂÇ®Âô®Âà©Áî®ÁéáÔºåÂπ∂ËÉΩ‰ªéÈÄªËæë‰∏äÊâ©ÂÖÖÂÜÖÂ≠ò„ÄÇ‰∏∫Ê≠§ÔºåÂ≠òÂÇ®Âô®ÁÆ°ÁêÜÂ∫îÂÖ∑ÊúâÂÜÖÂ≠òÂàÜÈÖçÂíåÂõûÊî∂„ÄÅÂÜÖÂ≠ò‰øùÊä§„ÄÅÂú∞ÂùÄÊò†Â∞ÑÂíåÂÜÖÂ≠òÊâ©ÂÖÖÁ≠âÂäüËÉΩ„ÄÇ 1. ÂÜÖÂ≠òÂàÜÈÖçÂÜÖÂ≠òÂàÜÈÖç‰∏ªË¶Å‰ªªÂä°ÊòØÔºö ‰∏∫ÊØèÈÅìÁ®ãÂ∫èÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥ ÊèêÈ´òÂ≠òÂÇ®Âô®ÁöÑÂà©Áî®ÁéáÔºåÂ∞ΩÈáèÂáèÂ∞ë‰∏çÂèØÁî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ ÂÖÅËÆ∏Ê≠£Âú®ËøêË°åÁöÑÁ®ãÂ∫èÁî≥ËØ∑ÈôÑÂä†ÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ª•ÈÄÇÂ∫îÁ®ãÂ∫èÂíåÊï∞ÊçÆÂä®ÊÄÅÂ¢ûÈïøÁöÑÈúÄË¶Å„ÄÇ OSÂú®ÂÆûÁé∞ÂÜÖÂ≠òÂàÜÈÖçÊó∂ÔºåÂèØÈááÂèñÈùôÊÄÅÂíåÂä®ÊÄÅ‰∏§ÁßçÊñπÂºèÔºö ÈùôÊÄÅÂàÜÈÖçÂÜÖÂ≠ò„ÄÇÊØè‰∏™‰Ωú‰∏öÁöÑÂÜÖÂ≠òÁ©∫Èó¥Âú®‰Ωú‰∏öË£ÖÂÖ•Êó∂Á°ÆÂÆöÔºåÁ°ÆÂÆöÂêé‰∏çÂÜçÊîπÂèò„ÄÇ Âä®ÊÄÅÂàÜÈÖçÂÜÖÂ≠ò„ÄÇÊØè‰∏™‰Ωú‰∏öÊâÄË¶ÅÊ±ÇÁöÑÁöÑÂü∫Êú¨ÂÜÖÂ≠òÁ©∫Èó¥ËôΩÁÑ∂‰πüÊòØÂú®Ë£ÖÂÖ•Êó∂Á°ÆÂÆöÁöÑÔºå‰ΩÜÂÖÅËÆ∏‰Ωú‰∏öÂú®ËøêË°åËøáÁ®ã‰∏≠ÁªßÁª≠Áî≥ËØ∑Êñ∞ÁöÑÈôÑÂä†ÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ª•ÈÄÇÂ∫îÁ®ãÂ∫èÂíåÊï∞ÊçÆÁöÑÂä®ÊÄÅÂ¢ûÈïø„ÄÇ 2. ÂÜÖÂ≠ò‰øùÊä§Á°Æ‰øùÊØèÈÅìÁî®Êà∑Á®ãÂ∫èÈÉΩÂú®Ëá™Â∑±ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÂÜÖËøêË°åÔºåÂΩºÊ≠§‰∫í‰∏çÂπ≤Êâ∞„ÄÇÂÜ≥‰∏çÂÖÅËÆ∏Áî®Êà∑Á®ãÂ∫èËÆøÈóÆÊìç‰ΩúÁ≥ªÁªüÁöÑÁ®ãÂ∫èÂíåÊï∞ÊçÆÔºå‰πü‰∏çÂÖÅËÆ∏Áî®Êà∑Á®ãÂ∫èËΩ¨ÁßªÂà∞ÈùûÂÖ±‰∫´ÁöÑÂÖ∂‰ªñÁî®Êà∑Á®ãÂ∫è‰∏≠ÂéªÊâßË°å„ÄÇ 3. Âú∞ÂùÄÊò†Â∞ÑÊØèÈÅìÁ®ãÂ∫èÁªèÁºñËØëËøûÊé•ÂêéÊâÄÂΩ¢ÊàêÁöÑÁöÑÂèØË£ÖÂÖ•Á®ãÂ∫èÂÖ∂Âú∞ÂùÄÈÉΩÊòØ‰ªé0ÂºÄÂßãÁöÑÔºå‰ΩÜÊòØ‰∏çÂèØËÉΩÂ∞Ü‰ªñ‰ª¨‰ªé‚Äú0‚ÄùÂú∞ÂùÄÂºÄÂßãË£ÖÂÖ•ÂÜÖÂ≠òÔºåÊâÄ‰ª•Áâ©ÁêÜÂú∞ÂùÄÂíåÈÄªËæëÂú∞ÂùÄÂπ∂‰∏ç‰∏ÄËá¥ÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂú∞ÂùÄÊò†Â∞ÑÊù•ËÆ©Á®ãÂ∫èËÉΩÊ≠£Â∏∏ËøêË°å„ÄÇ 4. ÂÜÖÂ≠òÊâ©ÂÖÖÂÄüÂä©ËôöÊãüÂ≠òÂÇ®ÊäÄÊúØÊù•ÂÆûÁé∞ÂÜÖÂ≠òÊâ©ÂÖÖÔºå‰∏ªË¶ÅËß£ÂÜ≥Ôºö ÂÜÖÂ≠òÂíåI/O‰πãÈó¥ÈÄüÂ∫¶‰∏çÂåπÈÖçÁöÑÈóÆÈ¢ò Â¶ÇÊûúÂÜÖÂ≠òÁ©∫Èó¥‰∏çË∂≥ÁöÑÈóÆÈ¢ò 1.5.3 ËÆæÂ§áÁÆ°ÁêÜÂäüËÉΩ‰∏ªË¶Å‰ªªÂä°Ôºö ÂÆåÊàêÁî®Êà∑ËøõÁ®ãÊèêÂá∫ÁöÑI/OËØ∑Ê±ÇÔºå‰∏∫Áî®Êà∑ËøõÁ®ãÂàÜÈÖçÊâÄÈúÄÁöÑI/OËÆæÂ§áÔºåÂπ∂ÂÆåÊàêÊåáÂÆöÁöÑI/OÊìç‰Ωú ÊèêÈ´òCPU‰∏éI/OËÆæÂ§áÁöÑÂà©Áî®ÁéáÔºåÊèêÈ´òI/OÈÄüÂ∫¶ÔºåÊñπ‰æøÁî®Êà∑‰ΩøÁî®I/O ‰∏∫‰∫ÜÂÆûÁé∞‰ª•‰∏äÂäüËÉΩÔºåÂ∫îÂÖ∑ÊúâÁºìÂÜ≤ÁÆ°ÁêÜ„ÄÅËÆæÂ§áÂàÜÈÖçÂíåËÆæÂ§áÂ§ÑÁêÜ‰ª•ÂèäËôöÊãüËÆæÂ§áÁ≠âÂäüËÉΩ„ÄÇ 1. ÁºìÂÜ≤ÁÆ°ÁêÜ‰∏∫‰∫ÜÊúâÊïàÁöÑÁºìÂíåCPU‰∏éI/OËÆæÂ§áÈó¥ÈÄüÂ∫¶‰∏çÂåπÈÖçÁöÑÈóÆÈ¢òÔºåÊèêÈ´òCPUÂà©Áî®ÁéáÔºå‰∫éÊòØÂºïÂÖ•‰∫ÜÁºìÂÜ≤ÁÆ°ÁêÜ„ÄÇ 2. ËÆæÂ§áÂàÜÈÖçËÆæÂ§áÂàÜÈÖçÁöÑÂü∫Êú¨‰ªªÂä°ÊòØÊ†πÊçÆÁî®Êà∑ËøõÁ®ãÁöÑI/OËØ∑Ê±Ç„ÄÅÁ≥ªÁªüÁé∞ÊúâËµÑÊ∫êÊÉÖÂÜµ‰ª•ÂèäÊåâÁÖßÊüêÁßçËÆæÂ§áÂàÜÈÖçÁ≠ñÁï•Ôºå‰∏∫‰πãÂàÜÈÖçÂÖ∂ÊâÄÈúÄÁöÑËÆæÂ§á„ÄÇ 3. ËÆæÂ§áÂ§ÑÁêÜÂÆûÁé∞CPUÂíåËÆæÂ§áÊéßÂà∂Âô®‰πãÈó¥ÁöÑÈÄö‰ø°ÔºåÂç≥Áî±CPUÂêëËÆæÂ§áÊéßÂà∂Âô®ÂèëÂá∫I/OÂëΩ‰ª§ÔºåË¶ÅÊ±Ç‰ªñÂÆåÊàêÊåáÂÆöÁöÑI/OÊìç‰ΩúÔºõÂèç‰πãÔºåÁî±CPUÊéßÂà∂‰ªéÊé•Êî∂Âô®ÂèëÊù•ÁöÑ‰∏≠Êñ≠ËØ∑Ê±ÇÔºåÂπ∂Áªô‰∫àËøÖÈÄüÁöÑÂìçÂ∫îÂíåÁõ∏Â∫îÁöÑÂ§ÑÁêÜ„ÄÇ 1.5.4 Êñá‰ª∂ÁÆ°ÁêÜÂäüËÉΩ‰∏ªË¶ÅÊòØÂØπÁî®Êà∑Êñá‰ª∂ÂíåÁ≥ªÁªüÊñá‰ª∂ËøõË°åÁÆ°ÁêÜ‰ª•Êñπ‰æøÁî®Êà∑‰ΩøÁî®ÔºåÂπ∂‰øùËØÅÊñá‰ª∂ÁöÑÂÆâÂÖ®ÊÄß„ÄÇ‰∏∫Ê≠§ÔºåÊñá‰ª∂ÁÆ°ÁêÜÂ∫îÂÖ∑ÊúâÂØπÊñá‰ª∂Â≠òÂÇ®Á©∫Èó¥ÁÆ°ÁêÜ„ÄÅÁõÆÂΩïÁÆ°ÁêÜ„ÄÅÊñá‰ª∂ÁöÑËØª/ÂÜôÁÆ°ÁêÜ‰ª•ÂèäÊñá‰ª∂ÁöÑÂÖ±‰∫´‰∏é‰øùÊä§Á≠âÂäüËÉΩ„ÄÇ 1. Êñá‰ª∂Â≠òÂÇ®Á©∫Èó¥ÁöÑÁÆ°ÁêÜ‰∏∫ÊØè‰∏™Êñá‰ª∂ÂàÜÈÖçÂøÖË¶ÅÁöÑÂ§ñÂ≠òÁ©∫Èó¥ÔºåÊèêÈ´òÊàëÊùëÂà©Áî®ÁéáÔºåËøõËÄåÊèêÈ´òÊñá‰ª∂Á≥ªÁªüÁöÑÂ≠ò„ÄÅÂèñÈÄüÂ∫¶„ÄÇ 2. ÁõÆÂΩïÁÆ°ÁêÜ‰∏∫ÊØè‰∏™Êñá‰ª∂Âª∫Á´ã‰∏Ä‰∏™ÁõÆÂΩïÈ°πÔºåÁõÆÂΩïÈ°πÂåÖÊã¨Êñá‰ª∂Âêç„ÄÅÊñá‰ª∂Â±ûÊÄß„ÄÅÊñá‰ª∂Âú®Á£ÅÁõò‰∏äÁöÑÁâ©ÁêÜ‰ΩçÁΩÆÁ≠âÔºåÂπ∂ÂØπ‰ºóÂ§öÁöÑÁõÆÂΩïÈ°πÂä†‰ª•ÊúâÊïàÁöÑÁªÑÁªáÔºå‰ª•ÂÆûÁé∞Êñπ‰æøÁöÑÊåâÂêçÂ≠óÂ≠òÂèñ„ÄÇ 3. Êñá‰ª∂ÁöÑËØª/ÂÜôÁÆ°ÁêÜÂíå‰øùÊä§Ê†πÊçÆÁî®Êà∑ÁöÑËØ∑Ê±ÇÔºå‰ªéÂ§ñÂ≠ò‰∏≠ËØªÂèñÊï∞ÊçÆÊàñÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Â§ñÂ≠ò„ÄÇÂπ∂‰∏î‰øùÊä§Êñá‰ª∂Èò≤Ê≠¢ÂÖ∂Ë¢´ÈùûÊ≥ïÁõóÂèñÂíåÁ†¥Âùè„ÄÇ 1.5.5 Êìç‰ΩúÁ≥ªÁªü‰∏éÁî®Êà∑Èó¥ÁöÑÊé•Âè£Êé•Âè£‰∏ªË¶ÅÂàÜ‰∏∫‰∏§Â§ßÁ±ªÔºöÁî®Êà∑Êé•Âè£ÂíåÁ®ãÂ∫èÊé•Âè£„ÄÇÁî®Êà∑Êé•Âè£ÊòØ‰æõÁî®Êà∑Ë∞ÉÁî®ÔºåÊñπ‰æøÁî®Êà∑Áõ¥Êé•ÊàñÈó¥Êé•ÊéßÂà∂Ëá™Â∑±ÁöÑ‰Ωú‰∏ö„ÄÇÁ®ãÂ∫èÊé•Âè£ÊòØ‰∏∫Áî®Êà∑Á®ãÂ∫èÂú®ÊâßË°å‰∏≠ËÆøÈóÆÁ≥ªÁªüËµÑÊ∫êËÄåËÆæÂÆöÁöÑÔºåÊòØÁî®Êà∑ÂèñÂæóÊìç‰ΩúÁ≥ªÁªüÊúçÂä°ÁöÑÂîØ‰∏ÄÈÄîÂæÑ„ÄÇ]]></content>
      <categories>
        <category>Êìç‰ΩúÁ≥ªÁªü</category>
      </categories>
      <tags>
        <tag>Êìç‰ΩúÁ≥ªÁªü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÂ§öÁ∫øÁ®ã2--Java‰∏≠ÁöÑÁ∫øÁ®ãÊ±†]]></title>
    <url>%2Fposts%2Fb39fd0ab.html</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÊàë‰ª¨Âú®ÂÜôÈ°πÁõÆÁªèÂ∏∏Ë¶ÅÁî®Âà∞Â§öÁ∫øÁ®ã„ÄÇ‰ΩÜÊòØÁ∫øÁ®ãÁöÑÂàõÂª∫ÂíåÊëßÊØÅÈÉΩÊòØËæÉÊ∂àËÄóËµÑÊ∫êÂíåÊÄßËÉΩÁöÑÔºåÂ¶ÇÊûú‰Ω†ÊØèÈúÄË¶Å‰∏Ä‰∏™‰ªªÂä°Â∞±Êñ∞Âª∫‰∏Ä‰∏™Á∫øÁ®ãÔºåÈÇ£ÂèØËÉΩ‰ºöÂú®Á∫øÁ®ãÁöÑÂàõÂª∫ÂíåÊëßÊØÅ‰∏äÊµ™Ë¥πÊéâÂæàÂ§öËµÑÊ∫ê„ÄÇÈÇ£Â¶ÇÊûúÊàë‰ª¨ËÆ©Á∫øÁ®ãÊâßË°å‰ªªÂä°Âêé‰∏çÊëßÊØÅÔºåÊé•ÁùÄÊâßË°å‰∏ã‰∏Ä‰∏™‰ªªÂä°ÔºåËøôÊ†∑ÊòØ‰∏çÊòØÂ∞±ËÉΩÈÅøÂÖçËøôÁßçÊÉÖÂÜµ‰∫Ü„ÄÇJava1.5‰∏≠Êèê‰æõ‰∫ÜExecutorÊ°ÜÊû∂Áî®‰∫éÊää‰ªªÂä°ÁöÑÊèê‰∫§ÂíåÊâßË°åËß£ËÄ¶Ôºå‰ªªÂä°ÁöÑÊâßË°åÂ∞±‰∫§ÁªôRunnableÊàñËÄÖCallableÔºåËÄåExecutorÊ°ÜÊû∂Áî®‰∫éÂ§ÑÁêÜ‰ªªÂä°„ÄÇExecutor‰∏≠ÊúÄÊ†∏ÂøÉÁöÑÊàêÂëòÂ∞±ÊòØThreadPoolExecutorÔºå‰ªñÂ∞±ÊòØÁ∫øÁ®ãÊ±†Ê†∏ÂøÉÂÆûÁé∞Á±ª„ÄÇ ThreadPoolExecutorÊàë‰ª¨Áé∞Âú®ÂÖàÊù•Áúã‰∏ãËøô‰∏™ÊñπÊ≥ï„ÄÇÊûÑÈÄ†Âô®Ôºö123456789101112131415161718192021public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize,markdownlint long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; if (corePoolSize &lt; 0 || maximumPoolSize &lt;= 0 || maximumPoolSize &lt; corePoolSize || keepAliveTime &lt; 0) throw new IllegalArgumentException(); if (workQueue == null || threadFactory == null || handler == null) throw new NullPointerException(); this.corePoolSize = corePoolSize; this.maximumPoolSize = maximumPoolSize; this.workQueue = workQueue; this.keepAliveTime = unit.toNanos(keepAliveTime); this.threadFactory = threadFactory; this.handler = handler;&#125; Êàë‰ª¨Êù•Áúã‰∏ãËøô‰∫õÂèÇÊï∞Ôºö corePoolSizeÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊï∞„ÄÇÁ∫øÁ®ãÊ±†ÂàöÂàõÂª∫ÁöÑÊó∂ÂÄôÔºåÁ∫øÁ®ãÊï∞Èáè‰∏∫0ÔºåÂè™Êúâ‰ªªÂä°Êèê‰∫§ÁöÑÊó∂ÂÄôÊâç‰ºöÂàõÂª∫Á∫øÁ®ã„ÄÇÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÊï∞ÈáèÂ∞è‰∫écorePoolSizeÔºåÂàôÂàõÂª∫Êñ∞Á∫øÁ®ãÔºõÂ¶ÇÊûúÁ≠â‰∫éÊàñËÄÖÂ§ß‰∫éÔºåÂàô‰∏çÂÜçÂàõÂª∫„ÄÇ maximumPoolSizeÔºöÁ∫øÁ®ãÊ±†ÂÖÅËÆ∏ÂàõÂª∫ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞„ÄÇÂΩìworkQueueÊª°‰∫ÜËÄå‰∏îÁ∫øÁ®ãÊï∞Â∞è‰∫émaximumPoolSizeÊó∂ÔºåÁ∫øÁ®ãÊ±†‰ªç‰ºöÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ã„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúË∂ÖËøá‰∫ÜmaximumPoolSizeÊó∂ÔºåÂàô‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ keepAliveTimeÔºöÈùûÊ†∏ÂøÉÁ∫øÁ®ãÈó≤ÁΩÆÁöÑË∂ÖËøáÊó∂Èó¥„ÄÇÂΩìÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞ÈáèÂ§ß‰∫éworkQueueÔºåÂ¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÁöÑÁ©∫Èó≤Êó∂Èó¥Â§ß‰∫ékeepAliveTimeÔºåÂàôËØ•Á∫øÁ®ã‰ºöË¢´ÂõûÊî∂„ÄÇÂ¶ÇÊûú‰ªªÂä°ÂæàÂ§öÔºåÂπ∂‰∏îÊØè‰∏™‰ªªÂä° ÁöÑÊâßË°å‰∫ã‰ª∂ÂæàÁü≠ÔºåÂàôÂèØ‰ª•Ë∞ÉÂ§ßkeepAliveTimeÊù•ÊèêÈ´òÁ∫øÁ®ãÁöÑÂà©Áî®Áéá„ÄÇÂè¶Â§ñÔºåÂ¶ÇÊûúËÆæÁΩÆ allowCoreThreadTimeOutÂ±ûÊÄß‰∏∫trueÊó∂ÔºåkeepAliveTime‰πü‰ºöÂ∫îÁî®Âà∞Ê†∏ÂøÉÁ∫øÁ®ã‰∏ä„ÄÇ timeUnitÔºökeepAliveTimeÂèÇÊï∞ÁöÑÊó∂Èó¥Âçï‰Ωç„ÄÇÂèØÈÄâÁöÑÂçï‰ΩçÊúâÂ§©(DAYS)„ÄÅÂ∞èÊó∂(HOURS)„ÄÅÂàÜÈíü(MINUTES)„ÄÅÁßí(SECONDS)„ÄÅÊØ´Áßí(MILLISECONDS)Á≠â„ÄÇ workQueueÔºö‰ªªÂä°ÈòüÂàó„ÄÇÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÊï∞Â§ß‰∫écorePoolSizeÔºåÂàôÂ∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞Ê≠§‰ªªÂä°ÈòüÂàó‰∏≠„ÄÇËØ•‰ªªÂä° ÈòüÂàóÊòØBlockingQueueÁ±ªÂûãÁöÑÔºå‰πüÂ∞±ÊòØÈòªÂ°ûÈòüÂàó„ÄÇ threadFactoryÔºöÁ∫øÁ®ãÂ∑•ÂéÇ„ÄÇÂèØ‰ª•Áî®Á∫øÁ®ãÂ∑•ÂéÇÁªôÊØè‰∏™ÂàõÂª∫Âá∫Êù•ÁöÑÁ∫øÁ®ãËÆæÁΩÆÂêçÂ≠ó„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊó†È°ªËÆæÁΩÆËØ•ÂèÇÊï∞„ÄÇ RejectedExecutionHandlerÔºöÈ•±ÂíåÁ≠ñÁï•„ÄÇËøôÊòØÂΩì‰ªªÂä°ÈòüÂàóÂíåÁ∫øÁ®ãÊ±†ÈÉΩÊª°‰∫ÜÊó∂ÊâÄÈááÂèñÁöÑÂ∫îÂØπÁ≠ñÁï•ÔºåÈªòËÆ§ÊòØAbordPolicyÔºåË°®Á§∫Êó†Ê≥ïÂ§ÑÁêÜÊñ∞‰ªªÂä°ÔºåÂπ∂ÊäõÂá∫RejectedExecutionExceptionÂºÇÂ∏∏„ÄÇÊ≠§Â§ñËøòÊúâ3ÁßçÁ≠ñÁï•ÔºåÂÆÉ‰ª¨ÂàÜÂà´Â¶Ç‰∏ã: CallerRunsPolicyÔºöÁî®Ë∞ÉÁî®ËÄÖÊâÄÂú®ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜ‰ªªÂä°„ÄÇÊ≠§Á≠ñÁï•Êèê‰æõÁÆÄÂçïÁöÑÂèçÈ¶àÊéßÂà∂Êú∫Âà∂ÔºåËÉΩÂ§üÂáèÁºìÊñ∞‰ªªÂä°ÁöÑÊèê‰∫§ÈÄüÂ∫¶„ÄÇ DiscardPolicyÔºö‰∏çËÉΩÊâßË°åÁöÑ‰ªªÂä°ÔºåÂπ∂Â∞ÜËØ•‰ªªÂä°Âà†Èô§„ÄÇ DiscardOldestPolicyÔºö‰∏¢ÂºÉÈòüÂàóÊúÄËøëÁöÑ‰ªªÂä°ÔºåÂπ∂ÊâßË°åÂΩìÂâçÁöÑ‰ªªÂä°„ÄÇ Á∫øÁ®ãÊ±†ÁöÑÂ§ÑÁêÜÊµÅÁ®ãÁ∫øÁ®ãÊ±†ÁöÑ‰ªªÂä°Â§ÑÁêÜ‰∏ªË¶ÅÂàÜ‰∏∫3‰∏™Ê≠•È™§ Êèê‰∫§‰ªªÂä°ÂêéÔºåÁ∫øÁ®ãÊ±†ÂÖàÂà§Êñ≠Á∫øÁ®ãÊï∞ÊòØÂê¶ËææÂà∞‰∫ÜÊ†∏ÂøÉÁ∫øÁ®ãÊï∞corePoolSize„ÄÇÂ¶ÇÊûúÊú™ËææÂà∞Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåÂàôÂàõÂª∫Ê†∏ÂøÉÁ∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°ÔºõÂê¶ÂàôÔºåÂ∞±ÊâßË°å‰∏ã‰∏ÄÊ≠•Êìç‰Ωú„ÄÇ Êé•ÁùÄÁ∫øÁ®ãÊ±†Âà§Êñ≠‰ªªÂä°ÈòüÂàóÊòØÂê¶Êª°‰∫Ü„ÄÇÂ¶ÇÊûúÊ≤°Êª°ÔºåÂàôÂ∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞‰ªªÂä°ÈòüÂàó‰∏≠ÔºõÂê¶ÂàôÔºåÂ∞±ÊâßË°å‰∏ã‰∏ÄÊ≠•Êìç‰Ωú„ÄÇ Êé•ÁùÄÂõ†‰∏∫‰ªªÂä°ÈòüÂàóÊª°‰∫ÜÔºåÁ∫øÁ®ãÊ±†Â∞±Âà§Êñ≠Á∫øÁ®ãÊï∞ÊòØÂê¶ËææÂà∞‰∫ÜÊúÄÂ§ßÁ∫øÁ®ãÊï∞„ÄÇÂ¶ÇÊûúÊú™ËææÂà∞ÔºåÂàôÂàõÂª∫ÈùûÊ†∏ÂøÉÁ∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°ÔºõÂê¶ÂàôÔºåÂ∞±ÊâßË°åÈ•±ÂíåÁ≠ñÁï•ÔºåÈªòËÆ§‰ºöÊäõÂá∫RejectedExecutionExceptionÂºÇÂ∏∏„ÄÇ Â¶ÇÊûúÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞Êú™ËææÂà∞Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåÂàôÂàõÂª∫Ê†∏ÂøÉÁ∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°„ÄÇ Â¶ÇÊûúÁ∫øÁ®ãÊï∞Â§ß‰∫éÊàñËÄÖÁ≠â‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåÂàôÂ∞Ü‰ªªÂä°Âä†ÂÖ•‰ªªÂä°ÈòüÂàóÔºåÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ©∫Èó≤Á∫øÁ®ã‰ºö‰∏çÊñ≠Âú∞‰ªé ‰ªªÂä°ÈòüÂàó‰∏≠ÂèñÂá∫‰ªªÂä°ËøõË°åÂ§ÑÁêÜ„ÄÇ Â¶ÇÊûú‰ªªÂä°ÈòüÂàóÊª°‰∫ÜÔºåÂπ∂‰∏îÁ∫øÁ®ãÊï∞Ê≤°ÊúâËææÂà∞ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂàôÂàõÂª∫ÈùûÊ†∏ÂøÉÁ∫øÁ®ãÂéªÂ§ÑÁêÜ‰ªªÂä°„ÄÇ Â¶ÇÊûúÁ∫øÁ®ãÊï∞Ë∂ÖËøá‰∫ÜÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂàôÊâßË°åÈ•±ÂíåÁ≠ñÁï•„ÄÇ Á∫øÁ®ãÊ±†ÁöÑÁßçÁ±ªCachedThreadPoolÔºöÂèØÁºìÂ≠òÁ∫øÁ®ãÊ±† Á∫øÁ®ãÊï∞Êó†ÈôêÂà∂ ÊúâÁ©∫Èó≤Á∫øÁ®ãÂàôÂ§çÁî®Á©∫Èó≤Á∫øÁ®ãÔºåËã•Êó†Á©∫Èó≤Á∫øÁ®ãÂàôÊñ∞Âª∫Á∫øÁ®ã ‰∏ÄÂÆöÁ®ãÂ∫èÂáèÂ∞ëÈ¢ëÁπÅÂàõÂª∫/ÈîÄÊØÅÁ∫øÁ®ãÔºåÂáèÂ∞ëÁ≥ªÁªüÂºÄÈîÄ ÂàõÂª∫Ê∫êÁ†ÅÔºö12345public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());&#125; CachedThreadPoolÁöÑcorePoolSize‰∏∫0ÔºåmaximumPoolSizeËÆæÁΩÆ‰∏∫Integer.MAX_VALUEÔºåËøôÊÑèÂë≥ÁùÄCachedThreadPoolÊ≤°ÊúâÊ†∏ÂøÉÁ∫øÁ®ãÔºåÈùûÊ†∏ÂøÉÁ∫øÁ®ãÊòØÊó†ÁïåÁöÑ„ÄÇkeepAliveTimeËÆæÁΩÆ‰∏∫60LÔºåÂàôÁ©∫Èó≤Á∫øÁ®ãÁ≠âÂæÖÊñ∞‰ªªÂä° ÁöÑÊúÄÈïøÊó∂Èó¥‰∏∫60s„ÄÇÂú®Ê≠§Áî®‰∫ÜÈòªÂ°ûÈòüÂàóSynchronousQueueÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàóÔºåÊØè‰∏™ÊèíÂÖ•Êìç‰ΩúÂøÖÈ°ªÁ≠âÂæÖÂè¶‰∏Ä‰∏™Á∫øÁ®ãÁöÑÁßªÈô§Êìç‰ΩúÔºåÂêåÊ†∑‰ªª‰Ωï‰∏Ä‰∏™ÁßªÈô§Êìç‰ΩúÈÉΩÁ≠âÂæÖÂè¶‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊèíÂÖ•Êìç‰Ωú„ÄÇ FixedThreadPoolÔºöÂÆöÈïøÁ∫øÁ®ãÊ±† ÂèØÊéßÂà∂Á∫øÁ®ãÊúÄÂ§ßÂπ∂ÂèëÊï∞ÔºàÂêåÊó∂ÊâßË°åÁöÑÁ∫øÁ®ãÊï∞Ôºâ Ë∂ÖÂá∫ÁöÑÁ∫øÁ®ã‰ºöÂú®ÈòüÂàó‰∏≠Á≠âÂæÖ ÂàõÂª∫Ê∫êÁ†ÅÔºö12345public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());&#125; FixedThreadPoolÁöÑcorePoolSizeÂíåmaximumPoolSizeÈÉΩËÆæÁΩÆ‰∏∫ÂàõÂª∫FixedThreadPoolÊåáÂÆöÁöÑÂèÇÊï∞nThreadsÔºå‰πüÂ∞±ÊÑèÂë≥ÁùÄFixedThreadPoolÂè™ÊúâÊ†∏ÂøÉÁ∫øÁ®ãÔºåÂπ∂‰∏îÊï∞ÈáèÊòØÂõ∫ÂÆöÁöÑÔºåÊ≤°ÊúâÈùûÊ†∏ÂøÉÁ∫øÁ®ã„ÄÇkeepAliveTimeËÆæÁΩÆ‰∏∫0LÊÑèÂë≥ÁùÄÂ§ö‰ΩôÁöÑÁ∫øÁ®ã‰ºöË¢´Á´ãÂç≥ÁªàÊ≠¢„ÄÇÂõ†‰∏∫‰∏ç‰ºö‰∫ßÁîüÂ§ö‰ΩôÁöÑÁ∫øÁ®ãÔºåÊâÄ‰ª•keepAliveTimeÊòØÊó†ÊïàÁöÑÂèÇÊï∞„ÄÇÂè¶Â§ñÔºå‰ªªÂä°ÈòüÂàóÈááÁî®‰∫ÜÊó†ÁïåÁöÑÈòªÂ°ûÈòüÂàóLinkedBlockingQueue„ÄÇ ScheduledThreadPoolÔºöÂÆöÈïøÁ∫øÁ®ãÊ±†ÊîØÊåÅÂÆöÊó∂ÂèäÂë®ÊúüÊÄß‰ªªÂä°ÊâßË°å„ÄÇ ÂàõÂª∫Ê∫êÁ†ÅÔºö1234public static ScheduledExecutorService newScheduledThreadPool( int corePoolSize, ThreadFactory threadFactory) &#123; return new ScheduledThreadPoolExecutor(corePoolSize, threadFactory);&#125; Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Âú®ÂàõÂª∫Ê∫êÁ†Å‰∏≠‰ªñË∑≥ËΩ¨Âà∞‰∫ÜScheduledThreadPoolExecutorÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåÊàë‰ª¨ÁªßÁª≠ÁúãËøõÂéªÔºö123456public ScheduledThreadPoolExecutor(int corePoolSize, ThreadFactory threadFactory) &#123; super(corePoolSize, Integer.MAX_VALUE, DEFAULT_KEEPALIVE_MILLIS, MILLISECONDS, new DelayedWorkQueue(), threadFactory);&#125; ‰ªé‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁúãÂá∫ÔºåScheduledThreadPoolExecutorÁöÑÊûÑÈÄ†ÊñπÊ≥ïÊúÄÁªàË∞ÉÁî®ÁöÑÊòØThreadPoolExecutorÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇcorePoolSizeÊòØ‰º†ËøõÊù•ÁöÑÂõ∫ÂÆöÊï∞ÂÄºÔºåmaximumPoolSizeÁöÑÂÄºÊòØInteger.MAX_VALUE„ÄÇÂõ†‰∏∫ÈááÁî®ÁöÑDelayedWorkQueueÊòØÊó†ÁïåÁöÑÔºåÊâÄ‰ª•maximumPoolSizeËøô‰∏™ÂèÇÊï∞ÊòØÊó†ÊïàÁöÑ„ÄÇ SingleThreadExecutorÔºöÂçïÁ∫øÁ®ãÂåñÁöÑÁ∫øÁ®ãÊ±† Êúâ‰∏î‰ªÖÊúâ‰∏Ä‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊâßË°å‰ªªÂä° ÊâÄÊúâ‰ªªÂä°ÊåâÁÖßÊåáÂÆöÈ°∫Â∫èÊâßË°åÔºåÂç≥ÈÅµÂæ™ÈòüÂàóÁöÑÂÖ•ÈòüÂá∫ÈòüËßÑÂàô ÂàõÂª∫Ê∫êÁ†ÅÔºö123456public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()));&#125; corePoolSizeÂíåmaximumPoolSizeÈÉΩ‰∏∫1ÔºåÊÑèÂë≥ÁùÄSingleThreadExecutorÂè™Êúâ‰∏Ä‰∏™Ê†∏ÂøÉÁ∫øÁ®ãÔºåÂÖ∂‰ªñÁöÑÂèÇÊï∞ÈÉΩÂíåFixedThreadPool‰∏ÄÊ†∑ÔºåËøôÈáåÂ∞±‰∏çËµòËø∞‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Java</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NextÈÖçÁΩÆÂ§á‰ªΩ]]></title>
    <url>%2Fposts%2F5b6e53a4.html</url>
    <content type="text"><![CDATA[HexoÈÖçÁΩÆÂ§á‰ªΩ ËØÑËÆ∫Á≥ªÁªü Êù•ÂøÖÂäõ - https://www.livere.com/ valine(Âú®Áî®) - https://valine.js.org/ ÈòÖËØªÈáèÊòæÁ§∫ leancloud - https://leancloud.cn/ valine(Âú®Áî®) - https://valine.js.org/]]></content>
      <categories>
        <category>ÊùÇÈ°π</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÂ§öÁ∫øÁ®ã1--Java‰∏≠ÁöÑÈòªÂ°ûÈòüÂàó]]></title>
    <url>%2Fposts%2F63ab42b7.html</url>
    <content type="text"><![CDATA[ÈòªÂ°ûÈòüÂàóÂâçË®ÄÂú®Ë∞àËÆ∫ÈòªÂ°ûÈòüÂàó‰πãÂâçÊàë‰ª¨ÂÖàÁúã‰∏ãÊìç‰ΩúÁ≥ªÁªüÂ§öÁ∫øÁ®ãÈÉ®ÂàÜ‰∏Ä‰∏™ÁªèÂÖ∏ÁöÑ‰æãÂ≠ê‚Äî‚ÄîÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÈóÆÈ¢òÔºö Áé∞Âú®Êúâ‰∏§‰∏™ËøõÁ®ãÔºå‰∏Ä‰∏™ÊòØÁîü‰∫ßËÄÖ‰∏Ä‰∏™ÊòØÊ∂àË¥πËÄÖÔºåËøòÊúâ‰∏Ä‰∏™Á∫øÁ®ãÁºìÂÜ≤Âå∫„ÄÇÁîü‰∫ßËÄÖ‰∏ªË¶Å‰ΩúÁî®Â∞±ÊòØÂêëÁºìÂÜ≤Âå∫‰∏≠Ê∑ªÂä†Êï∞ÊçÆÔºåÊ∂àË¥πËÄÖÂ∞±ÊòØ‰ªéÁºìÂÜ≤Âå∫‰∏≠ÂèñÂá∫Êï∞ÊçÆ„ÄÇËøô‰∏™ÈóÆÈ¢òÁöÑÊ†∏ÂøÉÂ∞±ÊòØÂ¶Ç‰ΩïÁ°Æ‰øùÁîü‰∫ßËÄÖ‰∏ç‰ºöÂú®ÁºìÂÜ≤Âå∫Êª°‰∫ÜÁöÑÊó∂ÂÄôËøòÂæÄÂÖ∂‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÔºåÊ∂àË¥πËÄÖ‰∏ç‰ºöÂú®ÁºìÂÜ≤Âå∫Á©∫‰∫ÜÁöÑÊó∂ÂÄôËøòË¶ÅÊ±ÇÂèñÂá∫Êï∞ÊçÆ„ÄÇ ÂÖ≥‰∫éËøô‰∏™ÈóÆÈ¢òÁöÑËß£ÂÜ≥ÂäûÊ≥ïÊàë‰ª¨‰ª•ÂêéÂÜçËØ¥ÔºåÊàë‰ª¨Áé∞Âú®‰∏ªË¶ÅËÆ®ËÆ∫Á∫øÁ®ãÁºìÂÜ≤Âå∫‚Äî‚ÄîÈòªÂ°ûÈòüÂàó„ÄÇ ÈòªÂ°ûÈòüÂàóÁÆÄ‰ªãÈòªÂ°ûÈòüÂàóÂ∞±ÊòØÈòüÂàóÔºåÂè™ÊòØÂú®‰∏ÄËà¨ÁöÑÈòüÂàó‰∏äÊ∑ªÂä†‰∫Ü‰∏§‰∏™Êù°‰ª∂Ôºö ÂΩìÈòüÂàóÊª°‰∫ÜÁöÑÊó∂ÂÄô‰∏çÂÖÅËÆ∏ÂÜçÊ∑ªÂä†Êï∞ÊçÆ ÂΩìÈòüÂàóÁ©∫‰∫ÜÁöÑÊó∂ÂÄô‰∏çÂÖÅËÆ∏‰ªé‰∏≠ÂèñÊï∞ÊçÆ Âú®Java‰∏≠ÔºåÈòªÂ°ûÈòüÂàóÊòØÈÄöËøáBlockingQueueÊù•ÂÆûÁé∞ÁöÑÔºåBlockingQueueÊòØJava.util.concurrentÂåÖ‰∏ã‰∏Ä‰∏™ÈáçË¶ÅÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ BlockingQueueÁöÑÊìç‰ΩúÊñπÊ≥ï ÊñπÊ≥ï ÊäõÂºÇÂ∏∏ ËøîÂõûÁâπÂÆöÂÄº ÈòªÂ°û Ë∂ÖÊó∂ ÊèíÂÖ• add(E e) offer(E e) put(E e) offer(E e, long timeout, TimeUnit unit) ÁßªÈô§ remove() poll() take() poll(time, unit) Ê£ÄÊü• element() peek() ‰∏çÂèØÁî® ‰∏çÂèØÁî® Ëß£ÈáäÔºö ÊäõÂºÇÂ∏∏ÔºöÂ¶ÇÊûúÊìç‰ΩúÊó†Ê≥ïÊâßË°åÔºåÂàôÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏ ÁâπÂÆöÂÄºÔºöÂ¶ÇÊûúÊìç‰ΩúÊó†Ê≥ïÊâßË°åÔºåÂàôËøîÂõû‰∏Ä‰∏™ÁâπÂÆöÁöÑÂÄº ÈòªÂ°ûÔºö Â¶ÇÊûúÊìç‰ΩúÊó†Ê≥ïÊâßË°åÔºåÂàôÊñπÊ≥ïË∞ÉÁî®Ë¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ÂèØ‰ª•ÊâßË°å Ë∂ÖÊó∂ÔºöÂ¶ÇÊûúÊìç‰ΩúÊó†Ê≥ïÊâßË°åÔºåÂàôÊñπÊ≥ïË∞ÉÁî®Ë¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ÂèØ‰ª•ÊâßË°åÊàñËÄÖË∂ÖËøáÈôêÂÆöÁöÑÊó∂Èó¥„ÄÇËøîÂõû‰∏Ä‰∏™ÁâπÂÆöÂÄº‰ª•ÂëäÁü•ËØ•Êìç‰ΩúÊòØÂê¶ÊàêÂäü(ÂÖ∏ÂûãÁöÑÊòØtrue / false)„ÄÇ Java‰∏≠ÁöÑÂêÑÁßçÈòªÂ°ûÈòüÂàóJavaÂü∫‰∫éBlockingQueueÁªôÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü7‰∏™ÈòªÂ°ûÈòüÂàóÔºö ArrayBlockingQueueÔºöÂü∫‰∫éÊï∞ÁªÑÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó„ÄÇÊúâÁïåÂ∞±ÊÑèÂë≥ÁùÄ‰ªñÊúâ‰∏Ä‰∏™ÊúÄÂ§ßÈôêÂ∫¶ÔºåÊâÄÂ≠òÂÇ®ÁöÑÁ∫øÁ®ãÁöÑÊï∞Èáè‰∏çËÉΩË∂ÖËøáËøô‰∏™ÈôêÂÆöÂÄº„ÄÇ‰Ω†‰πüÂèØ‰ª•Âú®ÂØπÂÖ∂ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÁªôÂÆöËøô‰∏™ÈôêÂÆöÂÄº„ÄÇ‰ΩÜÊòØÁî±‰∫éÂÆÉÊòØÂü∫‰∫éÊï∞ÁªÑÊâÄ‰ª•‰ªñÂíåÊï∞ÁªÑ‰∏ÄÊ†∑ÔºåÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÈôêÂÆö‰∫ÜËøô‰∏™Â§ßÂ∞è‰ª•ÂêéÂ∞±‰∏çËÉΩÊîπÂèò„ÄÇ LinkedBlockingQueueÔºöÂü∫‰∫éÈìæË°®ÁöÑÈòªÂ°ûÈòüÂàó„ÄÇÂÆÉÂÜÖÈÉ®‰ª•‰∏Ä‰∏™ÈìæÂºèÁªìÊûÑ(ÈìæÊé•ËäÇÁÇπ)ÂØπÂÖ∂ÂÖÉÁ¥†ËøõË°åÂ≠òÂÇ®„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùÔºåËøô‰∏ÄÈìæÂºèÁªìÊûÑÂèØ‰ª•ÈÄâÊã©‰∏Ä‰∏™‰∏äÈôê„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂÆö‰πâ‰∏äÈôêÔºåÂ∞Ü‰ΩøÁî®Integer.MAX_VALUE‰Ωú‰∏∫‰∏äÈôê„ÄÇLinkedBlockingQueueÂÜÖÈÉ®‰ª•FIFO(ÂÖàËøõÂÖàÂá∫)ÁöÑÈ°∫Â∫èÂØπÂÖÉÁ¥†ËøõË°åÂ≠òÂÇ®„ÄÇÈòüÂàó‰∏≠ÁöÑÂ§¥ÂÖÉÁ¥†Âú®ÊâÄÊúâÂÖÉÁ¥†‰πã‰∏≠ÊòØÊîæÂÖ•Êó∂Èó¥ÊúÄ‰πÖÁöÑÈÇ£‰∏™ÔºåËÄåÂ∞æÂÖÉÁ¥†ÂàôÊòØÊúÄÁü≠ÁöÑÈÇ£‰∏™„ÄÇÁî±‰∫éÈªòËÆ§ÊòØÊó†‰∏äÈôêÁöÑÔºåÊâÄ‰ª•Âú®‰ΩøÁî®‰ªñÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÁîü‰∫ßËÄÖÁöÑÈÄüÂ∫¶Â§ß‰∫éÊ∂àË¥πËÄÖÁöÑÈÄüÂ∫¶ÔºåÁ≥ªÁªüÂÜÖÂ≠òÂèØËÉΩ‰ºöË¢´ËÄóÂ∞Ω„ÄÇÊâÄ‰ª•‰ΩøÁî®‰ªñ‰∏ÄÂÆöË¶ÅËÆæÁΩÆÂàùÂÄº„ÄÇ PriorityBlockingQueueÔºöÊîØÊåÅ‰ºòÂÖàÁ∫ßÁöÑÊó†ÁïåÈòüÂàó„ÄÇÈªòËÆ§ÊÉÖÂÜµÊåâÁÖßËá™ÁÑ∂È°∫Â∫èÁîüÂ∫èÊéíÂàóÔºå‰Ω†ÂèØ‰ª•ÈáçÂÜôcompateTo()ÊñπÊ≥ïÊù•Âà∂ÂÆöÂÖÉÁ¥†ÊåâËßÑÂÆöÊéíÂ∫è„ÄÇ DelayQueueÔºöÊîØÊåÅÂª∂Êó∂Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇÈòüÂàó‰∏≠ÁöÑÂÖÉÁ¥†ÂøÖÈ°ªÂÆûÁé∞DelayedÊé•Âè£„ÄÇ SynchromousQueueÔºöÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÈòüÂàó„ÄÇ‰ªñ‰∏çËÉΩÂ≠òÂÇ®‰ªª‰ΩïÂÖÉÁ¥†Ôºå‰ªñÁöÑÊØè‰∏ÄÊ¨°ÊèíÂÖ•Êìç‰ΩúÂøÖÈ°ªÁ≠âÂæÖÂè¶‰∏Ä‰∏™Á∫øÁ®ãÁõ∏Â∫îÁöÑÂà†Èô§Êìç‰ΩúÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ LinkedTransferQueueÔºöÂü∫‰∫éÈìæË°®ÁöÑÊó†ÁïåÈòªÂ°ûTransferQueueÈòüÂàó„ÄÇÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÈòüÂàóÔºå‰ªñÂ§ö‰∫Ütransfer(E e)„ÄÅtryTransfer(E e) Âíå tryTransfer(E e, long timeout, TimeUnit unit)ÊñπÊ≥ï„ÄÇ LinkedBlockingDequeÔºöÊòØ‰∏Ä‰∏™ÈìæË°®ÁªìÊûÑÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàó„ÄÇÂèØÂú®‰∏§Á´ØÂÖ•ÈòüÂá∫ÂØπ„ÄÇÊâÄ‰ª•ÂΩìÂ§öÁ∫øÁ®ãÂÖ•ÈòüÊó∂ÔºåÂáèÂ∞ë‰∫Ü‰∏ÄÂçäÁöÑÁ´û‰∫â„ÄÇ ÈòªÂ°ûÈòüÂàóÂÆûÁé∞ÂéüÁêÜ‰∏ãÈù¢Êàë‰ª¨‰ª•ArrayBlockingQueueÊ∫êÁ†Å‰∏∫‰æãÔºåÊù•Áúã‰∏ãÈòªÂ°ûÈòüÂàóÂÆûÁé∞ÂéüÁêÜÔºö ÂÆö‰πâÈ¶ñÂÖàÂ∞±ÊòØ‰∏ÄÂ†ÜÂèòÈáèÁöÑÂÆö‰πâÔºö123456789101112131415161718192021222324252627/** The queued items */final Object[] items;/** items index for next take, poll, peek or remove */int takeIndex;/** items index for next put, offer, or add */int putIndex;/** Number of elements in the queue */int count;/* * Concurrency control uses the classic two-condition algorithm * found in any textbook. *//** Main lock guarding all access */final ReentrantLock lock;/** Condition for waiting takes */privatefinal Condition notEmpty;/** Condition for waiting puts */privatefinal Condition notFull; itemsÊòØÂ≠òÂÇ®ÈòüÂàóÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÔºåtakeIndexÂíåputIndexÂàÜÂà´ÊòØÂèñÊï∞ÊçÆÂíåÂ≠òÊï∞ÊçÆÁöÑÁ¥¢ÂºïÔºåcountÊòØÈòüÂàó‰∏≠ÂÖÉÁ¥†‰∏™Êï∞Ôºålock‰∏∫Áúã‰∏Ä‰∏™ÂèØÈáçÂÖ•ÈîÅÔºånotEmptyÂíånotFullÂùá‰∏∫Á≠âÂæÖÊù°‰ª∂ÔºåÁî±lockÂàõÂª∫„ÄÇ ÊûÑÈÄ†Âô®Êé•‰∏ãÊù•Áúã‰∏ãÂÆÉÁöÑÊûÑÈÄ†Âô®12345678public ArrayBlockingQueue(int capacity) &#123;&#125;public ArrayBlockingQueue(int capacity, boolean fair) &#123; &#125;public ArrayBlockingQueue(int capacity, boolean fair, Collection&lt;? extends E&gt; c) &#123;&#125; ÊûÑÈÄ†Âô®Êúâ‰∏â‰∏™ÈáçËΩΩÁöÑÁâàÊú¨ÔºåÁ¨¨‰∏Ä‰∏™ÊûÑÈÄ†Âô®Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Áî®Êù•ÊåáÂÆöÂÆπÈáèÔºåÁ¨¨‰∫å‰∏™ÊûÑÈÄ†Âô®Â§ö‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞Êù•ÊåáÂÆöËÆøÈóÆÁ≠ñÁï•ÔºåÁ¨¨‰∏â‰∏™ÊûÑÈÄ†Âô®ÂèàÂ§ö‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞ÂèØ‰ª•ÊåáÂÆöÁî®Âè¶Â§ñ‰∏Ä‰∏™ÈõÜÂêàËøõË°åÂàùÂßãÂåñ„ÄÇ Êï∞ÊçÆÁöÑÊ∑ªÂä†Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãBlockingQueueÁöÑ‰∏â‰∏™ÊèíÂÖ•ÁöÑÊñπÊ≥ïÔºöput()„ÄÅadd()Âíåoffer()Ôºö put() ÊñπÊ≥ïÔºöÈòüÂàóÊª°Ôºå‰ºöÈòªÂ°ûË∞ÉÁî®Â≠òÂÇ®ÂÖÉÁ¥†ÁöÑÁ∫øÁ®ã 1234567891011121314151617public void put(E e) throws InterruptedException &#123; // ÂÖàÊ£ÄÊü•eÊòØ‰∏çÊòØÁ©∫ÔºåÂ¶ÇÊûúÁ©∫ÂàôÊäõÂºÇÂ∏∏ Objects.requireNonNull(e); // Ëé∑Âèñ‰∏Ä‰∏™ÈáçÂÖ•ÈîÅlock final ReentrantLock lock = this.lock; // Âä†ÈîÅÔºå‰øùËØÅË∞ÉÁî®putÊñπÊ≥ïÁöÑÊó∂ÂÄôÂè™Êúâ1‰∏™Á∫øÁ®ã lock.lockInterruptibly(); try &#123; // Â¶ÇÊûúÁ∫øÁ®ã‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèÊòØÂê¶Á≠â‰∫éÂΩìÂâçÊï∞ÁªÑÁöÑÈïøÂ∫¶ÔºåÂ¶ÇÊûúÁõ∏Á≠âÂàôË∞ÉÁî®awaitÊñπÊ≥ïÁ≠âÂæÖÔºåÂ¶ÇÊûú‰∏çÁõ∏Á≠âÂàôenqueueÊñπÊ≥ïÊèíÂÖ•ÂÖÉÁ¥† while (count == items.length) notFull.await(); enqueue(e); &#125; finally &#123; // Ëß£ÈîÅ lock.unlock(); &#125;&#125; add()ÊñπÊ≥ïÔºöÂÆûÈôÖ‰∏äË∞ÉÁî®‰∫Üoffer()ÊñπÊ≥ï 123456public boolean add(E e) &#123; if (offer(e)) return true; else throw new IllegalStateException("Queue full");&#125; offer()ÊñπÊ≥ïÔºöÊàêÂäüËøîÂõûtrueÔºåÂ§±Ë¥•ËøîÂõûfalse 1234567891011121314151617181920public boolean offer(E e) &#123; // Ê£ÄÊü•eÊòØÂê¶‰∏∫Á©∫ Objects.requireNonNull(e); // Ëé∑ÂèñÈáçÂÖ•ÈîÅlock final ReentrantLock lock = this.lock; // Âä†ÈîÅ lock.lock(); try &#123; // Â¶ÇÊûúÂ¶ÇÊûúÁ∫øÁ®ã‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèÊòØÂê¶Á≠â‰∫éÂΩìÂâçÊï∞ÁªÑÁöÑÈïøÂ∫¶ÔºåÂ¶ÇÊûúÁõ∏Á≠âÂàôË∞ÉËøîÂõûfalseÔºåÂ¶ÇÊûú‰∏çÁõ∏Á≠âÂàôenqueueÊñπÊ≥ïÊèíÂÖ•ÂÖÉÁ¥†Âπ∂ËøîÂõûtrue if (count == items.length) return false; else &#123; enqueue(e); return true; &#125; &#125; finally &#123; // Ëß£ÈîÅ lock.unlock(); &#125;&#125; ‰ª•‰∏ä‰∏â‰∏™ÊñπÊ≥ïÈÉΩË∞ÉÁî®‰∫Üenqueue()ÊñπÊ≥ï„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•ÁúãÁúãËøô‰∏™ÊñπÊ≥ïÔºö123456789101112131415/** * Inserts element at current put position, advances, and signals. * Call only when holding lock. */private void enqueue(E e) &#123; // assert lock.isHeldByCurrentThread(); // assert lock.getHoldCount() == 1; // assert items[putIndex] == null; final Object[] items = this.items; items[putIndex] = e; if (++putIndex == items.length) putIndex = 0; count++; notEmpty.signal();&#125; ÂÖàËé∑ÂèñÂÖÉÁ¥†Êï∞ÁªÑitemsÔºåÁÑ∂ÂêéÊ∑ªÂä†putIndex‰∏äÔºåÂ¶ÇÊûú++putIndexÁ≠â‰∫éitemsÁöÑÈïøÂ∫¶ÔºåÂàôËØÅÊòéÂΩìÂâçËøô‰∏™itemsÊâÄÊúâÂÖÉÁ¥†ÈÉΩÊ∑ªÂä†Ëøõ‰∫ÜÔºåÂ∞±ËÆ©putIndexÁ≠â‰∫é0.ÁÑ∂ÂêéË∞ÉÁî®notEmpty.signal()ÊñπÊ≥ïÂî§ÈÜíÊ≠£Âú®Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÁ∫øÁ®ãÔºåËÆ©‰ªñ‰ª¨‰ªéÈòüÂàó‰∏≠ÂèñÊï∞ÊçÆ„ÄÇ Êï∞ÊçÆÁöÑÂèñÂá∫ArrayBlockingQueueÁöÑÂèñÊï∞ÊçÆÊñπÊ≥ïÊÄªÂÖ±‰πüÊúâ‰∏â‰∏™ÊñπÊ≥ïÔºöpoll()„ÄÅtake()Âíåremove() poll()ÊñπÊ≥ïÔºöËé∑ÂèñÂÖÉÁ¥†ÔºåÂ≠òÂú®ËøîÂõûÂÖÉÁ¥†e,‰∏çÂ≠òÂú®ËøîÂõûnull 12345678910111213public E poll() &#123; // Ëé∑ÂèñÈáçÂÖ•ÈîÅlock final ReentrantLock lock = this.lock; // Âä†ÈîÅ lock.lock(); try &#123; // Â¶ÇÊûúÂÖÉÁ¥†Êï∞ÈáèÁ≠â‰∫é0Â∞±ËøîÂõûnullÔºåÂê¶ÂàôË∞ÉÁî®dequeue()ÊñπÊ≥ï return (count == 0) ? null : dequeue(); &#125; finally &#123; // Ëß£ÈîÅ lock.unlock(); &#125;&#125; take()ÊñπÊ≥ïÔºöÂèñÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúÈòüÂàó‰∏∫Á©∫,Âàô‰ºöÈòªÂ°ûË∞ÉÁî®Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÁ∫øÁ®ã 123456789101112131415public E take() throws InterruptedException &#123; // Ëé∑ÂèñÈáçÂÖ•ÈîÅlock final ReentrantLock lock = this.lock; // Âä†ÈîÅ lock.lockInterruptibly(); try &#123; // Â¶ÇÊûúÁ∫øÁ®ã‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèÊòØÂê¶Á≠â‰∫é0ÔºåÂ¶ÇÊûúÁõ∏Á≠âÂàôË∞ÉÁî®awaitÊñπÊ≥ïÁ≠âÂæÖÔºåÂ¶ÇÊûú‰∏çÁõ∏Á≠âÂàôdequeueÊñπÊ≥ïÂà†Èô§ÂÖÉÁ¥† while (count == 0) notEmpty.await(); return dequeue(); &#125; finally &#123; // Ëß£ÈîÅ lock.unlock(); &#125;&#125; remove()ÊñπÊ≥ïÔºöÂèñÂÖÉÁ¥†ÔºåÂÆÉÊòØÂèñÁâπÂÆöÁöÑÈÇ£‰∏™ÂÖÉÁ¥† 1234567891011121314151617181920212223242526public boolean remove(Object o) &#123; // Âà§Êñ≠oÊòØÂê¶‰∏∫Á©∫ if (o == null) return false; // Ëé∑ÂèñÈáçÂÖ•ÈîÅlock final ReentrantLock lock = this.lock; // Âä†ÈîÅ lock.lock(); try &#123; // Â¶ÇÊûúÂÖÉÁ¥†Êï∞ÈáèÂ§ß‰∫é0ÔºåÂàôËé∑ÂèñitemsÔºåÁÑ∂Âêé‰æøÂà©ÂÖÉÁ¥†ÔºåÂà§Êñ≠oÊòØÂÖ∂‰∏≠ÁöÑÂì™‰∏™ÔºåÁÑ∂ÂêéÂà†Èô§ÈÇ£‰∏™ if (count &gt; 0) &#123; final Object[] items = this.items; for (int i = takeIndex, end = putIndex, to = (i &lt; end) ? end : items.length; ; i = 0, to = end) &#123; for (; i &lt; to; i++) if (o.equals(items[i])) &#123; removeAt(i); return true; &#125; if (to == end) break; &#125; &#125; return false; &#125; finally &#123; // Ëß£ÈîÅ lock.unlock(); &#125;&#125; poll()Âíåtake()‰∏§‰∏™ÊñπÊ≥ïÈÉΩË∞ÉÁî®‰∫Üdequeue()ÊñπÊ≥ïÔºåÊàë‰ª¨Â∞±Áúã‰∏ãdequeue()ÊòØÂ¶Ç‰ΩïÊù•ÂÆûÁé∞ÁöÑÔºö12345678910111213141516171819/** * Extracts element at current take position, advances, and signals. * Call only when holding lock. */private E dequeue() &#123; // assert lock.isHeldByCurrentThread(); // assert lock.getHoldCount() == 1; // assert items[takeIndex] != null; final Object[] items = this.items; @SuppressWarnings("unchecked") E e = (E) items[takeIndex]; items[takeIndex] = null; if (++takeIndex == items.length) takeIndex = 0; count--; if (itrs != null) itrs.elementDequeued(); notFull.signal(); return e;&#125; Âíå‰∏äÈù¢ÁöÑenqueue()ÊñπÊ≥ïÁ±ª‰ººÔºåÂÜçÊ¨°Â∞±‰∏çÂÜçËµòËø∞„ÄÇ ÈòªÂ°ûÈòüÂàóÁöÑÂ∫îÁî®ÂâçÈù¢ÊàëËØ¥ËøáÔºåÈòªÂ°ûÈòüÂàó‰∏ªË¶ÅÁî®Âú®Áîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÊ®°Âºè‰∏≠ÔºåÈÇ£‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•ÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ∞èdemo ËøôÊÆµ‰ª£Á†ÅÊù•Ëá™ÂàòÊúõËàíÊâÄËëó„ÄäAndroidËøõÈò∂‰πãÂÖâ„Äã Â¶ÇÊûú‰∏çÁî®ÈòªÂ°ûÈòüÂàóÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import java.util.PriorityQueue;public class Test &#123; private int queueSize = 10; private PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(queueSize); public static void main(String[] args) &#123; Test test = new Test(); Producer producer = test.new Producer(); Consumer consumer = test.new Consumer(); producer.start(); consumer.start(); &#125; class Consumer extends Thread &#123; @Override public void run() &#123; while (true) &#123; synchronized (queue) &#123; while (queue.size() == 0) &#123; try &#123; System.out.println("ÈòüÂàóÁ©∫ÔºåÁ≠âÂæÖÊï∞ÊçÆ"); queue.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); queue.notify(); &#125; &#125; // ÊØèÊ¨°ÁßªËµ∞ÈòüÈ¶ñÂÖÉÁ¥† queue.poll(); queue.notify(); &#125; &#125; &#125; &#125; private class Producer extends Thread &#123; @Override public void run() &#123; while (true) &#123; synchronized (queue) &#123; try &#123; System.out.println("ÈòüÂàóÊª°ÔºåÁ≠âÂæÖÊúâÁ©∫‰ΩôÁ©∫Èó¥"); queue.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); queue.notify(); &#125; &#125; // ÊØèÊ¨°ÊèíÂÖ•‰∏Ä‰∏™ÂÖÉÁ¥† queue.offer(1); queue.notify(); &#125; &#125; &#125;&#125; ‰ΩøÁî®ÈòªÂ°ûÈòüÂàóArrayBlockingQueueÔºö12345678910111213141516171819202122232425262728293031323334353637383940import java.util.concurrent.ArrayBlockingQueue;public class BlockingQueueTest &#123; private int queueSize = 10; private ArrayBlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(queueSize); public static void main(String[] args) &#123; BlockingQueueTest test = new BlockingQueueTest(); BlockingQueueTest.Producer producer = test.new Producer(); BlockingQueueTest.Consumer consumer = test.new Consumer(); producer.start(); consumer.start(); &#125; class Consumer extends Thread &#123; @Override public void run() &#123; while (true) &#123; try &#123; queue.take(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125; private class Producer extends Thread &#123; @Override public void run() &#123; while (true) &#123; try &#123; queue.put(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Java</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂÖ•Èó®1:KotlinÂíåJavaÂå∫Âà´Âü∫Á°ÄÁØá]]></title>
    <url>%2Fposts%2F343b01ae.html</url>
    <content type="text"><![CDATA[KoltinÂÖ•Èó®KotlinÁÆÄ‰ªã ÁßëÁâπÊûóÂ≤õ(–ö–æ—Ç–ª–∏–Ω)ÊòØ‰∏ÄÂ∫ß‰øÑÁΩóÊñØÁöÑÂ≤õÂ±ø,‰Ωç‰∫éÂú£ÂΩºÂæóÂ†°‰ª•Ë•øÁ∫¶30ÂÖ¨ÈáåÂ§Ñ,ÂΩ¢Áä∂Áã≠Èïø,‰∏úË•øÈïøÂ∫¶Á∫¶14ÂÖ¨Èáå,ÂçóÂåóÂÆΩÂ∫¶Á∫¶2ÂÖ¨Èáå,Èù¢ÁßØÊúâ16Âπ≥ÊñπÂÖ¨Èáå,ÊâºÂÆà‰øÑÂõΩËøõÂÖ•Ëä¨ÂÖ∞ÊπæÁöÑÊ∞¥ÈÅì„ÄÇÁßëÁâπÊûóÂ≤õ‰∏äÂª∫ÊúâÂñÄÁêÖÊñΩÂ°îÂæóÂ∏Ç,‰∏∫Âú£ÂΩºÂæóÂ†°‰∏ãËæñÁöÑÂüéÂ∏Ç„ÄÇ ËÄåÊàë‰ª¨ËôΩËØ¥ÁöÑkotlinÔºåÂ∞±ÊòØ‰∏ÄÈó®Ê†πÊçÆÂÆÉÂëΩÂêçÁöÑ‰∏ÄÁßçÁé∞‰ª£Á®ãÂ∫èËÆæËÆ°ËØ≠Ë®Ä„ÄÇKotlin ÊòØ‰∏Ä‰∏™Áî®‰∫éÁé∞‰ª£Â§öÂπ≥Âè∞Â∫îÁî®ÁöÑÈùôÊÄÅÁºñÁ®ãËØ≠Ë®ÄÔºåÁî± JetBrains ÂºÄÂèë„ÄÇKotlinÂèØ‰ª•ÁºñËØëÊàêJavaÂ≠óËäÇÁ†ÅÔºå‰πüÂèØ‰ª•ÁºñËØëJavaScriptÔºåÊñπ‰æøÂú®Ê≤°ÊúâJVMÁöÑËÆæÂ§á‰∏äËøêË°å„ÄÇKotlinÂ∑≤Ê≠£ÂºèÊàê‰∏∫AndroidÂÆòÊñπÊîØÊåÅÂºÄÂèëËØ≠Ë®Ä„ÄÇ ÂèòÈáèkotlinÂíåJavaÁöÑÊúÄÂü∫Êú¨ÁöÑÂå∫Âà´Â∞±ÊòØkotlin‰∏≠‰∏áÁâ©ÁöÜÂØπË±°ÔºåJava‰∏≠ËøòÂ≠òÂú®ÁùÄint„ÄÅfloatÁ≠âÂü∫Êú¨Á±ªÂûãÔºå‰ΩÜÊòØÂú®kotlin‰∏≠ÔºåÂÆÉÊääËøô‰∫õÈÉΩÂÆö‰πâÊàê‰∫ÜÂØπË±°ÔºåÁ±ª‰ºº‰∫éJava‰∏≠ÁöÑÂ∞ÅË£ÖÁ±ª ÂèòÈáèÁöÑÂ£∞Êòé‰∏äÈù¢ËØ¥‰∫ÜÔºåkotlin‰∏áÁâ©ÁöÜÂØπË±°ÔºåÊâÄ‰ª•ÊâÄÊúâÁöÑÂèòÈáè‰πüÈÉΩÊòØÂØπË±°„ÄÇÂú®kotlinÂÆö‰πâÂØπË±°ÂíåJavaÊúâÁÇπÂ∞èÂå∫Âà´„ÄÇkotlinÂÆö‰πâÂØπË±°ÁöÑÊ†ºÂºè‰∏∫ Â£∞ÊòéÁ±ªÂûã ÂèòÈáèÂêçÔºö ÂèòÈáèÁ±ªÂûã ÂÖ∂‰∏≠Ôºö Â£∞ÊòéÁ±ªÂûãÂàÜ‰∏∫valÂíåvar„ÄÇvalÊòØ‰∏çÂèØÂèòÁ±ªÂûãÔºåÁ±ª‰ºº‰∫éconstÔºåÂÆö‰πâÊó∂ÂøÖÈ°ªËµãÂÄºÔºåËµãÂÄºÂêé‰∏çËÉΩË¢´‰øÆÊîπ„ÄÇvarÊòØÂèØÂèòÁ±ªÂûã„ÄÇ ÂèòÈáèÂêçÂ∞±ÊòØ‰Ω†ÂÆö‰πâÁöÑËøô‰∏™ÂèòÈáèÁöÑÂêçÁß∞„ÄÇ ÂèòÈáèÁ±ªÂûãÂ∞±ÊòØ‰Ω†Ëøô‰∏™ÂèòÈáèÂØπÂ∫îÁöÑÁ±ªÁöÑÂêçÂ≠ó„ÄÇ Á±ªÂûãÊé®Êñ≠ÁúÅÂéªÂèòÈáèÁ±ªÂûãkotlinÈáåÈù¢Á±ª‰ººc++ÁöÑautoÁ±ªÂûãÔºåÂØπ‰∫éÂü∫Êú¨Á±ªÂûãÔºå‰Ω†ÂèØ‰ª•‰∏çÂÜôÂèòÈáèÁ±ªÂûãÔºåkotlin‰ºöËá™Âä®Â∏Æ‰Ω†Âà§Êñ≠„ÄÇ 1234567891011var a = 5println(a is Int)var b = ‚Äú123println(b is String)var c = 1.3println(c is Float)var d = trueprintln(d is Boolean) isÂÖ≥ÈîÆÂ≠óisÈ°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØÂà§Êñ≠Ëøô‰∏™ÂèòÈáèÊòØ‰∏çÊòØËøô‰∏™Á±ªÂûãÁöÑÂÆû‰æã„ÄÇ‰æãÂ≠êËßÅ‰∏ä„ÄÇ Êï∞Â≠óÁ±ªÂûã Á±ªÂûã ÂÆΩÂ∫¶(bit) Byte 8 Short 16 Int 32 Long 64 Float 32 Double 64 Ëøô‰∫õÁ±ªÂûãÈÉΩÁªßÊâøËá™NumberÂíåComparableÁ±ª„ÄÇ Â≠óÈù¢Â∏∏ÈáèÂÄº ÂçÅËøõÂà∂Ôºö123 ÂçÅÂÖ≠ËøõÂà∂Ôºö0x0f ‰∫åËøõÂà∂Ôºö0b0010 LongÁ±ªÂûãÔºö123L doubleÁ±ªÂûãÔºö123.4 FloatÁ±ªÂûãÔºö123.4fÊàñËÄÖ123.4F Êàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®‰∏ãÂàíÁ∫ø_Êù•Êñπ‰æøÊàë‰ª¨ÈòÖËØª 121_000_000 // 10000000xFF_EC // 0xFFEC ÊòæÁ§∫ËΩ¨Êç¢kotlin‰∏≠‰∏çÂèØÈöêÂºèËΩ¨Êç¢ÊØîÂ¶ÇJava ‰∏≠ 12int a = 2;long b = a; ‰ΩÜÊòØÂú®kotlin‰∏≠ 123var a : Int? = 2var b : Long? = a; // errorvar b : Long? = a.toLong() CharÁ±ªÂûãkotlin‰∏≠ÁöÑCharË°®Á§∫Â≠óÁ¨¶„ÄÇ‰ΩÜÊòØÂíåJava‰∏çÂêåÔºå‰ªñ‰∏çËÉΩÁõ¥Êé•ÂΩìASCIIÁ†ÅÂÄº„ÄÇ 12345fun check(c : Char) &#123; if (c == 1) &#123; // error &#125;&#125; BooleanÁ±ªÂûãkotlin‰∏≠ÁöÑÂ∏ÉÂ∞îÁ±ªÂûãÁî®BooleanÊù•Ë°®Á§∫Ôºå‰ªñÊúâ‰∏§‰∏™ÂÄºtrueÂíåfalse„ÄÇÁî®Ê≥ïÂíåJava‰∏ÄÊ†∑„ÄÇ StringÁ±ªÂûãÂíåJava‰∏ÄÊ†∑Ôºåkotlin‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤‰πüÊòØString„ÄÇ‰ΩÜÊòØkotlin‰∏≠StringÊòØ‰∏çÂèØÂèòÁöÑ„ÄÇÊâÄ‰ª•kotlin‰∏≠StringÂøÖÈ°ªÊòØvalÁ±ªÂûã„ÄÇÂêåÊó∂ÔºåStringÊòØfinal‰∏çÂèØÁªßÊâøÁöÑ„ÄÇ ArrayÁ±ªÂûãkotlin‰∏≠Êï∞ÁªÑÂøÖÈ°ª‰ΩøÁî®ArrayË°®Á§∫„ÄÇÂü∫Êú¨ÂÜôÊ≥ï val array: Array&lt;Á±ªÂûã&gt; = arrayOf(..) ‰æãÂ¶Ç12345678910111213141516171819202122232425262728293031/**Êï¥ÂûãIntÁöÑÊï∞ÁªÑ*/val arrayOfInt: IntArray = intArrayOf(1,3,5,7,9)/**Â≠óÁ¨¶CharÁ±ªÂûãÁöÑÊï∞ÁªÑ*/val arrayOfChar: CharArray = charArrayOf('H','e','l','l','o','W','o','r','l','d')/**Â≠óÁ¨¶‰∏≤StringÊï∞ÁªÑ*/val arrayOfString: Array&lt;String&gt; = arrayOf("Hello","World")fun main(args: Array&lt;String&gt;) &#123; //Êü•ÁúãÊúâÂ§öÂ∞ë‰∏™ÂÖÉÁ¥† println(arrayOfInt.size) //ÈÅçÂéÜÊï∞ÁªÑ for (char in arrayOfChar)&#123; println(char) &#125; //Ê†πÊçÆÊâÄÂºïËé∑ÂèñÊï∞ÊçÆ,Êï∞ÁªÑÊòØ‰ªé0ÂºÄÂßãÁöÑÔºåÁé∞Âú®Ëé∑ÂèñÁ¨¨‰∫å‰∏™‰∏ú‰∫¨Â§ßÂ≠¶ println(arrayOfUniversity[1]) //ÈáçÊñ∞ÁªôÊï∞ÁªÑËµãÂÄºÔºåÊó©Á®ªÁî∞Â§ßÂ≠¶ arrayOfUniversity[1] = University("Êó©Á®ªÁî∞Â§ßÂ≠¶") println(arrayOfUniversity[1]) //Â∞ÜcharËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤,ÈªòËÆ§ÊòØËá™Âä®Áî±ÈÄóÂè∑","ÂàÜÂâ≤ÁöÑÔºåËæìÂá∫H, e, l, l, o, W, o, r, l, d println(arrayOfChar.joinToString()) //Â¶ÇÊûúÊÉ≥Ë¶ÅËøûÊàêHelloWorld println(arrayOfChar.joinToString ("")) //Êï∞ÁªÑÁöÑÂàáÁâá,ËæìÂá∫3Ôºå5,ÁªìÂ∞æÈúÄË¶ÅarrayOfInt-1Ôºå‰∏çÁÑ∂‰ºöÊä•Á¥¢ÂºïË∂äÁïåÂºÇÂ∏∏ println(arrayOfInt.slice(1..2)) println(arrayOfInt.size)&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
        <tag>ËØ≠Ë®ÄÂü∫Á°Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin AnkoÂÖ•Èó®]]></title>
    <url>%2Fposts%2F62bb1dd7.html</url>
    <content type="text"><![CDATA[Kotlin AnkoÂÖ•Èó®ÁÆÄ‰ªãAnkoÁöÑÂÆòÁΩëÂ∞±ÊòØ‰ªñÁöÑGitHubÂú∞ÂùÄ https://github.com/Kotlin/anko ÂÆòÊñπÂØπAnkoÁöÑËß£ÈáäÊòØ AnkoÊòØ‰∏Ä‰∏™ Kotlin Â∫ìÔºåÂÆÉ‰ΩøAndroidÂ∫îÁî®Á®ãÂ∫èÂºÄÂèëÊõ¥Âø´Êõ¥ÂÆπÊòì„ÄÇÂÆÉ‰ΩøÊÇ®ÁöÑ‰ª£Á†ÅÊ∏ÖÊô∞ÊòìËØªÔºåËÆ©ÊÇ®ÂøòËÆ∞Android SDK for JavaÁöÑÁ≤óÁ≥ôËæπÁºò„ÄÇ ‰∏∫‰ªÄ‰πàËøôÊ†∑ËØ¥Âë¢ÔºüÊØîÊñπËØ¥Â¶ÇÊûú‰Ω†ÂÜôAndroidÔºå‰Ω†Âú®xml‰∏≠ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ButtonÔºå‰ªñÁöÑIDÊòØbutton_login„ÄÇÂ¶ÇÊûúÊòØJavaÔºö12setContentView(R.layout.activity_words_detail);Button button = findViewById(R.Id.button_login); ËÄåÂ¶ÇÊûú‰Ω†‰ΩøÁî®kotlinÁöÑËØùÔºå‰Ω†ÂèØ‰ª•Â∞±ÊåâÂ¶Ç‰∏ã‰ª£Á†ÅÂÜô123import kotlinx.android.synthetic.main.activity_kotlin_main.*...button_login.setText("Kotlin Android Extensions Êàë‰∏çÂ§™ÂñúÊ¨¢"); ËøôÊ†∑Á°ÆÂÆûÊØîJavaÊñπ‰æøÂ§ö‰∫ÜÔºå‰∏çÈúÄË¶ÅÂØπÊØè‰∏Ä‰∏™ÁªÑ‰ª∂ÈÉΩÂÆö‰πâÂÜçfindViewByIdÔºåÂèØ‰ª•Â∞±Áõ¥Êé•ËæìÂÖ•ÁªÑ‰ª∂ÁöÑidÁÑ∂ÂêéÂ∞±ËÉΩ‰ΩøÁî®‰∫Ü„ÄÇ‰ΩÜÊòØÊàë‰ª¨ËøòÊòØËßâÂæó‰∏çÂ§üÂïäÔºå‰∏∫‰ªÄ‰πàÊàë‰ª¨‰∏çËÉΩÂ∞±Áõ¥Êé•Âú®‰ª£Á†Å‰∏≠ÂÜôÂÖ•ÂêÑ‰∏™ÁªÑ‰ª∂Âë¢Ôºå‰∫éÊòØÔºåAnkoÊù•‰∫Ü„ÄÇ ÂØºÂÖ•AnkoAnkoÁî±Âá†ÈÉ®ÂàÜÁªÑÊàêÔºö Anko CommonsÔºö‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÂ∫ìÔºåÂåÖÂê´Áî®‰∫éLayoutsÔºåIntentÔºåLogÁ≠âÁöÑÂ∏ÆÂä©Á®ãÂ∫è; Anko LayoutsÔºö‰∏ÄÁßçÂø´ÈÄü‰∏îÁ±ªÂûãÂÆâÂÖ®ÁöÑÊñπÂºèÊù•ÁºñÂÜôÂä®ÊÄÅAndroidÂ∏ÉÂ±Ä; Anko SQLiteÔºöAndroid SQLiteÁöÑÊü•ËØ¢DSLÂíåËß£ÊûêÂô®ÈõÜÂêà; Anko CoroutinesÔºöÂü∫‰∫ékotlinx.coroutinesÂ∫ìÁöÑÂÆûÁî®Á®ãÂ∫è„ÄÇ ‰Ω†ÂèØ‰ª•Âú®appÁöÑbuild.gradle‰∏≠Ê∑ªÂä†12345678dependencies &#123; // Anko Layouts implementation "org.jetbrains.anko:anko-sdk25:$anko_version" // sdk15, sdk19, sdk21, sdk23 are also available implementation "org.jetbrains.anko:anko-appcompat-v7:$anko_version" // Coroutine listeners for Anko Layouts implementation "org.jetbrains.anko:anko-sdk25-coroutines:$anko_version" implementation "org.jetbrains.anko:anko-appcompat-v7-coroutines:$anko_version"&#125; Ëøô‰∏™‰æùËµñÂèØ‰ª•Áõ¥Êé•ÂØºÂÖ•ÊâÄÊúâÁöÑÂèØÁî®ÁâπÊÄßÔºàÂåÖÊã¨Commons, Layouts, SQLite)„ÄÇ ‰ΩøÁî®Anko layoutÂàõÂª∫ÁÆÄÂçïÂ∏ÉÂ±Ä‰ΩøÁî®AnkoÂàõÂª∫Â∏ÉÂ±ÄÂæàÁÆÄÂçïÔºö 12345678910111213141516171819class MainActivity : AppCompatActivity() &#123; override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) verticalLayout &#123; padding = dip(30) editText &#123; hint = "Name" textSize = 24f &#125; editText &#123; hint = "Password" textSize = 24f &#125; button("ÁôªÂΩï") &#123; textSize = 26f &#125; &#125; &#125;&#125; ‰Ω†Âè™ÈúÄË¶ÅÂú®Activity‰∏≠ÂÜôÂÖ•DSL‰ª£Á†ÅÂ∞±ËÉΩ‰ΩøÁî®ÂÆÉ„ÄÇ AnkoComponentÂ∞ΩÁÆ°Êàë‰ª¨Áé∞Âú®ÂèØ‰ª•Áõ¥Êé•Âú®Activity‰∏≠ÂÜôÂÖ•DSL‰ª£Á†ÅÔºå‰ΩÜÊòØÊàë‰ª¨ËøòÊòØËßâÂæóÊää‰ª£Á†ÅÂíåÂ∏ÉÂ±ÄÊñá‰ª∂ÊîæÂú®‰∏ÄËµ∑‰∏çÂ§™Â•ΩÔºåÂ∏åÊúõÊääActivityÂíåDSl‰ª£Á†ÅÊîæÂà∞‰∏§‰∏™‰∏çÂêåÁöÑÁ±ªÈáåÈù¢ÔºåÊâÄ‰ª•AnkoComponentÂ∞±Âá∫Êù•‰∫Ü„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ã12345678910111213141516171819202122232425class MainActivity : AppCompatActivity() &#123; override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) MainActivityUI().setContentView(this) &#125;&#125;class MainActivityUI : AnkoComponent&lt;MainActivity&gt; &#123; override fun createView(ui: AnkoContext&lt;MainActivity&gt;) = with(ui) &#123; verticalLayout &#123; padding = dip(30) editText &#123; hint = "Name" textSize = 24f &#125; editText &#123; hint = "Password" textSize = 24f &#125; button("ÁôªÂΩï") &#123; textSize = 26f &#125; &#125; &#125;&#125; ThemeÂú®AnkoÂ¶ÇÊûú‰Ω†ÊÉ≥ËÆæÁΩÆThemeÈúÄË¶Å‰ΩøÁî®themeable1234verticalLayout &#123; padding = dip(30) themedButton("ÁôªÈôÜ", theme = R.style.Base_TextAppearance_AppCompat_Button)&#125; LayoutParamsÂú®Anko‰∏≠‰πüÂèØ‰ª•‰ΩøÁî®LayoutParams„ÄÇÊØîÊñπËØ¥ÊàëÁé∞Âú®Ë¶ÅÊòæÁ§∫‰∏Ä‰∏™buttonÔºå‰∏ãÈù¢ÊòæÁ§∫‰∏Ä‰∏™ÂõæÁâá„ÄÇ Â¶ÇÊûú‰ΩøÁî®XML:12345678910111213141516171819202122&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical" tools:context=".MainActivity"&gt; &lt;TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Hello World!" android:gravity=center android:textSize="20sp" /&gt; &lt;ImageView android:layout_width="match_parent" android:layout_height="match_parent" android:background="@color/colorAccent" /&gt;&lt;/LinearLayout&gt; ‰ΩÜÊòØ‰ΩøÁî®Anko: 12345678910verticalLayout &#123; textView ("Hello World!") &#123; textSize = sp(12).toFloat() &#125;.lparams(height = wrapContent, width = wrapContent) &#123; horizontalGravity = Gravity.CENTER_HORIZONTAL &#125; imageView &#123; backgroundColor = Color.BLUE &#125;.lparams(height = matchParent, width = matchParent)&#125; Ê≥®ÊÑèÔºö horizontalMargin ÂêåÊó∂ËÆæÁΩÆ left Âíå right margins verticalMargin ÂêåÊó∂ËÆæÁΩÆ top Âíå bottom margin ÂêåÊó∂ËÆæÁΩÆ4‰∏™ÊñπÂêëÁöÑ margins ListenersÂú®Anko‰∏≠ËÆæÁΩÆListenersÈùûÂ∏∏ÁÆÄÂçïÔºåÊàë‰∏ãÈù¢‰ª•ButtonÁöÑOnClick‰∏æ‰æãÔºö12345button("ÁôªÂΩï") &#123; id = buttonLogin textSize = 26f onClick &#123; toast("OnClickLoginButton") &#125;&#125; ‰ΩøÁî®FragmentÂä†ËΩΩÂÖàÂàõÂª∫‰∏Ä‰∏™ActivityÔºåÊääFragmentÂä†ËøõÂéª123456789class AnkoFragmentActivity : AppCompatActivity() &#123; override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) linearLayout &#123; id = R.id.fragment_id supportFragmentManager.beginTransaction().replace(id, AnkoFragment.newInstance()).commit() &#125; &#125;&#125; ÁÑ∂ÂêéÂú®FragmentÁöÑonCreateView()‰∏≠Âä†ÂÖ•DSL‰ª£Á†ÅÔºåÁÑ∂ÂêéËøîÂõûViewÂç≥ÂèØ12345678910111213141516class AnkoFragment : Fragment() &#123; override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? &#123; // return inflater.inflate(R.layout.fragment_anko, container, false) return UI &#123; verticalLayout &#123; editText() button("OK") &#125; &#125;.view &#125; companion object &#123; fun newInstance(): AnkoFragment &#123; return AnkoFragment() &#125; &#125;&#125; ‰∏çË∂≥AnkoLayoutÁ°ÆÂÆûÊå∫Â•ΩÁöÑÔºåÂõ†‰∏∫‰ªñÊääUI‰ª£Á†ÅÈõÜÊàêÂà∞‰∫Ü‰ª£Á†ÅÊñá‰ª∂‰∏≠Ôºå‰∏çÁî®ÂÜçÂÉè‰ª•Ââç‰∏ÄÊ†∑ÂÜô‰∏Ä‰∏™ÁÇπÂáª‰∫ã‰ª∂ËøòÂæóÂÖàfindViewBuIdÔºåÁÑ∂ÂêéÂÜçsetOnClickListeners„ÄÇ‰ª£Á†ÅËÉΩÈùûÂ∏∏ÁÆÄÊ¥Å„ÄÇ ‰ΩÜÊòØAnkoLayoutËøòÊòØ‰∏çÂ§üÂÆåÁæéÔºåÊÑüËßâÂÜôËµ∑Êù•ËøòÊòØÊ≤°ÊúâXMLÈÇ£‰∏™È°∫ÊâãÔºàÂèØËÉΩÊòØÊàëÂÜôÊÉØ‰∫ÜXMLÔºåÂàöÂºÄÂßãÁî®AnkoËøò‰∏çÂ§üÁÜüÁªÉÔºâÔºåËÄå‰∏îAnkoËøòÊúâÂæàÂ§öÊéß‰ª∂ÈÉΩ‰∏çÊîØÊåÅ„ÄÇÊúÄÈáçË¶ÅÁöÑÊòØÔºå‰ªñÊ≤°ÊúâÂÆûÊó∂È¢ÑËßàÔºÅÔºÅÔºÅ Android StudioÈáåÈù¢Êúâ‰∏Ä‰∏™Âè´Anko SupportÁöÑÊèí‰ª∂ÔºåÂèØ‰ª•ÂÆûÁé∞ankoÁöÑÈ¢ÑËßàÔºå‰ΩÜÊòØ‰ªñÂøÖÈ°ªÊòØÂÖàÂ∞ÜÈ°πÁõÆÊûÑÂª∫‰∫ÜÂÜçÈ¢ÑËßàÁöÑÔºå‰∏çÁÆóÊòØÂÆûÊó∂È¢ÑËßà]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ±ª‰πãSharedPreferences]]></title>
    <url>%2Fposts%2F8a47fe84.html</url>
    <content type="text"><![CDATA[AndroidÁ±ª‰πãSharedPreferencesÁÆÄ‰ªãSharedPreferencesÊòØ‰∏Ä‰∏™ËΩªÈáèÁöÑÂ≠òÂÇ®Á±ªÔºåÁî®‰∫éÊää‰∏Ä‰∫õÂè™ÈúÄË¶ÅÂ∞ëÈáèÁÆÄÂçïÁ±ªÂûãÊï∞ÊçÆ‰øùÂ≠òÂà∞Êú¨Âú∞Ôºå‰æãÂ¶ÇÊêúÁ¥¢ÂéÜÂè≤„ÄÅÁî®Êà∑ËÆæÁΩÆÁ≠â„ÄÇ ‰ªñÂè™ÈÄÇÂêàÂ§ÑÁêÜÁÆÄÂçïÁöÑÊï∞ÊçÆÔºåÂ§ÑÁêÜÂ§™Ëøá‰∫éÂ∫ûÂ§ßÁöÑÊï∞ÊçÆ‰ºöÂáèÊÖ¢Á®ãÂ∫èËøêË°å„ÄÇ ‰ΩøÁî®Ê≠•È™§1. Â≠òÂÇ®Êï∞ÊçÆ ‰ΩøÁî®ActivityÁ±ªÁöÑgetSharedPreferences()ÊñπÊ≥ïËé∑ÂæóSharedPreferencesÂØπË±°ÔºåÂÖ∂‰∏≠Â≠òÂÇ®key-valueÁöÑÊñá‰ª∂ÂêçÁî±getSharedPreferences()ÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊåáÂÆö„ÄÇ ‰ΩøÁî®SharedPreferencesÊé•Âè£ÁöÑedit()Ëé∑ÂæóSharedPreferences.EditorÂØπË±°„ÄÇ ÈÄöËøáSharedPreferences.EditorÊé•Âè£ÁöÑputXxx()ÊñπÊ≥ï‰øùÂ≠òkey-valueÂØπÔºåÂÖ∂‰∏≠XxxË°®Á§∫‰∏çÂêåÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ‰æãÂ¶ÇÔºöÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑvalueÈúÄË¶ÅÁî®putStringÊñπÊ≥ï„ÄÇ ÈÄöËøáSharedPreferences.EditorÊé•Âè£ÁöÑcommit()ÊñπÊ≥ï‰øùÂ≠òkey-valueÂØπÔºåcommitÊñπÊ≥ïÁõ∏ÂΩì‰∫éÊï∞ÊçÆÂ∫ì‰∫ãÂä°‰∏≠ÁöÑÊèê‰∫§Êìç‰Ωú„ÄÇ 12345SharedPreferences sharedPreferences = getSharedPreferences("test", Context.MODE_PRIVATE);Editor editor = sharedPreferences.edit();//Ëé∑ÂèñÁºñËæëÂô®editor.putString("name", "Â∞èÊòé");editor.putInt("age", 24);editor.commit();//Êèê‰∫§‰øÆÊîπ 2. ËØªÂèñÊï∞ÊçÆ ‰ΩøÁî®ActivityÁ±ªÁöÑgetSharedPreferences()ÊñπÊ≥ïËé∑ÂæóSharedPreferencesÂØπË±°„ÄÇ ÈÄöËøáSharedPreferencesÂØπË±°ÁöÑgetXxx()ÊñπÊ≥ïÂæóÂà∞Êï∞ÊçÆ„ÄÇ 1234SharedPreferences sharedPreferences= getSharedPreferences("test", Activity.MODE_PRIVATE);// ‰ΩøÁî®getStringÊñπÊ≥ïËé∑ÂæóvalueÔºåÊ≥®ÊÑèÁ¨¨2‰∏™ÂèÇÊï∞ÊòØvalueÁöÑÈªòËÆ§ÂÄº String name =sharedPreferences.getString("name", "");int age =sharedPreferences.getInt("age", 0); SharedPreferencesÁöÑÂõõÁßçÊ®°Âºè 1234Context.MODE_PRIVATEÔºö‰∏∫ÈªòËÆ§Êìç‰ΩúÊ®°Âºè,‰ª£Ë°®ËØ•Êñá‰ª∂ÊòØÁßÅÊúâÊï∞ÊçÆ,Âè™ËÉΩË¢´Â∫îÁî®Êú¨Ë∫´ËÆøÈóÆ,Âú®ËØ•Ê®°Âºè‰∏ã,ÂÜôÂÖ•ÁöÑÂÜÖÂÆπ‰ºöË¶ÜÁõñÂéüÊñá‰ª∂ÁöÑÂÜÖÂÆπContext.MODE_APPENDÔºöÊ®°Âºè‰ºöÊ£ÄÊü•Êñá‰ª∂ÊòØÂê¶Â≠òÂú®,Â≠òÂú®Â∞±ÂæÄÊñá‰ª∂ËøΩÂä†ÂÜÖÂÆπ,Âê¶ÂàôÂ∞±ÂàõÂª∫Êñ∞Êñá‰ª∂.Context.MODE_WORLD_READABLEÔºöË°®Á§∫ÂΩìÂâçÊñá‰ª∂ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñÂ∫îÁî®ËØªÂèñ.Context.MODE_WORLD_WRITEABLEÔºöË°®Á§∫ÂΩìÂâçÊñá‰ª∂ÂèØ‰ª•Ë¢´ÂÖ∂‰ªñÂ∫îÁî®ÂÜôÂÖ•.]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidView‰πãPopupWindow]]></title>
    <url>%2Fposts%2F1900f7eb.html</url>
    <content type="text"><![CDATA[AndroidView‰πãPopupWindowÂõ†‰∏∫È°πÁõÆ‰∏≠ÊúâÂæàÂ§öÂú∞ÊñπÈÉΩÈúÄË¶Å‰ΩøÁî®PopupWindowÔºåÊâÄ‰ª•ÁâπÂà´Êü•‰∫Ü‰∏Ä‰∏ãÔºåÂÅö‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊÄªÁªìÔºåËøá‰∏§Â§©Â∞±Âä†Âà∞È°πÁõÆ‰∏≠Âéª„ÄÇ PopupWindowPopupWindowÔºåÈ°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØ‰∏Ä‰∏™Áî®Êù•ÊòæÁ§∫ÂºπÁ™óÁöÑÁªÑ‰ª∂„ÄÇ ÂàõÂª∫Ê≠•È™§ ÂàõÂª∫PopupWindowÂÆû‰æã ËÆæÁΩÆ‰∏Ä‰∫õÂü∫Êú¨ÂèÇÊï∞ ÊòæÁ§∫PopupWindowÊûÑÈÄ†ÊñπÊ≥ï 1PopupWindow window = new PopupWindow(View contentView, int width, int height, boolean focusable); Ëøô‰∏™ÊñπÊ≥ïÊúâÂõõ‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÁî®‰∫éPopupWindow‰∏≠ÁöÑViewÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØPopupWindowÁöÑÂÆΩÂ∫¶ÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÊòØPopupWindowÁöÑÈ´òÂ∫¶ÔºåÁ¨¨Âõõ‰∏™ÂèÇÊï∞ÊåáÂÆöPopupWindowËÉΩÂê¶Ëé∑ÂæóÁÑ¶ÁÇπ„ÄÇ Á§∫‰æã‰ª£Á†Å 12View contentView = LayoutInflater.from(MainActivity.this).inflate(R.layout.popuplayout, null);PopupWindwo window = PopupWindow (contentView, ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT, true); Âü∫Êú¨ÊñπÊ≥ï window.setBackgroundDrawable(Drawable background); ËÆæÁΩÆPopupWindowÁöÑËÉåÊôØ window.setOutsideTouchable(boolean touchable); ËÆæÁΩÆPopupWindowÊòØÂê¶ËÉΩÂìçÂ∫îÂ§ñÈÉ®ÁÇπÂáª‰∫ã‰ª∂ window.setTouchable(boolean touchable); ËÆæÁΩÆPopupWindowÊòØÂê¶ËÉΩÂìçÂ∫îÁÇπÂáª‰∫ã‰ª∂Âè™ÊúâÂêåÊó∂ËÆæÁΩÆPopupWindowÁöÑËÉåÊôØÂíåÂèØ‰ª•ÂìçÂ∫îÂ§ñÈÉ®ÁÇπÂáª‰∫ã‰ª∂ÔºåÂÆÉÊâçËÉΩ‚ÄúÁúüÊ≠£‚ÄùÂìçÂ∫îÂ§ñÈÉ®ÁÇπÂáª‰∫ã‰ª∂„ÄÇ ÊòæÁ§∫PopupWindow window.showAtLocation(View parent, int gravity, int x, int y); Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØPopupWindowÁöÑÁà∂ViewÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØPopupWindowÁõ∏ÂØπÁà∂ViewÁöÑ‰ΩçÁΩÆÔºåÁ¨¨‰∏âÂíåÁ¨¨Âõõ‰∏™ÂèÇÊï∞ÂàÜÂà´ÊòØPopupWindowÁõ∏ÂØπÁà∂ViewÁöÑx„ÄÅyÂÅèÁßª window.showAsDropDown(View anchor, int xoff, int yoff, int gravity); Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØPopupWindowÁöÑÈîöÁÇπÔºåÁ¨¨‰∫åÂíåÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÂàÜÂà´ÊòØPopupWindowÁõ∏ÂØπÈîöÁÇπÁöÑx„ÄÅyÂÅèÁßª ‰∏∫PopupWindowÊ∑ªÂä†Âä®Áîª ËøõÂÖ•Êó∂Âä®ÁîªÔºö(context_menu_enter.xml) 1234567891011&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;set xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;translate android:duration="@android:integer/config_shortAnimTime" android:fromXDelta="0" android:fromYDelta="100%p" android:interpolator="@android:anim/accelerate_decelerate_interpolator" android:toXDelta="0" android:toYDelta="0"/&gt; &lt;/set&gt; ÈÄÄÂá∫Êó∂Âä®ÁîªÔºö(context_menu_exit.xml) 123456789101112&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;set xmlns:android="http://schemas.android.com/apk/res/android" &gt; &lt;translate android:duration="@android:integer/config_shortAnimTime" android:fromXDelta="0" android:fromYDelta="0" android:interpolator="@android:anim/accelerate_decelerate_interpolator" android:toXDelta="0" android:toYDelta="100%p" /&gt; &lt;/set&gt; ÁîüÊàêstyle 1234&lt;style name=&quot;contextMenuAnim&quot; parent=&quot;@android:style/Animation.Activity&quot;&gt; &lt;item name=&quot;android:windowEnterAnimation&quot;&gt;@anim/context_menu_enter&lt;/item&gt; &lt;item name=&quot;android:windowExitAnimation&quot;&gt;@anim/context_menu_exit&lt;/item&gt;&lt;/style&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
</search>
